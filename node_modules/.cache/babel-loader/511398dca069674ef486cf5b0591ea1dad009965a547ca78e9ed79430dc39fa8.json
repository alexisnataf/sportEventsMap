{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/events/m_swipe.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport registerEmitter from \"../../common/core/events/core/emitter_registrator\";\nimport GestureEmitter from \"../../common/core/events/gesture/emitter.gesture\";\nimport { eventData } from \"../../common/core/events/utils/index\";\nimport { getHeight, getWidth } from \"../../core/utils/size\";\nconst SWIPE_START_EVENT = \"dxswipestart\";\nconst SWIPE_EVENT = \"dxswipe\";\nconst SWIPE_END_EVENT = \"dxswipeend\";\nconst HorizontalStrategy = {\n  defaultItemSizeFunc() {\n    return getWidth(this.getElement());\n  },\n  getBounds() {\n    return [this._maxLeftOffset, this._maxRightOffset];\n  },\n  calcOffsetRatio(e) {\n    const endEventData = eventData(e);\n    return (endEventData.x - (this._savedEventData && this._savedEventData.x || 0)) / this._itemSizeFunc().call(this, e);\n  },\n  isFastSwipe(e) {\n    const endEventData = eventData(e);\n    return this.FAST_SWIPE_SPEED_LIMIT * Math.abs(endEventData.x - this._tickData.x) >= endEventData.time - this._tickData.time;\n  }\n};\nconst VerticalStrategy = {\n  defaultItemSizeFunc() {\n    return getHeight(this.getElement());\n  },\n  getBounds() {\n    return [this._maxTopOffset, this._maxBottomOffset];\n  },\n  calcOffsetRatio(e) {\n    const endEventData = eventData(e);\n    return (endEventData.y - (this._savedEventData && this._savedEventData.y || 0)) / this._itemSizeFunc().call(this, e);\n  },\n  isFastSwipe(e) {\n    const endEventData = eventData(e);\n    return this.FAST_SWIPE_SPEED_LIMIT * Math.abs(endEventData.y - this._tickData.y) >= endEventData.time - this._tickData.time;\n  }\n};\nconst STRATEGIES = {\n  horizontal: HorizontalStrategy,\n  vertical: VerticalStrategy\n};\nconst SwipeEmitter = GestureEmitter.inherit({\n  TICK_INTERVAL: 300,\n  FAST_SWIPE_SPEED_LIMIT: 10,\n  ctor(element) {\n    this.callBase(element);\n    this.direction = \"horizontal\";\n    this.elastic = true;\n  },\n  _getStrategy() {\n    return STRATEGIES[this.direction];\n  },\n  _defaultItemSizeFunc() {\n    return this._getStrategy().defaultItemSizeFunc.call(this);\n  },\n  _itemSizeFunc() {\n    return this.itemSizeFunc || this._defaultItemSizeFunc;\n  },\n  _init(e) {\n    this._tickData = eventData(e);\n  },\n  _start(e) {\n    this._savedEventData = eventData(e);\n    e = this._fireEvent(\"dxswipestart\", e);\n    if (!e.cancel) {\n      this._maxLeftOffset = e.maxLeftOffset;\n      this._maxRightOffset = e.maxRightOffset;\n      this._maxTopOffset = e.maxTopOffset;\n      this._maxBottomOffset = e.maxBottomOffset;\n    }\n  },\n  _move(e) {\n    const strategy = this._getStrategy();\n    const moveEventData = eventData(e);\n    let offset = strategy.calcOffsetRatio.call(this, e);\n    offset = this._fitOffset(offset, this.elastic);\n    if (moveEventData.time - this._tickData.time > this.TICK_INTERVAL) {\n      this._tickData = moveEventData;\n    }\n    this._fireEvent(\"dxswipe\", e, {\n      offset: offset\n    });\n    if (false !== e.cancelable) {\n      e.preventDefault();\n    }\n  },\n  _end(e) {\n    const strategy = this._getStrategy();\n    const offsetRatio = strategy.calcOffsetRatio.call(this, e);\n    const isFast = strategy.isFastSwipe.call(this, e);\n    let startOffset = offsetRatio;\n    let targetOffset = this._calcTargetOffset(offsetRatio, isFast);\n    startOffset = this._fitOffset(startOffset, this.elastic);\n    targetOffset = this._fitOffset(targetOffset, false);\n    this._fireEvent(\"dxswipeend\", e, {\n      offset: startOffset,\n      targetOffset: targetOffset\n    });\n  },\n  _fitOffset(offset, elastic) {\n    const strategy = this._getStrategy();\n    const bounds = strategy.getBounds.call(this);\n    if (offset < -bounds[0]) {\n      return elastic ? (-2 * bounds[0] + offset) / 3 : -bounds[0];\n    }\n    if (offset > bounds[1]) {\n      return elastic ? (2 * bounds[1] + offset) / 3 : bounds[1];\n    }\n    return offset;\n  },\n  _calcTargetOffset(offsetRatio, isFast) {\n    let result;\n    if (isFast) {\n      result = Math.ceil(Math.abs(offsetRatio));\n      if (offsetRatio < 0) {\n        result = -result;\n      }\n    } else {\n      result = Math.round(offsetRatio);\n    }\n    return result;\n  }\n});\nregisterEmitter({\n  emitter: SwipeEmitter,\n  events: [\"dxswipestart\", \"dxswipe\", \"dxswipeend\"]\n});\nexport { SWIPE_END_EVENT as end, SWIPE_START_EVENT as start, SWIPE_EVENT as swipe };","map":{"version":3,"names":["registerEmitter","GestureEmitter","eventData","getHeight","getWidth","SWIPE_START_EVENT","SWIPE_EVENT","SWIPE_END_EVENT","HorizontalStrategy","defaultItemSizeFunc","getElement","getBounds","_maxLeftOffset","_maxRightOffset","calcOffsetRatio","e","endEventData","x","_savedEventData","_itemSizeFunc","call","isFastSwipe","FAST_SWIPE_SPEED_LIMIT","Math","abs","_tickData","time","VerticalStrategy","_maxTopOffset","_maxBottomOffset","y","STRATEGIES","horizontal","vertical","SwipeEmitter","inherit","TICK_INTERVAL","ctor","element","callBase","direction","elastic","_getStrategy","_defaultItemSizeFunc","itemSizeFunc","_init","_start","_fireEvent","cancel","maxLeftOffset","maxRightOffset","maxTopOffset","maxBottomOffset","_move","strategy","moveEventData","offset","_fitOffset","cancelable","preventDefault","_end","offsetRatio","isFast","startOffset","targetOffset","_calcTargetOffset","bounds","result","ceil","round","emitter","events","end","start","swipe"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/events/m_swipe.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/events/m_swipe.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport registerEmitter from \"../../common/core/events/core/emitter_registrator\";\r\nimport GestureEmitter from \"../../common/core/events/gesture/emitter.gesture\";\r\nimport {\r\n    eventData\r\n} from \"../../common/core/events/utils/index\";\r\nimport {\r\n    getHeight,\r\n    getWidth\r\n} from \"../../core/utils/size\";\r\nconst SWIPE_START_EVENT = \"dxswipestart\";\r\nconst SWIPE_EVENT = \"dxswipe\";\r\nconst SWIPE_END_EVENT = \"dxswipeend\";\r\nconst HorizontalStrategy = {\r\n    defaultItemSizeFunc() {\r\n        return getWidth(this.getElement())\r\n    },\r\n    getBounds() {\r\n        return [this._maxLeftOffset, this._maxRightOffset]\r\n    },\r\n    calcOffsetRatio(e) {\r\n        const endEventData = eventData(e);\r\n        return (endEventData.x - (this._savedEventData && this._savedEventData.x || 0)) / this._itemSizeFunc().call(this, e)\r\n    },\r\n    isFastSwipe(e) {\r\n        const endEventData = eventData(e);\r\n        return this.FAST_SWIPE_SPEED_LIMIT * Math.abs(endEventData.x - this._tickData.x) >= endEventData.time - this._tickData.time\r\n    }\r\n};\r\nconst VerticalStrategy = {\r\n    defaultItemSizeFunc() {\r\n        return getHeight(this.getElement())\r\n    },\r\n    getBounds() {\r\n        return [this._maxTopOffset, this._maxBottomOffset]\r\n    },\r\n    calcOffsetRatio(e) {\r\n        const endEventData = eventData(e);\r\n        return (endEventData.y - (this._savedEventData && this._savedEventData.y || 0)) / this._itemSizeFunc().call(this, e)\r\n    },\r\n    isFastSwipe(e) {\r\n        const endEventData = eventData(e);\r\n        return this.FAST_SWIPE_SPEED_LIMIT * Math.abs(endEventData.y - this._tickData.y) >= endEventData.time - this._tickData.time\r\n    }\r\n};\r\nconst STRATEGIES = {\r\n    horizontal: HorizontalStrategy,\r\n    vertical: VerticalStrategy\r\n};\r\nconst SwipeEmitter = GestureEmitter.inherit({\r\n    TICK_INTERVAL: 300,\r\n    FAST_SWIPE_SPEED_LIMIT: 10,\r\n    ctor(element) {\r\n        this.callBase(element);\r\n        this.direction = \"horizontal\";\r\n        this.elastic = true\r\n    },\r\n    _getStrategy() {\r\n        return STRATEGIES[this.direction]\r\n    },\r\n    _defaultItemSizeFunc() {\r\n        return this._getStrategy().defaultItemSizeFunc.call(this)\r\n    },\r\n    _itemSizeFunc() {\r\n        return this.itemSizeFunc || this._defaultItemSizeFunc\r\n    },\r\n    _init(e) {\r\n        this._tickData = eventData(e)\r\n    },\r\n    _start(e) {\r\n        this._savedEventData = eventData(e);\r\n        e = this._fireEvent(\"dxswipestart\", e);\r\n        if (!e.cancel) {\r\n            this._maxLeftOffset = e.maxLeftOffset;\r\n            this._maxRightOffset = e.maxRightOffset;\r\n            this._maxTopOffset = e.maxTopOffset;\r\n            this._maxBottomOffset = e.maxBottomOffset\r\n        }\r\n    },\r\n    _move(e) {\r\n        const strategy = this._getStrategy();\r\n        const moveEventData = eventData(e);\r\n        let offset = strategy.calcOffsetRatio.call(this, e);\r\n        offset = this._fitOffset(offset, this.elastic);\r\n        if (moveEventData.time - this._tickData.time > this.TICK_INTERVAL) {\r\n            this._tickData = moveEventData\r\n        }\r\n        this._fireEvent(\"dxswipe\", e, {\r\n            offset: offset\r\n        });\r\n        if (false !== e.cancelable) {\r\n            e.preventDefault()\r\n        }\r\n    },\r\n    _end(e) {\r\n        const strategy = this._getStrategy();\r\n        const offsetRatio = strategy.calcOffsetRatio.call(this, e);\r\n        const isFast = strategy.isFastSwipe.call(this, e);\r\n        let startOffset = offsetRatio;\r\n        let targetOffset = this._calcTargetOffset(offsetRatio, isFast);\r\n        startOffset = this._fitOffset(startOffset, this.elastic);\r\n        targetOffset = this._fitOffset(targetOffset, false);\r\n        this._fireEvent(\"dxswipeend\", e, {\r\n            offset: startOffset,\r\n            targetOffset: targetOffset\r\n        })\r\n    },\r\n    _fitOffset(offset, elastic) {\r\n        const strategy = this._getStrategy();\r\n        const bounds = strategy.getBounds.call(this);\r\n        if (offset < -bounds[0]) {\r\n            return elastic ? (-2 * bounds[0] + offset) / 3 : -bounds[0]\r\n        }\r\n        if (offset > bounds[1]) {\r\n            return elastic ? (2 * bounds[1] + offset) / 3 : bounds[1]\r\n        }\r\n        return offset\r\n    },\r\n    _calcTargetOffset(offsetRatio, isFast) {\r\n        let result;\r\n        if (isFast) {\r\n            result = Math.ceil(Math.abs(offsetRatio));\r\n            if (offsetRatio < 0) {\r\n                result = -result\r\n            }\r\n        } else {\r\n            result = Math.round(offsetRatio)\r\n        }\r\n        return result\r\n    }\r\n});\r\nregisterEmitter({\r\n    emitter: SwipeEmitter,\r\n    events: [\"dxswipestart\", \"dxswipe\", \"dxswipeend\"]\r\n});\r\nexport {\r\n    SWIPE_END_EVENT as end, SWIPE_START_EVENT as start, SWIPE_EVENT as swipe\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}