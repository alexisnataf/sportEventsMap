{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/data/data_source/m_utils.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"items\"];\nimport ArrayStore from \"../../../common/data/array_store\";\nimport { CustomStore } from \"../../../common/data/custom_store\";\nimport { normalizeSortingInfo } from \"../../../common/data/utils\";\nimport ajaxUtils from \"../../../core/utils/ajax\";\nimport { extend } from \"../../../core/utils/extend\";\nimport { each, map } from \"../../../core/utils/iterator\";\nimport { isPlainObject } from \"../../../core/utils/type\";\nimport Store from \"../../../data/abstract_store\";\nexport const CANCELED_TOKEN = \"canceled\";\nexport const isPending = deferred => \"pending\" === deferred.state();\nexport const normalizeStoreLoadOptionAccessorArguments = originalArguments => {\n  switch (originalArguments.length) {\n    case 0:\n      return;\n    case 1:\n      return originalArguments[0];\n  }\n  return [].slice.call(originalArguments);\n};\nconst mapGroup = (group, level, mapper) => map(group, item => {\n  const restItem = _objectWithoutPropertiesLoose(item, _excluded);\n  return _extends({}, restItem, {\n    items: mapRecursive(item.items, level - 1, mapper)\n  });\n});\nconst mapRecursive = (items, level, mapper) => {\n  if (!Array.isArray(items)) {\n    return items;\n  }\n  return level ? mapGroup(items, level, mapper) : map(items, mapper);\n};\nexport const mapDataRespectingGrouping = (items, mapper, groupInfo) => {\n  const level = groupInfo ? normalizeSortingInfo(groupInfo).length : 0;\n  return mapRecursive(items, level, mapper);\n};\nexport const normalizeLoadResult = (data, extra) => {\n  var _data;\n  if (null !== (_data = data) && void 0 !== _data && _data.data) {\n    extra = data;\n    data = data.data;\n  }\n  if (!Array.isArray(data)) {\n    data = [data];\n  }\n  return {\n    data: data,\n    extra: extra\n  };\n};\nconst createCustomStoreFromLoadFunc = options => {\n  const storeConfig = {};\n  each([\"useDefaultSearch\", \"key\", \"load\", \"loadMode\", \"cacheRawData\", \"byKey\", \"lookup\", \"totalCount\", \"insert\", \"update\", \"remove\"], function () {\n    storeConfig[this] = options[this];\n    delete options[this];\n  });\n  return new CustomStore(storeConfig);\n};\nconst createStoreFromConfig = storeConfig => {\n  const alias = storeConfig.type;\n  delete storeConfig.type;\n  return Store.create(alias, storeConfig);\n};\nconst createCustomStoreFromUrl = (url, normalizationOptions) => new CustomStore({\n  load: () => ajaxUtils.sendRequest({\n    url: url,\n    dataType: \"json\"\n  }),\n  loadMode: null === normalizationOptions || void 0 === normalizationOptions ? void 0 : normalizationOptions.fromUrlLoadMode\n});\nexport const normalizeDataSourceOptions = (options, normalizationOptions) => {\n  let store;\n  if (\"string\" === typeof options) {\n    options = {\n      paginate: false,\n      store: createCustomStoreFromUrl(options, normalizationOptions)\n    };\n  }\n  if (void 0 === options) {\n    options = [];\n  }\n  if (Array.isArray(options) || options instanceof Store) {\n    options = {\n      store: options\n    };\n  } else {\n    options = extend({}, options);\n  }\n  if (void 0 === options.store) {\n    options.store = [];\n  }\n  store = options.store;\n  if (\"load\" in options) {\n    store = createCustomStoreFromLoadFunc(options);\n  } else if (Array.isArray(store)) {\n    store = new ArrayStore(store);\n  } else if (isPlainObject(store)) {\n    store = createStoreFromConfig(extend({}, store));\n  }\n  options.store = store;\n  return options;\n};","map":{"version":3,"names":["_extends","_objectWithoutPropertiesLoose","_excluded","ArrayStore","CustomStore","normalizeSortingInfo","ajaxUtils","extend","each","map","isPlainObject","Store","CANCELED_TOKEN","isPending","deferred","state","normalizeStoreLoadOptionAccessorArguments","originalArguments","length","slice","call","mapGroup","group","level","mapper","item","restItem","items","mapRecursive","Array","isArray","mapDataRespectingGrouping","groupInfo","normalizeLoadResult","data","extra","_data","createCustomStoreFromLoadFunc","options","storeConfig","createStoreFromConfig","alias","type","create","createCustomStoreFromUrl","url","normalizationOptions","load","sendRequest","dataType","loadMode","fromUrlLoadMode","normalizeDataSourceOptions","store","paginate"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/data/data_source/m_utils.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/data/data_source/m_utils.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nconst _excluded = [\"items\"];\r\nimport ArrayStore from \"../../../common/data/array_store\";\r\nimport {\r\n    CustomStore\r\n} from \"../../../common/data/custom_store\";\r\nimport {\r\n    normalizeSortingInfo\r\n} from \"../../../common/data/utils\";\r\nimport ajaxUtils from \"../../../core/utils/ajax\";\r\nimport {\r\n    extend\r\n} from \"../../../core/utils/extend\";\r\nimport {\r\n    each,\r\n    map\r\n} from \"../../../core/utils/iterator\";\r\nimport {\r\n    isPlainObject\r\n} from \"../../../core/utils/type\";\r\nimport Store from \"../../../data/abstract_store\";\r\nexport const CANCELED_TOKEN = \"canceled\";\r\nexport const isPending = deferred => \"pending\" === deferred.state();\r\nexport const normalizeStoreLoadOptionAccessorArguments = originalArguments => {\r\n    switch (originalArguments.length) {\r\n        case 0:\r\n            return;\r\n        case 1:\r\n            return originalArguments[0]\r\n    }\r\n    return [].slice.call(originalArguments)\r\n};\r\nconst mapGroup = (group, level, mapper) => map(group, (item => {\r\n    const restItem = _objectWithoutPropertiesLoose(item, _excluded);\r\n    return _extends({}, restItem, {\r\n        items: mapRecursive(item.items, level - 1, mapper)\r\n    })\r\n}));\r\nconst mapRecursive = (items, level, mapper) => {\r\n    if (!Array.isArray(items)) {\r\n        return items\r\n    }\r\n    return level ? mapGroup(items, level, mapper) : map(items, mapper)\r\n};\r\nexport const mapDataRespectingGrouping = (items, mapper, groupInfo) => {\r\n    const level = groupInfo ? normalizeSortingInfo(groupInfo).length : 0;\r\n    return mapRecursive(items, level, mapper)\r\n};\r\nexport const normalizeLoadResult = (data, extra) => {\r\n    var _data;\r\n    if (null !== (_data = data) && void 0 !== _data && _data.data) {\r\n        extra = data;\r\n        data = data.data\r\n    }\r\n    if (!Array.isArray(data)) {\r\n        data = [data]\r\n    }\r\n    return {\r\n        data: data,\r\n        extra: extra\r\n    }\r\n};\r\nconst createCustomStoreFromLoadFunc = options => {\r\n    const storeConfig = {};\r\n    each([\"useDefaultSearch\", \"key\", \"load\", \"loadMode\", \"cacheRawData\", \"byKey\", \"lookup\", \"totalCount\", \"insert\", \"update\", \"remove\"], (function() {\r\n        storeConfig[this] = options[this];\r\n        delete options[this]\r\n    }));\r\n    return new CustomStore(storeConfig)\r\n};\r\nconst createStoreFromConfig = storeConfig => {\r\n    const alias = storeConfig.type;\r\n    delete storeConfig.type;\r\n    return Store.create(alias, storeConfig)\r\n};\r\nconst createCustomStoreFromUrl = (url, normalizationOptions) => new CustomStore({\r\n    load: () => ajaxUtils.sendRequest({\r\n        url: url,\r\n        dataType: \"json\"\r\n    }),\r\n    loadMode: null === normalizationOptions || void 0 === normalizationOptions ? void 0 : normalizationOptions.fromUrlLoadMode\r\n});\r\nexport const normalizeDataSourceOptions = (options, normalizationOptions) => {\r\n    let store;\r\n    if (\"string\" === typeof options) {\r\n        options = {\r\n            paginate: false,\r\n            store: createCustomStoreFromUrl(options, normalizationOptions)\r\n        }\r\n    }\r\n    if (void 0 === options) {\r\n        options = []\r\n    }\r\n    if (Array.isArray(options) || options instanceof Store) {\r\n        options = {\r\n            store: options\r\n        }\r\n    } else {\r\n        options = extend({}, options)\r\n    }\r\n    if (void 0 === options.store) {\r\n        options.store = []\r\n    }\r\n    store = options.store;\r\n    if (\"load\" in options) {\r\n        store = createCustomStoreFromLoadFunc(options)\r\n    } else if (Array.isArray(store)) {\r\n        store = new ArrayStore(store)\r\n    } else if (isPlainObject(store)) {\r\n        store = createStoreFromConfig(extend({}, store))\r\n    }\r\n    options.store = store;\r\n    return options\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,QAAQ,MAAM,oCAAoC;AACzD,OAAOC,6BAA6B,MAAM,yDAAyD;AACnG,MAAMC,SAAS,GAAG,CAAC,OAAO,CAAC;AAC3B,OAAOC,UAAU,MAAM,kCAAkC;AACzD,SACIC,WAAW,QACR,mCAAmC;AAC1C,SACIC,oBAAoB,QACjB,4BAA4B;AACnC,OAAOC,SAAS,MAAM,0BAA0B;AAChD,SACIC,MAAM,QACH,4BAA4B;AACnC,SACIC,IAAI,EACJC,GAAG,QACA,8BAA8B;AACrC,SACIC,aAAa,QACV,0BAA0B;AACjC,OAAOC,KAAK,MAAM,8BAA8B;AAChD,OAAO,MAAMC,cAAc,GAAG,UAAU;AACxC,OAAO,MAAMC,SAAS,GAAGC,QAAQ,IAAI,SAAS,KAAKA,QAAQ,CAACC,KAAK,CAAC,CAAC;AACnE,OAAO,MAAMC,yCAAyC,GAAGC,iBAAiB,IAAI;EAC1E,QAAQA,iBAAiB,CAACC,MAAM;IAC5B,KAAK,CAAC;MACF;IACJ,KAAK,CAAC;MACF,OAAOD,iBAAiB,CAAC,CAAC,CAAC;EACnC;EACA,OAAO,EAAE,CAACE,KAAK,CAACC,IAAI,CAACH,iBAAiB,CAAC;AAC3C,CAAC;AACD,MAAMI,QAAQ,GAAGA,CAACC,KAAK,EAAEC,KAAK,EAAEC,MAAM,KAAKf,GAAG,CAACa,KAAK,EAAGG,IAAI,IAAI;EAC3D,MAAMC,QAAQ,GAAGzB,6BAA6B,CAACwB,IAAI,EAAEvB,SAAS,CAAC;EAC/D,OAAOF,QAAQ,CAAC,CAAC,CAAC,EAAE0B,QAAQ,EAAE;IAC1BC,KAAK,EAAEC,YAAY,CAACH,IAAI,CAACE,KAAK,EAAEJ,KAAK,GAAG,CAAC,EAAEC,MAAM;EACrD,CAAC,CAAC;AACN,CAAE,CAAC;AACH,MAAMI,YAAY,GAAGA,CAACD,KAAK,EAAEJ,KAAK,EAAEC,MAAM,KAAK;EAC3C,IAAI,CAACK,KAAK,CAACC,OAAO,CAACH,KAAK,CAAC,EAAE;IACvB,OAAOA,KAAK;EAChB;EACA,OAAOJ,KAAK,GAAGF,QAAQ,CAACM,KAAK,EAAEJ,KAAK,EAAEC,MAAM,CAAC,GAAGf,GAAG,CAACkB,KAAK,EAAEH,MAAM,CAAC;AACtE,CAAC;AACD,OAAO,MAAMO,yBAAyB,GAAGA,CAACJ,KAAK,EAAEH,MAAM,EAAEQ,SAAS,KAAK;EACnE,MAAMT,KAAK,GAAGS,SAAS,GAAG3B,oBAAoB,CAAC2B,SAAS,CAAC,CAACd,MAAM,GAAG,CAAC;EACpE,OAAOU,YAAY,CAACD,KAAK,EAAEJ,KAAK,EAAEC,MAAM,CAAC;AAC7C,CAAC;AACD,OAAO,MAAMS,mBAAmB,GAAGA,CAACC,IAAI,EAAEC,KAAK,KAAK;EAChD,IAAIC,KAAK;EACT,IAAI,IAAI,MAAMA,KAAK,GAAGF,IAAI,CAAC,IAAI,KAAK,CAAC,KAAKE,KAAK,IAAIA,KAAK,CAACF,IAAI,EAAE;IAC3DC,KAAK,GAAGD,IAAI;IACZA,IAAI,GAAGA,IAAI,CAACA,IAAI;EACpB;EACA,IAAI,CAACL,KAAK,CAACC,OAAO,CAACI,IAAI,CAAC,EAAE;IACtBA,IAAI,GAAG,CAACA,IAAI,CAAC;EACjB;EACA,OAAO;IACHA,IAAI,EAAEA,IAAI;IACVC,KAAK,EAAEA;EACX,CAAC;AACL,CAAC;AACD,MAAME,6BAA6B,GAAGC,OAAO,IAAI;EAC7C,MAAMC,WAAW,GAAG,CAAC,CAAC;EACtB/B,IAAI,CAAC,CAAC,kBAAkB,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,cAAc,EAAE,OAAO,EAAE,QAAQ,EAAE,YAAY,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAAG,YAAW;IAC7I+B,WAAW,CAAC,IAAI,CAAC,GAAGD,OAAO,CAAC,IAAI,CAAC;IACjC,OAAOA,OAAO,CAAC,IAAI,CAAC;EACxB,CAAE,CAAC;EACH,OAAO,IAAIlC,WAAW,CAACmC,WAAW,CAAC;AACvC,CAAC;AACD,MAAMC,qBAAqB,GAAGD,WAAW,IAAI;EACzC,MAAME,KAAK,GAAGF,WAAW,CAACG,IAAI;EAC9B,OAAOH,WAAW,CAACG,IAAI;EACvB,OAAO/B,KAAK,CAACgC,MAAM,CAACF,KAAK,EAAEF,WAAW,CAAC;AAC3C,CAAC;AACD,MAAMK,wBAAwB,GAAGA,CAACC,GAAG,EAAEC,oBAAoB,KAAK,IAAI1C,WAAW,CAAC;EAC5E2C,IAAI,EAAEA,CAAA,KAAMzC,SAAS,CAAC0C,WAAW,CAAC;IAC9BH,GAAG,EAAEA,GAAG;IACRI,QAAQ,EAAE;EACd,CAAC,CAAC;EACFC,QAAQ,EAAE,IAAI,KAAKJ,oBAAoB,IAAI,KAAK,CAAC,KAAKA,oBAAoB,GAAG,KAAK,CAAC,GAAGA,oBAAoB,CAACK;AAC/G,CAAC,CAAC;AACF,OAAO,MAAMC,0BAA0B,GAAGA,CAACd,OAAO,EAAEQ,oBAAoB,KAAK;EACzE,IAAIO,KAAK;EACT,IAAI,QAAQ,KAAK,OAAOf,OAAO,EAAE;IAC7BA,OAAO,GAAG;MACNgB,QAAQ,EAAE,KAAK;MACfD,KAAK,EAAET,wBAAwB,CAACN,OAAO,EAAEQ,oBAAoB;IACjE,CAAC;EACL;EACA,IAAI,KAAK,CAAC,KAAKR,OAAO,EAAE;IACpBA,OAAO,GAAG,EAAE;EAChB;EACA,IAAIT,KAAK,CAACC,OAAO,CAACQ,OAAO,CAAC,IAAIA,OAAO,YAAY3B,KAAK,EAAE;IACpD2B,OAAO,GAAG;MACNe,KAAK,EAAEf;IACX,CAAC;EACL,CAAC,MAAM;IACHA,OAAO,GAAG/B,MAAM,CAAC,CAAC,CAAC,EAAE+B,OAAO,CAAC;EACjC;EACA,IAAI,KAAK,CAAC,KAAKA,OAAO,CAACe,KAAK,EAAE;IAC1Bf,OAAO,CAACe,KAAK,GAAG,EAAE;EACtB;EACAA,KAAK,GAAGf,OAAO,CAACe,KAAK;EACrB,IAAI,MAAM,IAAIf,OAAO,EAAE;IACnBe,KAAK,GAAGhB,6BAA6B,CAACC,OAAO,CAAC;EAClD,CAAC,MAAM,IAAIT,KAAK,CAACC,OAAO,CAACuB,KAAK,CAAC,EAAE;IAC7BA,KAAK,GAAG,IAAIlD,UAAU,CAACkD,KAAK,CAAC;EACjC,CAAC,MAAM,IAAI3C,aAAa,CAAC2C,KAAK,CAAC,EAAE;IAC7BA,KAAK,GAAGb,qBAAqB,CAACjC,MAAM,CAAC,CAAC,CAAC,EAAE8C,KAAK,CAAC,CAAC;EACpD;EACAf,OAAO,CAACe,KAAK,GAAGA,KAAK;EACrB,OAAOf,OAAO;AAClB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}