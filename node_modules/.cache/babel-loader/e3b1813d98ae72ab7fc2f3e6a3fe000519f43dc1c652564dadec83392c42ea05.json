{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/ui/scroll_view/utils/get_element_location_internal.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { titleize } from \"../../../../core/utils/inflector\";\nimport { DIRECTION_VERTICAL, SCROLLABLE_CONTENT_CLASS } from \"../consts\";\nimport { getRelativeOffset } from \"./get_relative_offset\";\nexport function getElementLocationInternal(targetElement, direction, containerElement, scrollOffset, offset) {\n  let scrollableContentClass = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : SCROLLABLE_CONTENT_CLASS;\n  const additionalOffset = _extends({\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0\n  }, offset);\n  const isVertical = direction === DIRECTION_VERTICAL;\n  const prop = isVertical ? \"top\" : \"left\";\n  const inverseProp = isVertical ? \"bottom\" : \"right\";\n  const dimension = isVertical ? \"height\" : \"width\";\n  const containerOffsetSize = containerElement[`offset${titleize(dimension)}`];\n  const containerClientSize = containerElement[`client${titleize(dimension)}`];\n  const containerSize = containerElement.getBoundingClientRect()[dimension];\n  const elementSize = targetElement.getBoundingClientRect()[dimension];\n  let scale = 1;\n  if (Math.abs(containerSize - containerOffsetSize) > 1) {\n    scale = containerSize / containerOffsetSize;\n  }\n  const relativeElementOffset = getRelativeOffset(scrollableContentClass, targetElement)[prop] / scale;\n  const containerScrollOffset = scrollOffset[prop];\n  const relativeStartOffset = containerScrollOffset - relativeElementOffset + additionalOffset[prop];\n  const relativeEndOffset = containerScrollOffset - relativeElementOffset - elementSize / scale + containerClientSize - additionalOffset[inverseProp];\n  if (relativeStartOffset <= 0 && relativeEndOffset >= 0) {\n    return containerScrollOffset;\n  }\n  return containerScrollOffset - (Math.abs(relativeStartOffset) > Math.abs(relativeEndOffset) ? relativeEndOffset : relativeStartOffset);\n}","map":{"version":3,"names":["_extends","titleize","DIRECTION_VERTICAL","SCROLLABLE_CONTENT_CLASS","getRelativeOffset","getElementLocationInternal","targetElement","direction","containerElement","scrollOffset","offset","scrollableContentClass","arguments","length","additionalOffset","top","left","right","bottom","isVertical","prop","inverseProp","dimension","containerOffsetSize","containerClientSize","containerSize","getBoundingClientRect","elementSize","scale","Math","abs","relativeElementOffset","containerScrollOffset","relativeStartOffset","relativeEndOffset"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/ui/scroll_view/utils/get_element_location_internal.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/ui/scroll_view/utils/get_element_location_internal.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport {\r\n    titleize\r\n} from \"../../../../core/utils/inflector\";\r\nimport {\r\n    DIRECTION_VERTICAL,\r\n    SCROLLABLE_CONTENT_CLASS\r\n} from \"../consts\";\r\nimport {\r\n    getRelativeOffset\r\n} from \"./get_relative_offset\";\r\nexport function getElementLocationInternal(targetElement, direction, containerElement, scrollOffset, offset) {\r\n    let scrollableContentClass = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : SCROLLABLE_CONTENT_CLASS;\r\n    const additionalOffset = _extends({\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0\r\n    }, offset);\r\n    const isVertical = direction === DIRECTION_VERTICAL;\r\n    const prop = isVertical ? \"top\" : \"left\";\r\n    const inverseProp = isVertical ? \"bottom\" : \"right\";\r\n    const dimension = isVertical ? \"height\" : \"width\";\r\n    const containerOffsetSize = containerElement[`offset${titleize(dimension)}`];\r\n    const containerClientSize = containerElement[`client${titleize(dimension)}`];\r\n    const containerSize = containerElement.getBoundingClientRect()[dimension];\r\n    const elementSize = targetElement.getBoundingClientRect()[dimension];\r\n    let scale = 1;\r\n    if (Math.abs(containerSize - containerOffsetSize) > 1) {\r\n        scale = containerSize / containerOffsetSize\r\n    }\r\n    const relativeElementOffset = getRelativeOffset(scrollableContentClass, targetElement)[prop] / scale;\r\n    const containerScrollOffset = scrollOffset[prop];\r\n    const relativeStartOffset = containerScrollOffset - relativeElementOffset + additionalOffset[prop];\r\n    const relativeEndOffset = containerScrollOffset - relativeElementOffset - elementSize / scale + containerClientSize - additionalOffset[inverseProp];\r\n    if (relativeStartOffset <= 0 && relativeEndOffset >= 0) {\r\n        return containerScrollOffset\r\n    }\r\n    return containerScrollOffset - (Math.abs(relativeStartOffset) > Math.abs(relativeEndOffset) ? relativeEndOffset : relativeStartOffset)\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,QAAQ,MAAM,oCAAoC;AACzD,SACIC,QAAQ,QACL,kCAAkC;AACzC,SACIC,kBAAkB,EAClBC,wBAAwB,QACrB,WAAW;AAClB,SACIC,iBAAiB,QACd,uBAAuB;AAC9B,OAAO,SAASC,0BAA0BA,CAACC,aAAa,EAAEC,SAAS,EAAEC,gBAAgB,EAAEC,YAAY,EAAEC,MAAM,EAAE;EACzG,IAAIC,sBAAsB,GAAGC,SAAS,CAACC,MAAM,GAAG,CAAC,IAAI,KAAK,CAAC,KAAKD,SAAS,CAAC,CAAC,CAAC,GAAGA,SAAS,CAAC,CAAC,CAAC,GAAGT,wBAAwB;EACtH,MAAMW,gBAAgB,GAAGd,QAAQ,CAAC;IAC9Be,GAAG,EAAE,CAAC;IACNC,IAAI,EAAE,CAAC;IACPC,KAAK,EAAE,CAAC;IACRC,MAAM,EAAE;EACZ,CAAC,EAAER,MAAM,CAAC;EACV,MAAMS,UAAU,GAAGZ,SAAS,KAAKL,kBAAkB;EACnD,MAAMkB,IAAI,GAAGD,UAAU,GAAG,KAAK,GAAG,MAAM;EACxC,MAAME,WAAW,GAAGF,UAAU,GAAG,QAAQ,GAAG,OAAO;EACnD,MAAMG,SAAS,GAAGH,UAAU,GAAG,QAAQ,GAAG,OAAO;EACjD,MAAMI,mBAAmB,GAAGf,gBAAgB,CAAC,SAASP,QAAQ,CAACqB,SAAS,CAAC,EAAE,CAAC;EAC5E,MAAME,mBAAmB,GAAGhB,gBAAgB,CAAC,SAASP,QAAQ,CAACqB,SAAS,CAAC,EAAE,CAAC;EAC5E,MAAMG,aAAa,GAAGjB,gBAAgB,CAACkB,qBAAqB,CAAC,CAAC,CAACJ,SAAS,CAAC;EACzE,MAAMK,WAAW,GAAGrB,aAAa,CAACoB,qBAAqB,CAAC,CAAC,CAACJ,SAAS,CAAC;EACpE,IAAIM,KAAK,GAAG,CAAC;EACb,IAAIC,IAAI,CAACC,GAAG,CAACL,aAAa,GAAGF,mBAAmB,CAAC,GAAG,CAAC,EAAE;IACnDK,KAAK,GAAGH,aAAa,GAAGF,mBAAmB;EAC/C;EACA,MAAMQ,qBAAqB,GAAG3B,iBAAiB,CAACO,sBAAsB,EAAEL,aAAa,CAAC,CAACc,IAAI,CAAC,GAAGQ,KAAK;EACpG,MAAMI,qBAAqB,GAAGvB,YAAY,CAACW,IAAI,CAAC;EAChD,MAAMa,mBAAmB,GAAGD,qBAAqB,GAAGD,qBAAqB,GAAGjB,gBAAgB,CAACM,IAAI,CAAC;EAClG,MAAMc,iBAAiB,GAAGF,qBAAqB,GAAGD,qBAAqB,GAAGJ,WAAW,GAAGC,KAAK,GAAGJ,mBAAmB,GAAGV,gBAAgB,CAACO,WAAW,CAAC;EACnJ,IAAIY,mBAAmB,IAAI,CAAC,IAAIC,iBAAiB,IAAI,CAAC,EAAE;IACpD,OAAOF,qBAAqB;EAChC;EACA,OAAOA,qBAAqB,IAAIH,IAAI,CAACC,GAAG,CAACG,mBAAmB,CAAC,GAAGJ,IAAI,CAACC,GAAG,CAACI,iBAAiB,CAAC,GAAGA,iBAAiB,GAAGD,mBAAmB,CAAC;AAC1I","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}