{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/events/pointer/m_observer.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport domAdapter from \"../../../core/dom_adapter\";\nimport { each } from \"../../../core/utils/iterator\";\nimport readyCallbacks from \"../../../core/utils/ready_callbacks\";\nconst addEventsListener = function (events, handler) {\n  readyCallbacks.add(() => {\n    events.split(\" \").forEach(event => {\n      domAdapter.listen(domAdapter.getDocument(), event, handler, true);\n    });\n  });\n};\nconst Observer = function (eventMap, pointerEquals, onPointerAdding) {\n  onPointerAdding = onPointerAdding || function () {};\n  let pointers = [];\n  const getPointerIndex = function (e) {\n    let index = -1;\n    each(pointers, (i, pointer) => {\n      if (!pointerEquals(e, pointer)) {\n        return true;\n      }\n      index = i;\n      return false;\n    });\n    return index;\n  };\n  const removePointer = function (e) {\n    const index = getPointerIndex(e);\n    if (index > -1) {\n      pointers.splice(index, 1);\n    }\n  };\n  addEventsListener(eventMap.dxpointerdown, function (e) {\n    if (-1 === getPointerIndex(e)) {\n      onPointerAdding(e);\n      pointers.push(e);\n    }\n  });\n  addEventsListener(eventMap.dxpointermove, function (e) {\n    pointers[getPointerIndex(e)] = e;\n  });\n  addEventsListener(eventMap.dxpointerup, removePointer);\n  addEventsListener(eventMap.dxpointercancel, removePointer);\n  this.pointers = function () {\n    return pointers;\n  };\n  this.reset = function () {\n    pointers = [];\n  };\n};\nexport default Observer;","map":{"version":3,"names":["domAdapter","each","readyCallbacks","addEventsListener","events","handler","add","split","forEach","event","listen","getDocument","Observer","eventMap","pointerEquals","onPointerAdding","pointers","getPointerIndex","e","index","i","pointer","removePointer","splice","dxpointerdown","push","dxpointermove","dxpointerup","dxpointercancel","reset"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/events/pointer/m_observer.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/events/pointer/m_observer.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport domAdapter from \"../../../core/dom_adapter\";\r\nimport {\r\n    each\r\n} from \"../../../core/utils/iterator\";\r\nimport readyCallbacks from \"../../../core/utils/ready_callbacks\";\r\nconst addEventsListener = function(events, handler) {\r\n    readyCallbacks.add((() => {\r\n        events.split(\" \").forEach((event => {\r\n            domAdapter.listen(domAdapter.getDocument(), event, handler, true)\r\n        }))\r\n    }))\r\n};\r\nconst Observer = function(eventMap, pointerEquals, onPointerAdding) {\r\n    onPointerAdding = onPointerAdding || function() {};\r\n    let pointers = [];\r\n    const getPointerIndex = function(e) {\r\n        let index = -1;\r\n        each(pointers, ((i, pointer) => {\r\n            if (!pointerEquals(e, pointer)) {\r\n                return true\r\n            }\r\n            index = i;\r\n            return false\r\n        }));\r\n        return index\r\n    };\r\n    const removePointer = function(e) {\r\n        const index = getPointerIndex(e);\r\n        if (index > -1) {\r\n            pointers.splice(index, 1)\r\n        }\r\n    };\r\n    addEventsListener(eventMap.dxpointerdown, (function(e) {\r\n        if (-1 === getPointerIndex(e)) {\r\n            onPointerAdding(e);\r\n            pointers.push(e)\r\n        }\r\n    }));\r\n    addEventsListener(eventMap.dxpointermove, (function(e) {\r\n        pointers[getPointerIndex(e)] = e\r\n    }));\r\n    addEventsListener(eventMap.dxpointerup, removePointer);\r\n    addEventsListener(eventMap.dxpointercancel, removePointer);\r\n    this.pointers = function() {\r\n        return pointers\r\n    };\r\n    this.reset = function() {\r\n        pointers = []\r\n    }\r\n};\r\nexport default Observer;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,UAAU,MAAM,2BAA2B;AAClD,SACIC,IAAI,QACD,8BAA8B;AACrC,OAAOC,cAAc,MAAM,qCAAqC;AAChE,MAAMC,iBAAiB,GAAG,SAAAA,CAASC,MAAM,EAAEC,OAAO,EAAE;EAChDH,cAAc,CAACI,GAAG,CAAE,MAAM;IACtBF,MAAM,CAACG,KAAK,CAAC,GAAG,CAAC,CAACC,OAAO,CAAEC,KAAK,IAAI;MAChCT,UAAU,CAACU,MAAM,CAACV,UAAU,CAACW,WAAW,CAAC,CAAC,EAAEF,KAAK,EAAEJ,OAAO,EAAE,IAAI,CAAC;IACrE,CAAE,CAAC;EACP,CAAE,CAAC;AACP,CAAC;AACD,MAAMO,QAAQ,GAAG,SAAAA,CAASC,QAAQ,EAAEC,aAAa,EAAEC,eAAe,EAAE;EAChEA,eAAe,GAAGA,eAAe,IAAI,YAAW,CAAC,CAAC;EAClD,IAAIC,QAAQ,GAAG,EAAE;EACjB,MAAMC,eAAe,GAAG,SAAAA,CAASC,CAAC,EAAE;IAChC,IAAIC,KAAK,GAAG,CAAC,CAAC;IACdlB,IAAI,CAACe,QAAQ,EAAG,CAACI,CAAC,EAAEC,OAAO,KAAK;MAC5B,IAAI,CAACP,aAAa,CAACI,CAAC,EAAEG,OAAO,CAAC,EAAE;QAC5B,OAAO,IAAI;MACf;MACAF,KAAK,GAAGC,CAAC;MACT,OAAO,KAAK;IAChB,CAAE,CAAC;IACH,OAAOD,KAAK;EAChB,CAAC;EACD,MAAMG,aAAa,GAAG,SAAAA,CAASJ,CAAC,EAAE;IAC9B,MAAMC,KAAK,GAAGF,eAAe,CAACC,CAAC,CAAC;IAChC,IAAIC,KAAK,GAAG,CAAC,CAAC,EAAE;MACZH,QAAQ,CAACO,MAAM,CAACJ,KAAK,EAAE,CAAC,CAAC;IAC7B;EACJ,CAAC;EACDhB,iBAAiB,CAACU,QAAQ,CAACW,aAAa,EAAG,UAASN,CAAC,EAAE;IACnD,IAAI,CAAC,CAAC,KAAKD,eAAe,CAACC,CAAC,CAAC,EAAE;MAC3BH,eAAe,CAACG,CAAC,CAAC;MAClBF,QAAQ,CAACS,IAAI,CAACP,CAAC,CAAC;IACpB;EACJ,CAAE,CAAC;EACHf,iBAAiB,CAACU,QAAQ,CAACa,aAAa,EAAG,UAASR,CAAC,EAAE;IACnDF,QAAQ,CAACC,eAAe,CAACC,CAAC,CAAC,CAAC,GAAGA,CAAC;EACpC,CAAE,CAAC;EACHf,iBAAiB,CAACU,QAAQ,CAACc,WAAW,EAAEL,aAAa,CAAC;EACtDnB,iBAAiB,CAACU,QAAQ,CAACe,eAAe,EAAEN,aAAa,CAAC;EAC1D,IAAI,CAACN,QAAQ,GAAG,YAAW;IACvB,OAAOA,QAAQ;EACnB,CAAC;EACD,IAAI,CAACa,KAAK,GAAG,YAAW;IACpBb,QAAQ,GAAG,EAAE;EACjB,CAAC;AACL,CAAC;AACD,eAAeJ,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}