{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/events/m_click.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { cancelAnimationFrame, requestAnimationFrame } from \"../../animation/frame\";\nimport Emitter from \"../../common/core/events/core/emitter\";\nimport registerEmitter from \"../../common/core/events/core/emitter_registrator\";\nimport eventsEngine from \"../../common/core/events/core/events_engine\";\nimport pointerEvents from \"../../common/core/events/pointer\";\nimport { subscribeNodesDisposing, unsubscribeNodesDisposing } from \"../../common/core/events/utils/event_nodes_disposing\";\nimport { getEventTarget } from \"../../common/core/events/utils/event_target\";\nimport { addNamespace, fireEvent } from \"../../common/core/events/utils/index\";\nimport domAdapter from \"../../core/dom_adapter\";\nimport $ from \"../../core/renderer\";\nimport devices from \"../core/m_devices\";\nimport domUtils from \"../core/utils/m_dom\";\nconst CLICK_EVENT_NAME = \"dxclick\";\nconst misc = {\n  requestAnimationFrame: requestAnimationFrame,\n  cancelAnimationFrame: cancelAnimationFrame\n};\nlet prevented = null;\nlet lastFiredEvent = null;\nconst onNodeRemove = () => {\n  lastFiredEvent = null;\n};\nconst clickHandler = function (e) {\n  const {\n    originalEvent: originalEvent\n  } = e;\n  const eventAlreadyFired = lastFiredEvent === originalEvent || originalEvent && originalEvent.DXCLICK_FIRED;\n  const leftButton = !e.which || 1 === e.which;\n  if (leftButton && !prevented && !eventAlreadyFired) {\n    if (originalEvent) {\n      originalEvent.DXCLICK_FIRED = true;\n    }\n    unsubscribeNodesDisposing(lastFiredEvent, onNodeRemove);\n    lastFiredEvent = originalEvent;\n    subscribeNodesDisposing(lastFiredEvent, onNodeRemove);\n    fireEvent({\n      type: \"dxclick\",\n      originalEvent: e\n    });\n  }\n};\nconst ClickEmitter = Emitter.inherit({\n  ctor(element) {\n    this.callBase(element);\n    eventsEngine.on(this.getElement(), \"click\", clickHandler);\n  },\n  start() {\n    prevented = null;\n  },\n  cancel() {\n    prevented = true;\n  },\n  dispose() {\n    eventsEngine.off(this.getElement(), \"click\", clickHandler);\n  }\n});\n!function () {\n  const desktopDevice = devices.real().generic;\n  if (!desktopDevice) {\n    let startTarget = null;\n    let blurPrevented = false;\n    const isInput = function (element) {\n      return $(element).is(\"input, textarea, select, button ,:focus, :focus *\");\n    };\n    const pointerDownHandler = function (e) {\n      startTarget = e.target;\n      blurPrevented = e.isDefaultPrevented();\n    };\n    const getTarget = function (e) {\n      const target = getEventTarget(e);\n      return $(target);\n    };\n    const clickHandler = function (e) {\n      const $target = getTarget(e);\n      if (!blurPrevented && startTarget && !$target.is(startTarget) && !$(startTarget).is(\"label\") && isInput($target)) {\n        domUtils.resetActiveElement();\n      }\n      startTarget = null;\n      blurPrevented = false;\n    };\n    const NATIVE_CLICK_FIXER_NAMESPACE = \"NATIVE_CLICK_FIXER\";\n    const document = domAdapter.getDocument();\n    eventsEngine.subscribeGlobal(document, addNamespace(pointerEvents.down, NATIVE_CLICK_FIXER_NAMESPACE), pointerDownHandler);\n    eventsEngine.subscribeGlobal(document, addNamespace(\"click\", NATIVE_CLICK_FIXER_NAMESPACE), clickHandler);\n  }\n}();\nregisterEmitter({\n  emitter: ClickEmitter,\n  bubble: true,\n  events: [\"dxclick\"]\n});\nexport { CLICK_EVENT_NAME as name };","map":{"version":3,"names":["cancelAnimationFrame","requestAnimationFrame","Emitter","registerEmitter","eventsEngine","pointerEvents","subscribeNodesDisposing","unsubscribeNodesDisposing","getEventTarget","addNamespace","fireEvent","domAdapter","$","devices","domUtils","CLICK_EVENT_NAME","misc","prevented","lastFiredEvent","onNodeRemove","clickHandler","e","originalEvent","eventAlreadyFired","DXCLICK_FIRED","leftButton","which","type","ClickEmitter","inherit","ctor","element","callBase","on","getElement","start","cancel","dispose","off","desktopDevice","real","generic","startTarget","blurPrevented","isInput","is","pointerDownHandler","target","isDefaultPrevented","getTarget","$target","resetActiveElement","NATIVE_CLICK_FIXER_NAMESPACE","document","getDocument","subscribeGlobal","down","emitter","bubble","events","name"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/events/m_click.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/events/m_click.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    cancelAnimationFrame,\r\n    requestAnimationFrame\r\n} from \"../../animation/frame\";\r\nimport Emitter from \"../../common/core/events/core/emitter\";\r\nimport registerEmitter from \"../../common/core/events/core/emitter_registrator\";\r\nimport eventsEngine from \"../../common/core/events/core/events_engine\";\r\nimport pointerEvents from \"../../common/core/events/pointer\";\r\nimport {\r\n    subscribeNodesDisposing,\r\n    unsubscribeNodesDisposing\r\n} from \"../../common/core/events/utils/event_nodes_disposing\";\r\nimport {\r\n    getEventTarget\r\n} from \"../../common/core/events/utils/event_target\";\r\nimport {\r\n    addNamespace,\r\n    fireEvent\r\n} from \"../../common/core/events/utils/index\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport $ from \"../../core/renderer\";\r\nimport devices from \"../core/m_devices\";\r\nimport domUtils from \"../core/utils/m_dom\";\r\nconst CLICK_EVENT_NAME = \"dxclick\";\r\nconst misc = {\r\n    requestAnimationFrame: requestAnimationFrame,\r\n    cancelAnimationFrame: cancelAnimationFrame\r\n};\r\nlet prevented = null;\r\nlet lastFiredEvent = null;\r\nconst onNodeRemove = () => {\r\n    lastFiredEvent = null\r\n};\r\nconst clickHandler = function(e) {\r\n    const {\r\n        originalEvent: originalEvent\r\n    } = e;\r\n    const eventAlreadyFired = lastFiredEvent === originalEvent || originalEvent && originalEvent.DXCLICK_FIRED;\r\n    const leftButton = !e.which || 1 === e.which;\r\n    if (leftButton && !prevented && !eventAlreadyFired) {\r\n        if (originalEvent) {\r\n            originalEvent.DXCLICK_FIRED = true\r\n        }\r\n        unsubscribeNodesDisposing(lastFiredEvent, onNodeRemove);\r\n        lastFiredEvent = originalEvent;\r\n        subscribeNodesDisposing(lastFiredEvent, onNodeRemove);\r\n        fireEvent({\r\n            type: \"dxclick\",\r\n            originalEvent: e\r\n        })\r\n    }\r\n};\r\nconst ClickEmitter = Emitter.inherit({\r\n    ctor(element) {\r\n        this.callBase(element);\r\n        eventsEngine.on(this.getElement(), \"click\", clickHandler)\r\n    },\r\n    start() {\r\n        prevented = null\r\n    },\r\n    cancel() {\r\n        prevented = true\r\n    },\r\n    dispose() {\r\n        eventsEngine.off(this.getElement(), \"click\", clickHandler)\r\n    }\r\n});\r\n! function() {\r\n    const desktopDevice = devices.real().generic;\r\n    if (!desktopDevice) {\r\n        let startTarget = null;\r\n        let blurPrevented = false;\r\n        const isInput = function(element) {\r\n            return $(element).is(\"input, textarea, select, button ,:focus, :focus *\")\r\n        };\r\n        const pointerDownHandler = function(e) {\r\n            startTarget = e.target;\r\n            blurPrevented = e.isDefaultPrevented()\r\n        };\r\n        const getTarget = function(e) {\r\n            const target = getEventTarget(e);\r\n            return $(target)\r\n        };\r\n        const clickHandler = function(e) {\r\n            const $target = getTarget(e);\r\n            if (!blurPrevented && startTarget && !$target.is(startTarget) && !$(startTarget).is(\"label\") && isInput($target)) {\r\n                domUtils.resetActiveElement()\r\n            }\r\n            startTarget = null;\r\n            blurPrevented = false\r\n        };\r\n        const NATIVE_CLICK_FIXER_NAMESPACE = \"NATIVE_CLICK_FIXER\";\r\n        const document = domAdapter.getDocument();\r\n        eventsEngine.subscribeGlobal(document, addNamespace(pointerEvents.down, NATIVE_CLICK_FIXER_NAMESPACE), pointerDownHandler);\r\n        eventsEngine.subscribeGlobal(document, addNamespace(\"click\", NATIVE_CLICK_FIXER_NAMESPACE), clickHandler)\r\n    }\r\n}();\r\nregisterEmitter({\r\n    emitter: ClickEmitter,\r\n    bubble: true,\r\n    events: [\"dxclick\"]\r\n});\r\nexport {\r\n    CLICK_EVENT_NAME as name\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}