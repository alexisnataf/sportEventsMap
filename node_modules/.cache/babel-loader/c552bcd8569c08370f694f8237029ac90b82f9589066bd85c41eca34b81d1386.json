{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/ui/date_box/m_date_box.strategy.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport eventsEngine from \"../../../common/core/events/core/events_engine\";\nimport dateLocalization from \"../../../common/core/localization/date\";\nimport Class from \"../../../core/class\";\nimport $ from \"../../../core/renderer\";\nclass DateBoxStrategy extends Class.inherit({}) {\n  ctor(dateBox) {\n    this.dateBox = dateBox;\n  }\n  widgetOption(option) {\n    var _this$_widget;\n    return null === (_this$_widget = this._widget) || void 0 === _this$_widget ? void 0 : _this$_widget.option.apply(this._widget, arguments);\n  }\n  _renderWidget(element) {\n    element = element || $(\"<div>\");\n    this._widget = this._createWidget(element);\n    this._widget.$element().appendTo(this._getWidgetContainer());\n  }\n  _createWidget(element) {\n    const widgetName = this._getWidgetName();\n    const widgetOptions = this._getWidgetOptions();\n    return this.dateBox._createComponent(element, widgetName, widgetOptions);\n  }\n  _getWidgetOptions() {\n    Class.abstract();\n  }\n  _getWidgetName() {\n    Class.abstract();\n  }\n  getDefaultOptions() {\n    return {\n      mode: \"text\"\n    };\n  }\n  getDisplayFormat(displayFormat) {\n    Class.abstract();\n  }\n  supportedKeys() {}\n  getKeyboardListener() {}\n  customizeButtons() {}\n  getParsedText(text, format) {\n    const value = dateLocalization.parse(text, format);\n    return value || dateLocalization.parse(text);\n  }\n  renderInputMinMax() {}\n  renderOpenedState() {\n    this._updateValue();\n  }\n  popupConfig(popupConfig) {\n    Class.abstract();\n  }\n  _dimensionChanged() {\n    var _this$_getPopup;\n    null === (_this$_getPopup = this._getPopup()) || void 0 === _this$_getPopup || _this$_getPopup.repaint();\n  }\n  renderPopupContent() {\n    const popup = this._getPopup();\n    this._renderWidget();\n    const $popupContent = popup.$content().parent();\n    eventsEngine.off($popupContent, \"mousedown\");\n    eventsEngine.on($popupContent, \"mousedown\", this._preventFocusOnPopup.bind(this));\n  }\n  _preventFocusOnPopup(e) {\n    e.preventDefault();\n  }\n  _getWidgetContainer() {\n    return this._getPopup().$content();\n  }\n  _getPopup() {\n    return this.dateBox._popup;\n  }\n  popupShowingHandler() {}\n  popupHiddenHandler() {}\n  _updateValue(preventDefaultValue) {\n    var _this$_widget2;\n    null === (_this$_widget2 = this._widget) || void 0 === _this$_widget2 || _this$_widget2.option(\"value\", this.dateBoxValue());\n  }\n  useCurrentDateByDefault() {}\n  getDefaultDate() {\n    return new Date();\n  }\n  textChangedHandler() {}\n  renderValue() {\n    if (this.dateBox.option(\"opened\")) {\n      this._updateValue();\n    }\n  }\n  getValue() {\n    return this._widget.option(\"value\");\n  }\n  isAdaptivityChanged() {\n    return false;\n  }\n  dispose() {\n    const popup = this._getPopup();\n    if (popup) {\n      popup.$content().empty();\n    }\n  }\n  dateBoxValue(value, event) {\n    if (arguments.length) {\n      return this.dateBox.dateValue.apply(this.dateBox, arguments);\n    }\n    return this.dateBox.dateOption.apply(this.dateBox, [\"value\"]);\n  }\n}\nexport default DateBoxStrategy;","map":{"version":3,"names":["eventsEngine","dateLocalization","Class","$","DateBoxStrategy","inherit","ctor","dateBox","widgetOption","option","_this$_widget","_widget","apply","arguments","_renderWidget","element","_createWidget","$element","appendTo","_getWidgetContainer","widgetName","_getWidgetName","widgetOptions","_getWidgetOptions","_createComponent","abstract","getDefaultOptions","mode","getDisplayFormat","displayFormat","supportedKeys","getKeyboardListener","customizeButtons","getParsedText","text","format","value","parse","renderInputMinMax","renderOpenedState","_updateValue","popupConfig","_dimensionChanged","_this$_getPopup","_getPopup","repaint","renderPopupContent","popup","$popupContent","$content","parent","off","on","_preventFocusOnPopup","bind","e","preventDefault","_popup","popupShowingHandler","popupHiddenHandler","preventDefaultValue","_this$_widget2","dateBoxValue","useCurrentDateByDefault","getDefaultDate","Date","textChangedHandler","renderValue","getValue","isAdaptivityChanged","dispose","empty","event","length","dateValue","dateOption"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/ui/date_box/m_date_box.strategy.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/ui/date_box/m_date_box.strategy.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport eventsEngine from \"../../../common/core/events/core/events_engine\";\r\nimport dateLocalization from \"../../../common/core/localization/date\";\r\nimport Class from \"../../../core/class\";\r\nimport $ from \"../../../core/renderer\";\r\nclass DateBoxStrategy extends(Class.inherit({})) {\r\n    ctor(dateBox) {\r\n        this.dateBox = dateBox\r\n    }\r\n    widgetOption(option) {\r\n        var _this$_widget;\r\n        return null === (_this$_widget = this._widget) || void 0 === _this$_widget ? void 0 : _this$_widget.option.apply(this._widget, arguments)\r\n    }\r\n    _renderWidget(element) {\r\n        element = element || $(\"<div>\");\r\n        this._widget = this._createWidget(element);\r\n        this._widget.$element().appendTo(this._getWidgetContainer())\r\n    }\r\n    _createWidget(element) {\r\n        const widgetName = this._getWidgetName();\r\n        const widgetOptions = this._getWidgetOptions();\r\n        return this.dateBox._createComponent(element, widgetName, widgetOptions)\r\n    }\r\n    _getWidgetOptions() {\r\n        Class.abstract()\r\n    }\r\n    _getWidgetName() {\r\n        Class.abstract()\r\n    }\r\n    getDefaultOptions() {\r\n        return {\r\n            mode: \"text\"\r\n        }\r\n    }\r\n    getDisplayFormat(displayFormat) {\r\n        Class.abstract()\r\n    }\r\n    supportedKeys() {}\r\n    getKeyboardListener() {}\r\n    customizeButtons() {}\r\n    getParsedText(text, format) {\r\n        const value = dateLocalization.parse(text, format);\r\n        return value || dateLocalization.parse(text)\r\n    }\r\n    renderInputMinMax() {}\r\n    renderOpenedState() {\r\n        this._updateValue()\r\n    }\r\n    popupConfig(popupConfig) {\r\n        Class.abstract()\r\n    }\r\n    _dimensionChanged() {\r\n        var _this$_getPopup;\r\n        null === (_this$_getPopup = this._getPopup()) || void 0 === _this$_getPopup || _this$_getPopup.repaint()\r\n    }\r\n    renderPopupContent() {\r\n        const popup = this._getPopup();\r\n        this._renderWidget();\r\n        const $popupContent = popup.$content().parent();\r\n        eventsEngine.off($popupContent, \"mousedown\");\r\n        eventsEngine.on($popupContent, \"mousedown\", this._preventFocusOnPopup.bind(this))\r\n    }\r\n    _preventFocusOnPopup(e) {\r\n        e.preventDefault()\r\n    }\r\n    _getWidgetContainer() {\r\n        return this._getPopup().$content()\r\n    }\r\n    _getPopup() {\r\n        return this.dateBox._popup\r\n    }\r\n    popupShowingHandler() {}\r\n    popupHiddenHandler() {}\r\n    _updateValue(preventDefaultValue) {\r\n        var _this$_widget2;\r\n        null === (_this$_widget2 = this._widget) || void 0 === _this$_widget2 || _this$_widget2.option(\"value\", this.dateBoxValue())\r\n    }\r\n    useCurrentDateByDefault() {}\r\n    getDefaultDate() {\r\n        return new Date\r\n    }\r\n    textChangedHandler() {}\r\n    renderValue() {\r\n        if (this.dateBox.option(\"opened\")) {\r\n            this._updateValue()\r\n        }\r\n    }\r\n    getValue() {\r\n        return this._widget.option(\"value\")\r\n    }\r\n    isAdaptivityChanged() {\r\n        return false\r\n    }\r\n    dispose() {\r\n        const popup = this._getPopup();\r\n        if (popup) {\r\n            popup.$content().empty()\r\n        }\r\n    }\r\n    dateBoxValue(value, event) {\r\n        if (arguments.length) {\r\n            return this.dateBox.dateValue.apply(this.dateBox, arguments)\r\n        }\r\n        return this.dateBox.dateOption.apply(this.dateBox, [\"value\"])\r\n    }\r\n}\r\nexport default DateBoxStrategy;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}