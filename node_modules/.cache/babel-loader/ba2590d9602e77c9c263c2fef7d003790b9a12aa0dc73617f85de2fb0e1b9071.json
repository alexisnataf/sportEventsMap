{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/data/m_array_store.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { applyBatch, indexByKey, insert, remove, update } from \"../../common/data/array_utils\";\nimport { errors } from \"../../common/data/errors\";\nimport Query from \"../../common/data/query\";\nimport { rejectedPromise, trivialPromise } from \"../../common/data/utils\";\nimport Store from \"../../data/abstract_store\";\nconst ArrayStore = Store.inherit({\n  ctor(options) {\n    if (Array.isArray(options)) {\n      options = {\n        data: options\n      };\n    } else {\n      options = options || {};\n    }\n    this.callBase(options);\n    const initialArray = options.data;\n    if (initialArray && !Array.isArray(initialArray)) {\n      throw errors.Error(\"E4006\");\n    }\n    this._array = initialArray || [];\n  },\n  createQuery() {\n    return Query(this._array, {\n      errorHandler: this._errorHandler\n    });\n  },\n  _byKeyImpl(key) {\n    const index = indexByKey(this, this._array, key);\n    if (-1 === index) {\n      return rejectedPromise(errors.Error(\"E4009\"));\n    }\n    return trivialPromise(this._array[index]);\n  },\n  _insertImpl(values) {\n    return insert(this, this._array, values);\n  },\n  _pushImpl(changes) {\n    applyBatch({\n      keyInfo: this,\n      data: this._array,\n      changes: changes\n    });\n  },\n  _updateImpl(key, values) {\n    return update(this, this._array, key, values);\n  },\n  _removeImpl(key) {\n    return remove(this, this._array, key);\n  },\n  clear() {\n    this._eventsStrategy.fireEvent(\"modifying\");\n    this._array = [];\n    this._eventsStrategy.fireEvent(\"modified\");\n  }\n}, \"array\");\nexport default ArrayStore;","map":{"version":3,"names":["applyBatch","indexByKey","insert","remove","update","errors","Query","rejectedPromise","trivialPromise","Store","ArrayStore","inherit","ctor","options","Array","isArray","data","callBase","initialArray","Error","_array","createQuery","errorHandler","_errorHandler","_byKeyImpl","key","index","_insertImpl","values","_pushImpl","changes","keyInfo","_updateImpl","_removeImpl","clear","_eventsStrategy","fireEvent"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/data/m_array_store.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/data/m_array_store.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    applyBatch,\r\n    indexByKey,\r\n    insert,\r\n    remove,\r\n    update\r\n} from \"../../common/data/array_utils\";\r\nimport {\r\n    errors\r\n} from \"../../common/data/errors\";\r\nimport Query from \"../../common/data/query\";\r\nimport {\r\n    rejectedPromise,\r\n    trivialPromise\r\n} from \"../../common/data/utils\";\r\nimport Store from \"../../data/abstract_store\";\r\nconst ArrayStore = Store.inherit({\r\n    ctor(options) {\r\n        if (Array.isArray(options)) {\r\n            options = {\r\n                data: options\r\n            }\r\n        } else {\r\n            options = options || {}\r\n        }\r\n        this.callBase(options);\r\n        const initialArray = options.data;\r\n        if (initialArray && !Array.isArray(initialArray)) {\r\n            throw errors.Error(\"E4006\")\r\n        }\r\n        this._array = initialArray || []\r\n    },\r\n    createQuery() {\r\n        return Query(this._array, {\r\n            errorHandler: this._errorHandler\r\n        })\r\n    },\r\n    _byKeyImpl(key) {\r\n        const index = indexByKey(this, this._array, key);\r\n        if (-1 === index) {\r\n            return rejectedPromise(errors.Error(\"E4009\"))\r\n        }\r\n        return trivialPromise(this._array[index])\r\n    },\r\n    _insertImpl(values) {\r\n        return insert(this, this._array, values)\r\n    },\r\n    _pushImpl(changes) {\r\n        applyBatch({\r\n            keyInfo: this,\r\n            data: this._array,\r\n            changes: changes\r\n        })\r\n    },\r\n    _updateImpl(key, values) {\r\n        return update(this, this._array, key, values)\r\n    },\r\n    _removeImpl(key) {\r\n        return remove(this, this._array, key)\r\n    },\r\n    clear() {\r\n        this._eventsStrategy.fireEvent(\"modifying\");\r\n        this._array = [];\r\n        this._eventsStrategy.fireEvent(\"modified\")\r\n    }\r\n}, \"array\");\r\nexport default ArrayStore;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SACIA,UAAU,EACVC,UAAU,EACVC,MAAM,EACNC,MAAM,EACNC,MAAM,QACH,+BAA+B;AACtC,SACIC,MAAM,QACH,0BAA0B;AACjC,OAAOC,KAAK,MAAM,yBAAyB;AAC3C,SACIC,eAAe,EACfC,cAAc,QACX,yBAAyB;AAChC,OAAOC,KAAK,MAAM,2BAA2B;AAC7C,MAAMC,UAAU,GAAGD,KAAK,CAACE,OAAO,CAAC;EAC7BC,IAAIA,CAACC,OAAO,EAAE;IACV,IAAIC,KAAK,CAACC,OAAO,CAACF,OAAO,CAAC,EAAE;MACxBA,OAAO,GAAG;QACNG,IAAI,EAAEH;MACV,CAAC;IACL,CAAC,MAAM;MACHA,OAAO,GAAGA,OAAO,IAAI,CAAC,CAAC;IAC3B;IACA,IAAI,CAACI,QAAQ,CAACJ,OAAO,CAAC;IACtB,MAAMK,YAAY,GAAGL,OAAO,CAACG,IAAI;IACjC,IAAIE,YAAY,IAAI,CAACJ,KAAK,CAACC,OAAO,CAACG,YAAY,CAAC,EAAE;MAC9C,MAAMb,MAAM,CAACc,KAAK,CAAC,OAAO,CAAC;IAC/B;IACA,IAAI,CAACC,MAAM,GAAGF,YAAY,IAAI,EAAE;EACpC,CAAC;EACDG,WAAWA,CAAA,EAAG;IACV,OAAOf,KAAK,CAAC,IAAI,CAACc,MAAM,EAAE;MACtBE,YAAY,EAAE,IAAI,CAACC;IACvB,CAAC,CAAC;EACN,CAAC;EACDC,UAAUA,CAACC,GAAG,EAAE;IACZ,MAAMC,KAAK,GAAGzB,UAAU,CAAC,IAAI,EAAE,IAAI,CAACmB,MAAM,EAAEK,GAAG,CAAC;IAChD,IAAI,CAAC,CAAC,KAAKC,KAAK,EAAE;MACd,OAAOnB,eAAe,CAACF,MAAM,CAACc,KAAK,CAAC,OAAO,CAAC,CAAC;IACjD;IACA,OAAOX,cAAc,CAAC,IAAI,CAACY,MAAM,CAACM,KAAK,CAAC,CAAC;EAC7C,CAAC;EACDC,WAAWA,CAACC,MAAM,EAAE;IAChB,OAAO1B,MAAM,CAAC,IAAI,EAAE,IAAI,CAACkB,MAAM,EAAEQ,MAAM,CAAC;EAC5C,CAAC;EACDC,SAASA,CAACC,OAAO,EAAE;IACf9B,UAAU,CAAC;MACP+B,OAAO,EAAE,IAAI;MACbf,IAAI,EAAE,IAAI,CAACI,MAAM;MACjBU,OAAO,EAAEA;IACb,CAAC,CAAC;EACN,CAAC;EACDE,WAAWA,CAACP,GAAG,EAAEG,MAAM,EAAE;IACrB,OAAOxB,MAAM,CAAC,IAAI,EAAE,IAAI,CAACgB,MAAM,EAAEK,GAAG,EAAEG,MAAM,CAAC;EACjD,CAAC;EACDK,WAAWA,CAACR,GAAG,EAAE;IACb,OAAOtB,MAAM,CAAC,IAAI,EAAE,IAAI,CAACiB,MAAM,EAAEK,GAAG,CAAC;EACzC,CAAC;EACDS,KAAKA,CAAA,EAAG;IACJ,IAAI,CAACC,eAAe,CAACC,SAAS,CAAC,WAAW,CAAC;IAC3C,IAAI,CAAChB,MAAM,GAAG,EAAE;IAChB,IAAI,CAACe,eAAe,CAACC,SAAS,CAAC,UAAU,CAAC;EAC9C;AACJ,CAAC,EAAE,OAAO,CAAC;AACX,eAAe1B,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}