{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/scheduler/utils/macro_task_array/methods.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport macroTaskDispatcher from \"./dispatcher\";\nexport const DEFAULT_STEPS_VALUE = 100;\nexport const DEFAULT_MACRO_TASK_TIMEOUT = 0;\nexport const macroTaskArrayForEach = async function (array, callback) {\n  let step = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 100;\n  let macroTaskTimeoutMs = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;\n  const promises = [];\n  const batchesCount = Math.ceil(array.length / step);\n  for (let batchIdx = 0; batchIdx < batchesCount; batchIdx += 1) {\n    const scheduledTask = macroTaskDispatcher.schedule(() => {\n      const startIdx = batchIdx * step;\n      const maxIdx = startIdx + step;\n      for (let idx = startIdx; idx < maxIdx && void 0 !== array[idx]; idx += 1) {\n        callback(array[idx]);\n      }\n    }, macroTaskTimeoutMs);\n    promises.push(scheduledTask);\n  }\n  await Promise.all(promises);\n};\nexport const macroTaskArrayMap = async function (array, callback) {\n  let step = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 100;\n  let macroTaskTimeoutMs = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;\n  const result = [];\n  await macroTaskArrayForEach(array, item => {\n    result.push(callback(item));\n  }, step, macroTaskTimeoutMs);\n  return result;\n};","map":{"version":3,"names":["macroTaskDispatcher","DEFAULT_STEPS_VALUE","DEFAULT_MACRO_TASK_TIMEOUT","macroTaskArrayForEach","array","callback","step","arguments","length","macroTaskTimeoutMs","promises","batchesCount","Math","ceil","batchIdx","scheduledTask","schedule","startIdx","maxIdx","idx","push","Promise","all","macroTaskArrayMap","result","item"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/scheduler/utils/macro_task_array/methods.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/scheduler/utils/macro_task_array/methods.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport macroTaskDispatcher from \"./dispatcher\";\r\nexport const DEFAULT_STEPS_VALUE = 100;\r\nexport const DEFAULT_MACRO_TASK_TIMEOUT = 0;\r\nexport const macroTaskArrayForEach = async function(array, callback) {\r\n    let step = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 100;\r\n    let macroTaskTimeoutMs = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;\r\n    const promises = [];\r\n    const batchesCount = Math.ceil(array.length / step);\r\n    for (let batchIdx = 0; batchIdx < batchesCount; batchIdx += 1) {\r\n        const scheduledTask = macroTaskDispatcher.schedule((() => {\r\n            const startIdx = batchIdx * step;\r\n            const maxIdx = startIdx + step;\r\n            for (let idx = startIdx; idx < maxIdx && void 0 !== array[idx]; idx += 1) {\r\n                callback(array[idx])\r\n            }\r\n        }), macroTaskTimeoutMs);\r\n        promises.push(scheduledTask)\r\n    }\r\n    await Promise.all(promises)\r\n};\r\nexport const macroTaskArrayMap = async function(array, callback) {\r\n    let step = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 100;\r\n    let macroTaskTimeoutMs = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;\r\n    const result = [];\r\n    await macroTaskArrayForEach(array, (item => {\r\n        result.push(callback(item))\r\n    }), step, macroTaskTimeoutMs);\r\n    return result\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,mBAAmB,MAAM,cAAc;AAC9C,OAAO,MAAMC,mBAAmB,GAAG,GAAG;AACtC,OAAO,MAAMC,0BAA0B,GAAG,CAAC;AAC3C,OAAO,MAAMC,qBAAqB,GAAG,eAAAA,CAAeC,KAAK,EAAEC,QAAQ,EAAE;EACjE,IAAIC,IAAI,GAAGC,SAAS,CAACC,MAAM,GAAG,CAAC,IAAI,KAAK,CAAC,KAAKD,SAAS,CAAC,CAAC,CAAC,GAAGA,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG;EAC/E,IAAIE,kBAAkB,GAAGF,SAAS,CAACC,MAAM,GAAG,CAAC,IAAI,KAAK,CAAC,KAAKD,SAAS,CAAC,CAAC,CAAC,GAAGA,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC;EAC3F,MAAMG,QAAQ,GAAG,EAAE;EACnB,MAAMC,YAAY,GAAGC,IAAI,CAACC,IAAI,CAACT,KAAK,CAACI,MAAM,GAAGF,IAAI,CAAC;EACnD,KAAK,IAAIQ,QAAQ,GAAG,CAAC,EAAEA,QAAQ,GAAGH,YAAY,EAAEG,QAAQ,IAAI,CAAC,EAAE;IAC3D,MAAMC,aAAa,GAAGf,mBAAmB,CAACgB,QAAQ,CAAE,MAAM;MACtD,MAAMC,QAAQ,GAAGH,QAAQ,GAAGR,IAAI;MAChC,MAAMY,MAAM,GAAGD,QAAQ,GAAGX,IAAI;MAC9B,KAAK,IAAIa,GAAG,GAAGF,QAAQ,EAAEE,GAAG,GAAGD,MAAM,IAAI,KAAK,CAAC,KAAKd,KAAK,CAACe,GAAG,CAAC,EAAEA,GAAG,IAAI,CAAC,EAAE;QACtEd,QAAQ,CAACD,KAAK,CAACe,GAAG,CAAC,CAAC;MACxB;IACJ,CAAC,EAAGV,kBAAkB,CAAC;IACvBC,QAAQ,CAACU,IAAI,CAACL,aAAa,CAAC;EAChC;EACA,MAAMM,OAAO,CAACC,GAAG,CAACZ,QAAQ,CAAC;AAC/B,CAAC;AACD,OAAO,MAAMa,iBAAiB,GAAG,eAAAA,CAAenB,KAAK,EAAEC,QAAQ,EAAE;EAC7D,IAAIC,IAAI,GAAGC,SAAS,CAACC,MAAM,GAAG,CAAC,IAAI,KAAK,CAAC,KAAKD,SAAS,CAAC,CAAC,CAAC,GAAGA,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG;EAC/E,IAAIE,kBAAkB,GAAGF,SAAS,CAACC,MAAM,GAAG,CAAC,IAAI,KAAK,CAAC,KAAKD,SAAS,CAAC,CAAC,CAAC,GAAGA,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC;EAC3F,MAAMiB,MAAM,GAAG,EAAE;EACjB,MAAMrB,qBAAqB,CAACC,KAAK,EAAGqB,IAAI,IAAI;IACxCD,MAAM,CAACJ,IAAI,CAACf,QAAQ,CAACoB,IAAI,CAAC,CAAC;EAC/B,CAAC,EAAGnB,IAAI,EAAEG,kBAAkB,CAAC;EAC7B,OAAOe,MAAM;AACjB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}