{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/ui/popup/m_popup_overflow_manager.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport devices from \"../../../core/devices\";\nimport domAdapter from \"../../../core/dom_adapter\";\nimport { noop } from \"../../../core/utils/common\";\nimport { isDefined } from \"../../../core/utils/type\";\nimport windowUtils from \"../../core/utils/m_window\";\nconst overflowManagerMock = {\n  setOverflow: noop,\n  restoreOverflow: noop\n};\nexport const createBodyOverflowManager = () => {\n  if (!windowUtils.hasWindow()) {\n    return overflowManagerMock;\n  }\n  const window = windowUtils.getWindow();\n  const {\n    documentElement: documentElement\n  } = domAdapter.getDocument();\n  const body = domAdapter.getBody();\n  const isIosDevice = \"ios\" === devices.real().platform;\n  const prevSettings = {\n    overflow: null,\n    overflowX: null,\n    overflowY: null,\n    paddingRight: null,\n    position: null,\n    top: null,\n    left: null\n  };\n  return {\n    setOverflow: isIosDevice ? () => {\n      if (isDefined(prevSettings.position) || \"fixed\" === body.style.position) {\n        return;\n      }\n      const {\n        scrollY: scrollY,\n        scrollX: scrollX\n      } = window;\n      prevSettings.position = body.style.position;\n      prevSettings.top = body.style.top;\n      prevSettings.left = body.style.left;\n      body.style.setProperty(\"position\", \"fixed\");\n      body.style.setProperty(\"top\", -scrollY + \"px\");\n      body.style.setProperty(\"left\", -scrollX + \"px\");\n    } : () => {\n      (() => {\n        const scrollBarWidth = window.innerWidth - documentElement.clientWidth;\n        if (prevSettings.paddingRight || scrollBarWidth <= 0) {\n          return;\n        }\n        const paddingRight = window.getComputedStyle(body).getPropertyValue(\"padding-right\");\n        const computedBodyPaddingRight = parseInt(paddingRight, 10);\n        prevSettings.paddingRight = computedBodyPaddingRight;\n        body.style.setProperty(\"padding-right\", `${computedBodyPaddingRight + scrollBarWidth}px`);\n      })();\n      if (prevSettings.overflow || \"hidden\" === body.style.overflow) {\n        return;\n      }\n      prevSettings.overflow = body.style.overflow;\n      prevSettings.overflowX = body.style.overflowX;\n      prevSettings.overflowY = body.style.overflowY;\n      body.style.setProperty(\"overflow\", \"hidden\");\n    },\n    restoreOverflow: isIosDevice ? () => {\n      if (!isDefined(prevSettings.position)) {\n        return;\n      }\n      const scrollY = -parseInt(body.style.top, 10);\n      const scrollX = -parseInt(body.style.left, 10);\n      [\"position\", \"top\", \"left\"].forEach(property => {\n        if (prevSettings[property]) {\n          body.style.setProperty(property, prevSettings[property]);\n        } else {\n          body.style.removeProperty(property);\n        }\n      });\n      window.scrollTo(scrollX, scrollY);\n      prevSettings.position = null;\n    } : () => {\n      (() => {\n        if (!isDefined(prevSettings.paddingRight)) {\n          return;\n        }\n        if (prevSettings.paddingRight) {\n          body.style.setProperty(\"padding-right\", `${prevSettings.paddingRight}px`);\n        } else {\n          body.style.removeProperty(\"padding-right\");\n        }\n        prevSettings.paddingRight = null;\n      })();\n      [\"overflow\", \"overflowX\", \"overflowY\"].forEach(property => {\n        if (!isDefined(prevSettings[property])) {\n          return;\n        }\n        const propertyInKebabCase = property.replace(/(X)|(Y)/, symbol => `-${symbol.toLowerCase()}`);\n        if (prevSettings[property]) {\n          body.style.setProperty(propertyInKebabCase, prevSettings[property]);\n        } else {\n          body.style.removeProperty(propertyInKebabCase);\n        }\n        prevSettings[property] = null;\n      });\n    }\n  };\n};","map":{"version":3,"names":["devices","domAdapter","noop","isDefined","windowUtils","overflowManagerMock","setOverflow","restoreOverflow","createBodyOverflowManager","hasWindow","window","getWindow","documentElement","getDocument","body","getBody","isIosDevice","real","platform","prevSettings","overflow","overflowX","overflowY","paddingRight","position","top","left","style","scrollY","scrollX","setProperty","scrollBarWidth","innerWidth","clientWidth","getComputedStyle","getPropertyValue","computedBodyPaddingRight","parseInt","forEach","property","removeProperty","scrollTo","propertyInKebabCase","replace","symbol","toLowerCase"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/ui/popup/m_popup_overflow_manager.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/ui/popup/m_popup_overflow_manager.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport devices from \"../../../core/devices\";\r\nimport domAdapter from \"../../../core/dom_adapter\";\r\nimport {\r\n    noop\r\n} from \"../../../core/utils/common\";\r\nimport {\r\n    isDefined\r\n} from \"../../../core/utils/type\";\r\nimport windowUtils from \"../../core/utils/m_window\";\r\nconst overflowManagerMock = {\r\n    setOverflow: noop,\r\n    restoreOverflow: noop\r\n};\r\nexport const createBodyOverflowManager = () => {\r\n    if (!windowUtils.hasWindow()) {\r\n        return overflowManagerMock\r\n    }\r\n    const window = windowUtils.getWindow();\r\n    const {\r\n        documentElement: documentElement\r\n    } = domAdapter.getDocument();\r\n    const body = domAdapter.getBody();\r\n    const isIosDevice = \"ios\" === devices.real().platform;\r\n    const prevSettings = {\r\n        overflow: null,\r\n        overflowX: null,\r\n        overflowY: null,\r\n        paddingRight: null,\r\n        position: null,\r\n        top: null,\r\n        left: null\r\n    };\r\n    return {\r\n        setOverflow: isIosDevice ? () => {\r\n            if (isDefined(prevSettings.position) || \"fixed\" === body.style.position) {\r\n                return\r\n            }\r\n            const {\r\n                scrollY: scrollY,\r\n                scrollX: scrollX\r\n            } = window;\r\n            prevSettings.position = body.style.position;\r\n            prevSettings.top = body.style.top;\r\n            prevSettings.left = body.style.left;\r\n            body.style.setProperty(\"position\", \"fixed\");\r\n            body.style.setProperty(\"top\", -scrollY + \"px\");\r\n            body.style.setProperty(\"left\", -scrollX + \"px\")\r\n        } : () => {\r\n            (() => {\r\n                const scrollBarWidth = window.innerWidth - documentElement.clientWidth;\r\n                if (prevSettings.paddingRight || scrollBarWidth <= 0) {\r\n                    return\r\n                }\r\n                const paddingRight = window.getComputedStyle(body).getPropertyValue(\"padding-right\");\r\n                const computedBodyPaddingRight = parseInt(paddingRight, 10);\r\n                prevSettings.paddingRight = computedBodyPaddingRight;\r\n                body.style.setProperty(\"padding-right\", `${computedBodyPaddingRight+scrollBarWidth}px`)\r\n            })();\r\n            if (prevSettings.overflow || \"hidden\" === body.style.overflow) {\r\n                return\r\n            }\r\n            prevSettings.overflow = body.style.overflow;\r\n            prevSettings.overflowX = body.style.overflowX;\r\n            prevSettings.overflowY = body.style.overflowY;\r\n            body.style.setProperty(\"overflow\", \"hidden\")\r\n        },\r\n        restoreOverflow: isIosDevice ? () => {\r\n            if (!isDefined(prevSettings.position)) {\r\n                return\r\n            }\r\n            const scrollY = -parseInt(body.style.top, 10);\r\n            const scrollX = -parseInt(body.style.left, 10);\r\n            [\"position\", \"top\", \"left\"].forEach((property => {\r\n                if (prevSettings[property]) {\r\n                    body.style.setProperty(property, prevSettings[property])\r\n                } else {\r\n                    body.style.removeProperty(property)\r\n                }\r\n            }));\r\n            window.scrollTo(scrollX, scrollY);\r\n            prevSettings.position = null\r\n        } : () => {\r\n            (() => {\r\n                if (!isDefined(prevSettings.paddingRight)) {\r\n                    return\r\n                }\r\n                if (prevSettings.paddingRight) {\r\n                    body.style.setProperty(\"padding-right\", `${prevSettings.paddingRight}px`)\r\n                } else {\r\n                    body.style.removeProperty(\"padding-right\")\r\n                }\r\n                prevSettings.paddingRight = null\r\n            })();\r\n            [\"overflow\", \"overflowX\", \"overflowY\"].forEach((property => {\r\n                if (!isDefined(prevSettings[property])) {\r\n                    return\r\n                }\r\n                const propertyInKebabCase = property.replace(/(X)|(Y)/, (symbol => `-${symbol.toLowerCase()}`));\r\n                if (prevSettings[property]) {\r\n                    body.style.setProperty(propertyInKebabCase, prevSettings[property])\r\n                } else {\r\n                    body.style.removeProperty(propertyInKebabCase)\r\n                }\r\n                prevSettings[property] = null\r\n            }))\r\n        }\r\n    }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}