{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/events/core/m_events_engine.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport registerEventCallbacks from \"../../../common/core/events/core/event_registrator_callbacks\";\nimport hookTouchProps from \"../../../common/core/events/core/hook_touch_props\";\nimport { getEventTarget } from \"../../../common/core/events/utils/event_target\";\nimport domAdapter from \"../../../core/dom_adapter\";\nimport errors from \"../../../core/errors\";\nimport callOnce from \"../../../core/utils/call_once\";\nimport Callbacks from \"../../../core/utils/callbacks\";\nimport injector from \"../../../core/utils/dependency_injector\";\nimport { extend } from \"../../../core/utils/extend\";\nimport { isFunction, isObject, isString, isWindow } from \"../../../core/utils/type\";\nimport { getWindow, hasWindow } from \"../../../core/utils/window\";\nconst window = getWindow();\nconst EMPTY_EVENT_NAME = \"dxEmptyEventType\";\nconst NATIVE_EVENTS_TO_SUBSCRIBE = {\n  mouseenter: \"mouseover\",\n  mouseleave: \"mouseout\",\n  pointerenter: \"pointerover\",\n  pointerleave: \"pointerout\"\n};\nconst NATIVE_EVENTS_TO_TRIGGER = {\n  focusin: \"focus\",\n  focusout: \"blur\"\n};\nconst NO_BUBBLE_EVENTS = [\"blur\", \"focus\", \"load\"];\nconst forcePassiveFalseEventNames = [\"touchmove\", \"wheel\", \"mousewheel\", \"touchstart\"];\nconst EVENT_PROPERTIES = [\"target\", \"relatedTarget\", \"delegateTarget\", \"altKey\", \"bubbles\", \"cancelable\", \"changedTouches\", \"ctrlKey\", \"detail\", \"eventPhase\", \"metaKey\", \"shiftKey\", \"view\", \"char\", \"code\", \"charCode\", \"key\", \"keyCode\", \"button\", \"buttons\", \"offsetX\", \"offsetY\", \"pointerId\", \"pointerType\", \"targetTouches\", \"toElement\", \"touches\"];\nfunction matchesSafe(target, selector) {\n  return !isWindow(target) && \"#document\" !== target.nodeName && domAdapter.elementMatches(target, selector);\n}\nconst elementDataMap = new WeakMap();\nlet guid = 0;\nlet skipEvent;\nconst special = function () {\n  const specialData = {};\n  registerEventCallbacks.add((eventName, eventObject) => {\n    specialData[eventName] = eventObject;\n  });\n  return {\n    getField: (eventName, field) => specialData[eventName] && specialData[eventName][field],\n    callMethod: (eventName, methodName, context, args) => specialData[eventName] && specialData[eventName][methodName] && specialData[eventName][methodName].apply(context, args)\n  };\n}();\nconst eventsEngine = injector({\n  on: getHandler(normalizeOnArguments(iterate((element, eventName, selector, data, handler) => {\n    const handlersController = getHandlersController(element, eventName);\n    handlersController.addHandler(handler, selector, data);\n  }))),\n  one: getHandler(normalizeOnArguments((element, eventName, selector, data, handler) => {\n    const oneTimeHandler = function () {\n      eventsEngine.off(element, eventName, selector, oneTimeHandler);\n      handler.apply(this, arguments);\n    };\n    eventsEngine.on(element, eventName, selector, data, oneTimeHandler);\n  })),\n  off: getHandler(normalizeOffArguments(iterate((element, eventName, selector, handler) => {\n    const handlersController = getHandlersController(element, eventName);\n    handlersController.removeHandler(handler, selector);\n  }))),\n  trigger: getHandler(normalizeTriggerArguments((element, event, extraParameters) => {\n    const eventName = event.type;\n    const handlersController = getHandlersController(element, event.type);\n    special.callMethod(eventName, \"trigger\", element, [event, extraParameters]);\n    handlersController.callHandlers(event, extraParameters);\n    const noBubble = special.getField(eventName, \"noBubble\") || event.isPropagationStopped() || NO_BUBBLE_EVENTS.includes(eventName);\n    if (!noBubble) {\n      const parents = [];\n      const getParents = function (element) {\n        const parent = element.parentNode ?? (isObject(element.host) ? element.host : null);\n        if (parent) {\n          parents.push(parent);\n          getParents(parent);\n        }\n      };\n      getParents(element);\n      parents.push(window);\n      let i = 0;\n      while (parents[i] && !event.isPropagationStopped()) {\n        const parentDataByEvent = getHandlersController(parents[i], event.type);\n        parentDataByEvent.callHandlers(extend(event, {\n          currentTarget: parents[i]\n        }), extraParameters);\n        i++;\n      }\n    }\n    if (element.nodeType || isWindow(element)) {\n      special.callMethod(eventName, \"_default\", element, [event, extraParameters]);\n      callNativeMethod(eventName, element);\n    }\n  })),\n  triggerHandler: getHandler(normalizeTriggerArguments((element, event, extraParameters) => {\n    const handlersController = getHandlersController(element, event.type);\n    handlersController.callHandlers(event, extraParameters);\n  }))\n});\nfunction applyForEach(args, method) {\n  const element = args[0];\n  if (!element) {\n    return;\n  }\n  if (domAdapter.isNode(element) || isWindow(element)) {\n    method.apply(eventsEngine, args);\n  } else if (!isString(element) && \"length\" in element) {\n    const itemArgs = Array.prototype.slice.call(args, 0);\n    Array.prototype.forEach.call(element, itemElement => {\n      itemArgs[0] = itemElement;\n      applyForEach(itemArgs, method);\n    });\n  } else {\n    throw errors.Error(\"E0025\");\n  }\n}\nfunction getHandler(method) {\n  return function () {\n    applyForEach(arguments, method);\n  };\n}\nfunction detectPassiveEventHandlersSupport() {\n  let isSupported = false;\n  try {\n    const options = Object.defineProperty({}, \"passive\", {\n      get() {\n        isSupported = true;\n        return true;\n      }\n    });\n    window.addEventListener(\"test\", null, options);\n  } catch (e) {}\n  return isSupported;\n}\nconst passiveEventHandlersSupported = callOnce(detectPassiveEventHandlersSupport);\nconst contains = (container, element) => {\n  if (isWindow(container)) {\n    return contains(container.document, element);\n  }\n  return container.contains ? container.contains(element) : !!(element.compareDocumentPosition(container) & element.DOCUMENT_POSITION_CONTAINS);\n};\nfunction getHandlersController(element, eventName) {\n  let elementData = elementDataMap.get(element);\n  eventName = eventName || \"\";\n  const eventNameParts = eventName.split(\".\");\n  const namespaces = eventNameParts.slice(1);\n  const eventNameIsDefined = !!eventNameParts[0];\n  eventName = eventNameParts[0] || EMPTY_EVENT_NAME;\n  if (!elementData) {\n    elementData = {};\n    elementDataMap.set(element, elementData);\n  }\n  if (!elementData[eventName]) {\n    elementData[eventName] = {\n      handleObjects: [],\n      nativeHandler: null\n    };\n  }\n  const eventData = elementData[eventName];\n  return {\n    addHandler(handler, selector, data) {\n      const callHandler = function (e, extraParameters) {\n        const handlerArgs = [e];\n        const target = e.currentTarget;\n        const {\n          relatedTarget: relatedTarget\n        } = e;\n        let secondaryTargetIsInside;\n        let result;\n        if (eventName in NATIVE_EVENTS_TO_SUBSCRIBE) {\n          secondaryTargetIsInside = relatedTarget && target && (relatedTarget === target || contains(target, relatedTarget));\n        }\n        if (void 0 !== extraParameters) {\n          handlerArgs.push(extraParameters);\n        }\n        special.callMethod(eventName, \"handle\", element, [e, data]);\n        if (!secondaryTargetIsInside) {\n          result = handler.apply(target, handlerArgs);\n        }\n        if (false === result) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      };\n      const handleObject = {\n        handler: handler,\n        wrappedHandler: function (e, extraParameters) {\n          if (skipEvent && e.type === skipEvent) {\n            return;\n          }\n          e.data = data;\n          e.delegateTarget = element;\n          if (selector) {\n            let currentTarget = e.target;\n            while (currentTarget && currentTarget !== element) {\n              if (matchesSafe(currentTarget, selector)) {\n                e.currentTarget = currentTarget;\n                callHandler(e, extraParameters);\n              }\n              currentTarget = currentTarget.parentNode;\n            }\n          } else {\n            var _e$target;\n            e.currentTarget = e.delegateTarget || e.target;\n            const isTargetInShadowDOM = Boolean(null === (_e$target = e.target) || void 0 === _e$target ? void 0 : _e$target.shadowRoot);\n            if (isTargetInShadowDOM) {\n              const target = getEventTarget(e);\n              e.target = target;\n            }\n            callHandler(e, extraParameters);\n          }\n        },\n        selector: selector,\n        type: eventName,\n        data: data,\n        namespace: namespaces.join(\".\"),\n        namespaces: namespaces,\n        guid: ++guid\n      };\n      eventData.handleObjects.push(handleObject);\n      const firstHandlerForTheType = 1 === eventData.handleObjects.length;\n      let shouldAddNativeListener = firstHandlerForTheType && eventNameIsDefined;\n      let nativeListenerOptions;\n      if (shouldAddNativeListener) {\n        shouldAddNativeListener = !special.callMethod(eventName, \"setup\", element, [data, namespaces, handler]);\n      }\n      if (shouldAddNativeListener) {\n        eventData.nativeHandler = getNativeHandler(eventName);\n        if (passiveEventHandlersSupported() && forcePassiveFalseEventNames.includes(eventName)) {\n          nativeListenerOptions = {\n            passive: false\n          };\n        }\n        eventData.removeListener = domAdapter.listen(element, NATIVE_EVENTS_TO_SUBSCRIBE[eventName] || eventName, eventData.nativeHandler, nativeListenerOptions);\n      }\n      special.callMethod(eventName, \"add\", element, [handleObject]);\n    },\n    removeHandler(handler, selector) {\n      const removeByEventName = function (eventName) {\n        const eventData = elementData[eventName];\n        if (!eventData.handleObjects.length) {\n          delete elementData[eventName];\n          return;\n        }\n        let removedHandler;\n        eventData.handleObjects = eventData.handleObjects.filter(handleObject => {\n          const skip = namespaces.length && !isSubset(handleObject.namespaces, namespaces) || handler && handleObject.handler !== handler || selector && handleObject.selector !== selector;\n          if (!skip) {\n            removedHandler = handleObject.handler;\n            special.callMethod(eventName, \"remove\", element, [handleObject]);\n          }\n          return skip;\n        });\n        const lastHandlerForTheType = !eventData.handleObjects.length;\n        const shouldRemoveNativeListener = lastHandlerForTheType && eventName !== EMPTY_EVENT_NAME;\n        if (shouldRemoveNativeListener) {\n          special.callMethod(eventName, \"teardown\", element, [namespaces, removedHandler]);\n          if (eventData.nativeHandler) {\n            eventData.removeListener();\n          }\n          delete elementData[eventName];\n        }\n      };\n      if (eventNameIsDefined) {\n        removeByEventName(eventName);\n      } else {\n        for (const name in elementData) {\n          removeByEventName(name);\n        }\n      }\n      const elementDataIsEmpty = 0 === Object.keys(elementData).length;\n      if (elementDataIsEmpty) {\n        elementDataMap.delete(element);\n      }\n    },\n    callHandlers(event, extraParameters) {\n      let forceStop = false;\n      const handleCallback = function (handleObject) {\n        if (forceStop) {\n          return;\n        }\n        if (!namespaces.length || isSubset(handleObject.namespaces, namespaces)) {\n          handleObject.wrappedHandler(event, extraParameters);\n          forceStop = event.isImmediatePropagationStopped();\n        }\n      };\n      eventData.handleObjects.forEach(handleCallback);\n      if (namespaces.length && elementData[EMPTY_EVENT_NAME]) {\n        elementData[EMPTY_EVENT_NAME].handleObjects.forEach(handleCallback);\n      }\n    }\n  };\n}\nfunction getNativeHandler(subscribeName) {\n  return function (event, extraParameters) {\n    const handlersController = getHandlersController(this, subscribeName);\n    event = eventsEngine.Event(event);\n    handlersController.callHandlers(event, extraParameters);\n  };\n}\nfunction isSubset(original, checked) {\n  for (let i = 0; i < checked.length; i++) {\n    if (original.indexOf(checked[i]) < 0) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction normalizeOnArguments(callback) {\n  return function (element, eventName, selector, data, handler) {\n    if (!handler) {\n      handler = data;\n      data = void 0;\n    }\n    if (\"string\" !== typeof selector) {\n      data = selector;\n      selector = void 0;\n    }\n    if (!handler && \"string\" === typeof eventName) {\n      handler = data || selector;\n      selector = void 0;\n      data = void 0;\n    }\n    callback(element, eventName, selector, data, handler);\n  };\n}\nfunction normalizeOffArguments(callback) {\n  return function (element, eventName, selector, handler) {\n    if (\"function\" === typeof selector) {\n      handler = selector;\n      selector = void 0;\n    }\n    callback(element, eventName, selector, handler);\n  };\n}\nfunction normalizeTriggerArguments(callback) {\n  return function (element, src, extraParameters) {\n    if (\"string\" === typeof src) {\n      src = {\n        type: src\n      };\n    }\n    if (!src.target) {\n      src.target = element;\n    }\n    src.currentTarget = element;\n    if (!src.delegateTarget) {\n      src.delegateTarget = element;\n    }\n    if (!src.type && src.originalEvent) {\n      src.type = src.originalEvent.type;\n    }\n    callback(element, src instanceof eventsEngine.Event ? src : eventsEngine.Event(src), extraParameters);\n  };\n}\nfunction normalizeEventArguments(callback) {\n  eventsEngine.Event = function (src, config) {\n    if (!(this instanceof eventsEngine.Event)) {\n      return new eventsEngine.Event(src, config);\n    }\n    if (!src) {\n      src = {};\n    }\n    if (\"string\" === typeof src) {\n      src = {\n        type: src\n      };\n    }\n    if (!config) {\n      config = {};\n    }\n    callback.call(this, src, config);\n  };\n  Object.assign(eventsEngine.Event.prototype, {\n    _propagationStopped: false,\n    _immediatePropagationStopped: false,\n    _defaultPrevented: false,\n    isPropagationStopped() {\n      return !!(this._propagationStopped || this.originalEvent && this.originalEvent.propagationStopped);\n    },\n    stopPropagation() {\n      this._propagationStopped = true;\n      this.originalEvent && this.originalEvent.stopPropagation();\n    },\n    isImmediatePropagationStopped() {\n      return this._immediatePropagationStopped;\n    },\n    stopImmediatePropagation() {\n      this.stopPropagation();\n      this._immediatePropagationStopped = true;\n      this.originalEvent && this.originalEvent.stopImmediatePropagation();\n    },\n    isDefaultPrevented() {\n      return !!(this._defaultPrevented || this.originalEvent && this.originalEvent.defaultPrevented);\n    },\n    preventDefault() {\n      this._defaultPrevented = true;\n      this.originalEvent && this.originalEvent.preventDefault();\n    }\n  });\n  return eventsEngine.Event;\n}\nfunction iterate(callback) {\n  const iterateEventNames = function (element, eventName) {\n    if (eventName && eventName.indexOf(\" \") > -1) {\n      const args = Array.prototype.slice.call(arguments, 0);\n      eventName.split(\" \").forEach(function (eventName) {\n        args[1] = eventName;\n        callback.apply(this, args);\n      });\n    } else {\n      callback.apply(this, arguments);\n    }\n  };\n  return function (element, eventName) {\n    if (\"object\" === typeof eventName) {\n      const args = Array.prototype.slice.call(arguments, 0);\n      for (const name in eventName) {\n        args[1] = name;\n        args[args.length - 1] = eventName[name];\n        iterateEventNames.apply(this, args);\n      }\n    } else {\n      iterateEventNames.apply(this, arguments);\n    }\n  };\n}\nfunction callNativeMethod(eventName, element) {\n  const nativeMethodName = NATIVE_EVENTS_TO_TRIGGER[eventName] || eventName;\n  if (function (eventName, element) {\n    return \"click\" === eventName && \"a\" === element.localName;\n  }(eventName, element)) {\n    return;\n  }\n  if (isFunction(element[nativeMethodName])) {\n    skipEvent = eventName;\n    element[nativeMethodName]();\n    skipEvent = void 0;\n  }\n}\nfunction calculateWhich(event) {\n  if (function (event) {\n    return null == event.which && 0 === event.type.indexOf(\"key\");\n  }(event)) {\n    return null != event.charCode ? event.charCode : event.keyCode;\n  }\n  if (function (event) {\n    return !event.which && void 0 !== event.button && /^(?:mouse|pointer|contextmenu|drag|drop)|click/.test(event.type);\n  }(event)) {\n    const whichByButton = {\n      1: 1,\n      2: 3,\n      3: 1,\n      4: 2\n    };\n    return whichByButton[event.button];\n  }\n  return event.which;\n}\nfunction initEvent(EventClass) {\n  if (EventClass) {\n    eventsEngine.Event = EventClass;\n    eventsEngine.Event.prototype = EventClass.prototype;\n  }\n}\ninitEvent(normalizeEventArguments(function (src, config) {\n  var _src$view;\n  const srcIsEvent = src instanceof eventsEngine.Event || hasWindow() && src instanceof window.Event || (null === (_src$view = src.view) || void 0 === _src$view ? void 0 : _src$view.Event) && src instanceof src.view.Event;\n  if (srcIsEvent) {\n    this.originalEvent = src;\n    this.type = src.type;\n    this.currentTarget = void 0;\n    if (Object.prototype.hasOwnProperty.call(src, \"isTrusted\")) {\n      this.isTrusted = src.isTrusted;\n    }\n    this.timeStamp = src.timeStamp || Date.now();\n  } else {\n    Object.assign(this, src);\n  }\n  addProperty(\"which\", calculateWhich, this);\n  if (0 === src.type.indexOf(\"touch\")) {\n    delete config.pageX;\n    delete config.pageY;\n  }\n  Object.assign(this, config);\n  this.guid = ++guid;\n}));\nfunction addProperty(propName, hook, eventInstance) {\n  Object.defineProperty(eventInstance || eventsEngine.Event.prototype, propName, {\n    enumerable: true,\n    configurable: true,\n    get() {\n      return this.originalEvent && hook(this.originalEvent);\n    },\n    set(value) {\n      Object.defineProperty(this, propName, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value: value\n      });\n    }\n  });\n}\nEVENT_PROPERTIES.forEach(prop => addProperty(prop, event => event[prop]));\nhookTouchProps(addProperty);\nconst beforeSetStrategy = Callbacks();\nconst afterSetStrategy = Callbacks();\neventsEngine.set = function (engine) {\n  beforeSetStrategy.fire();\n  eventsEngine.inject(engine);\n  initEvent(engine.Event);\n  afterSetStrategy.fire();\n};\neventsEngine.subscribeGlobal = function () {\n  applyForEach(arguments, normalizeOnArguments(function () {\n    const args = arguments;\n    eventsEngine.on.apply(this, args);\n    beforeSetStrategy.add(function () {\n      const offArgs = Array.prototype.slice.call(args, 0);\n      offArgs.splice(3, 1);\n      eventsEngine.off.apply(this, offArgs);\n    });\n    afterSetStrategy.add(function () {\n      eventsEngine.on.apply(this, args);\n    });\n  }));\n};\neventsEngine.forcePassiveFalseEventNames = forcePassiveFalseEventNames;\neventsEngine.passiveEventHandlersSupported = passiveEventHandlersSupported;\nexport default eventsEngine;","map":{"version":3,"names":["registerEventCallbacks","hookTouchProps","getEventTarget","domAdapter","errors","callOnce","Callbacks","injector","extend","isFunction","isObject","isString","isWindow","getWindow","hasWindow","window","EMPTY_EVENT_NAME","NATIVE_EVENTS_TO_SUBSCRIBE","mouseenter","mouseleave","pointerenter","pointerleave","NATIVE_EVENTS_TO_TRIGGER","focusin","focusout","NO_BUBBLE_EVENTS","forcePassiveFalseEventNames","EVENT_PROPERTIES","matchesSafe","target","selector","nodeName","elementMatches","elementDataMap","WeakMap","guid","skipEvent","special","specialData","add","eventName","eventObject","getField","field","callMethod","methodName","context","args","apply","eventsEngine","on","getHandler","normalizeOnArguments","iterate","element","data","handler","handlersController","getHandlersController","addHandler","one","oneTimeHandler","off","arguments","normalizeOffArguments","removeHandler","trigger","normalizeTriggerArguments","event","extraParameters","type","callHandlers","noBubble","isPropagationStopped","includes","parents","getParents","parent","parentNode","host","push","i","parentDataByEvent","currentTarget","nodeType","callNativeMethod","triggerHandler","applyForEach","method","isNode","itemArgs","Array","prototype","slice","call","forEach","itemElement","Error","detectPassiveEventHandlersSupport","isSupported","options","Object","defineProperty","get","addEventListener","e","passiveEventHandlersSupported","contains","container","document","compareDocumentPosition","DOCUMENT_POSITION_CONTAINS","elementData","eventNameParts","split","namespaces","eventNameIsDefined","set","handleObjects","nativeHandler","eventData","callHandler","handlerArgs","relatedTarget","secondaryTargetIsInside","result","preventDefault","stopPropagation","handleObject","wrappedHandler","delegateTarget","_e$target","isTargetInShadowDOM","Boolean","shadowRoot","namespace","join","firstHandlerForTheType","length","shouldAddNativeListener","nativeListenerOptions","getNativeHandler","passive","removeListener","listen","removeByEventName","removedHandler","filter","skip","isSubset","lastHandlerForTheType","shouldRemoveNativeListener","name","elementDataIsEmpty","keys","delete","forceStop","handleCallback","isImmediatePropagationStopped","subscribeName","Event","original","checked","indexOf","callback","src","originalEvent","normalizeEventArguments","config","assign","_propagationStopped","_immediatePropagationStopped","_defaultPrevented","propagationStopped","stopImmediatePropagation","isDefaultPrevented","defaultPrevented","iterateEventNames","nativeMethodName","localName","calculateWhich","which","charCode","keyCode","button","test","whichByButton","initEvent","EventClass","_src$view","srcIsEvent","view","hasOwnProperty","isTrusted","timeStamp","Date","now","addProperty","pageX","pageY","propName","hook","eventInstance","enumerable","configurable","value","writable","prop","beforeSetStrategy","afterSetStrategy","engine","fire","inject","subscribeGlobal","offArgs","splice"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/events/core/m_events_engine.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/events/core/m_events_engine.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport registerEventCallbacks from \"../../../common/core/events/core/event_registrator_callbacks\";\r\nimport hookTouchProps from \"../../../common/core/events/core/hook_touch_props\";\r\nimport {\r\n    getEventTarget\r\n} from \"../../../common/core/events/utils/event_target\";\r\nimport domAdapter from \"../../../core/dom_adapter\";\r\nimport errors from \"../../../core/errors\";\r\nimport callOnce from \"../../../core/utils/call_once\";\r\nimport Callbacks from \"../../../core/utils/callbacks\";\r\nimport injector from \"../../../core/utils/dependency_injector\";\r\nimport {\r\n    extend\r\n} from \"../../../core/utils/extend\";\r\nimport {\r\n    isFunction,\r\n    isObject,\r\n    isString,\r\n    isWindow\r\n} from \"../../../core/utils/type\";\r\nimport {\r\n    getWindow,\r\n    hasWindow\r\n} from \"../../../core/utils/window\";\r\nconst window = getWindow();\r\nconst EMPTY_EVENT_NAME = \"dxEmptyEventType\";\r\nconst NATIVE_EVENTS_TO_SUBSCRIBE = {\r\n    mouseenter: \"mouseover\",\r\n    mouseleave: \"mouseout\",\r\n    pointerenter: \"pointerover\",\r\n    pointerleave: \"pointerout\"\r\n};\r\nconst NATIVE_EVENTS_TO_TRIGGER = {\r\n    focusin: \"focus\",\r\n    focusout: \"blur\"\r\n};\r\nconst NO_BUBBLE_EVENTS = [\"blur\", \"focus\", \"load\"];\r\nconst forcePassiveFalseEventNames = [\"touchmove\", \"wheel\", \"mousewheel\", \"touchstart\"];\r\nconst EVENT_PROPERTIES = [\"target\", \"relatedTarget\", \"delegateTarget\", \"altKey\", \"bubbles\", \"cancelable\", \"changedTouches\", \"ctrlKey\", \"detail\", \"eventPhase\", \"metaKey\", \"shiftKey\", \"view\", \"char\", \"code\", \"charCode\", \"key\", \"keyCode\", \"button\", \"buttons\", \"offsetX\", \"offsetY\", \"pointerId\", \"pointerType\", \"targetTouches\", \"toElement\", \"touches\"];\r\n\r\nfunction matchesSafe(target, selector) {\r\n    return !isWindow(target) && \"#document\" !== target.nodeName && domAdapter.elementMatches(target, selector)\r\n}\r\nconst elementDataMap = new WeakMap;\r\nlet guid = 0;\r\nlet skipEvent;\r\nconst special = function() {\r\n    const specialData = {};\r\n    registerEventCallbacks.add(((eventName, eventObject) => {\r\n        specialData[eventName] = eventObject\r\n    }));\r\n    return {\r\n        getField: (eventName, field) => specialData[eventName] && specialData[eventName][field],\r\n        callMethod: (eventName, methodName, context, args) => specialData[eventName] && specialData[eventName][methodName] && specialData[eventName][methodName].apply(context, args)\r\n    }\r\n}();\r\nconst eventsEngine = injector({\r\n    on: getHandler(normalizeOnArguments(iterate(((element, eventName, selector, data, handler) => {\r\n        const handlersController = getHandlersController(element, eventName);\r\n        handlersController.addHandler(handler, selector, data)\r\n    })))),\r\n    one: getHandler(normalizeOnArguments(((element, eventName, selector, data, handler) => {\r\n        const oneTimeHandler = function() {\r\n            eventsEngine.off(element, eventName, selector, oneTimeHandler);\r\n            handler.apply(this, arguments)\r\n        };\r\n        eventsEngine.on(element, eventName, selector, data, oneTimeHandler)\r\n    }))),\r\n    off: getHandler(normalizeOffArguments(iterate(((element, eventName, selector, handler) => {\r\n        const handlersController = getHandlersController(element, eventName);\r\n        handlersController.removeHandler(handler, selector)\r\n    })))),\r\n    trigger: getHandler(normalizeTriggerArguments(((element, event, extraParameters) => {\r\n        const eventName = event.type;\r\n        const handlersController = getHandlersController(element, event.type);\r\n        special.callMethod(eventName, \"trigger\", element, [event, extraParameters]);\r\n        handlersController.callHandlers(event, extraParameters);\r\n        const noBubble = special.getField(eventName, \"noBubble\") || event.isPropagationStopped() || NO_BUBBLE_EVENTS.includes(eventName);\r\n        if (!noBubble) {\r\n            const parents = [];\r\n            const getParents = function(element) {\r\n                const parent = element.parentNode ?? (isObject(element.host) ? element.host : null);\r\n                if (parent) {\r\n                    parents.push(parent);\r\n                    getParents(parent)\r\n                }\r\n            };\r\n            getParents(element);\r\n            parents.push(window);\r\n            let i = 0;\r\n            while (parents[i] && !event.isPropagationStopped()) {\r\n                const parentDataByEvent = getHandlersController(parents[i], event.type);\r\n                parentDataByEvent.callHandlers(extend(event, {\r\n                    currentTarget: parents[i]\r\n                }), extraParameters);\r\n                i++\r\n            }\r\n        }\r\n        if (element.nodeType || isWindow(element)) {\r\n            special.callMethod(eventName, \"_default\", element, [event, extraParameters]);\r\n            callNativeMethod(eventName, element)\r\n        }\r\n    }))),\r\n    triggerHandler: getHandler(normalizeTriggerArguments(((element, event, extraParameters) => {\r\n        const handlersController = getHandlersController(element, event.type);\r\n        handlersController.callHandlers(event, extraParameters)\r\n    })))\r\n});\r\n\r\nfunction applyForEach(args, method) {\r\n    const element = args[0];\r\n    if (!element) {\r\n        return\r\n    }\r\n    if (domAdapter.isNode(element) || isWindow(element)) {\r\n        method.apply(eventsEngine, args)\r\n    } else if (!isString(element) && \"length\" in element) {\r\n        const itemArgs = Array.prototype.slice.call(args, 0);\r\n        Array.prototype.forEach.call(element, (itemElement => {\r\n            itemArgs[0] = itemElement;\r\n            applyForEach(itemArgs, method)\r\n        }))\r\n    } else {\r\n        throw errors.Error(\"E0025\")\r\n    }\r\n}\r\n\r\nfunction getHandler(method) {\r\n    return function() {\r\n        applyForEach(arguments, method)\r\n    }\r\n}\r\n\r\nfunction detectPassiveEventHandlersSupport() {\r\n    let isSupported = false;\r\n    try {\r\n        const options = Object.defineProperty({}, \"passive\", {\r\n            get() {\r\n                isSupported = true;\r\n                return true\r\n            }\r\n        });\r\n        window.addEventListener(\"test\", null, options)\r\n    } catch (e) {}\r\n    return isSupported\r\n}\r\nconst passiveEventHandlersSupported = callOnce(detectPassiveEventHandlersSupport);\r\nconst contains = (container, element) => {\r\n    if (isWindow(container)) {\r\n        return contains(container.document, element)\r\n    }\r\n    return container.contains ? container.contains(element) : !!(element.compareDocumentPosition(container) & element.DOCUMENT_POSITION_CONTAINS)\r\n};\r\n\r\nfunction getHandlersController(element, eventName) {\r\n    let elementData = elementDataMap.get(element);\r\n    eventName = eventName || \"\";\r\n    const eventNameParts = eventName.split(\".\");\r\n    const namespaces = eventNameParts.slice(1);\r\n    const eventNameIsDefined = !!eventNameParts[0];\r\n    eventName = eventNameParts[0] || EMPTY_EVENT_NAME;\r\n    if (!elementData) {\r\n        elementData = {};\r\n        elementDataMap.set(element, elementData)\r\n    }\r\n    if (!elementData[eventName]) {\r\n        elementData[eventName] = {\r\n            handleObjects: [],\r\n            nativeHandler: null\r\n        }\r\n    }\r\n    const eventData = elementData[eventName];\r\n    return {\r\n        addHandler(handler, selector, data) {\r\n            const callHandler = function(e, extraParameters) {\r\n                const handlerArgs = [e];\r\n                const target = e.currentTarget;\r\n                const {\r\n                    relatedTarget: relatedTarget\r\n                } = e;\r\n                let secondaryTargetIsInside;\r\n                let result;\r\n                if (eventName in NATIVE_EVENTS_TO_SUBSCRIBE) {\r\n                    secondaryTargetIsInside = relatedTarget && target && (relatedTarget === target || contains(target, relatedTarget))\r\n                }\r\n                if (void 0 !== extraParameters) {\r\n                    handlerArgs.push(extraParameters)\r\n                }\r\n                special.callMethod(eventName, \"handle\", element, [e, data]);\r\n                if (!secondaryTargetIsInside) {\r\n                    result = handler.apply(target, handlerArgs)\r\n                }\r\n                if (false === result) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation()\r\n                }\r\n            };\r\n            const handleObject = {\r\n                handler: handler,\r\n                wrappedHandler: function(e, extraParameters) {\r\n                    if (skipEvent && e.type === skipEvent) {\r\n                        return\r\n                    }\r\n                    e.data = data;\r\n                    e.delegateTarget = element;\r\n                    if (selector) {\r\n                        let currentTarget = e.target;\r\n                        while (currentTarget && currentTarget !== element) {\r\n                            if (matchesSafe(currentTarget, selector)) {\r\n                                e.currentTarget = currentTarget;\r\n                                callHandler(e, extraParameters)\r\n                            }\r\n                            currentTarget = currentTarget.parentNode\r\n                        }\r\n                    } else {\r\n                        var _e$target;\r\n                        e.currentTarget = e.delegateTarget || e.target;\r\n                        const isTargetInShadowDOM = Boolean(null === (_e$target = e.target) || void 0 === _e$target ? void 0 : _e$target.shadowRoot);\r\n                        if (isTargetInShadowDOM) {\r\n                            const target = getEventTarget(e);\r\n                            e.target = target\r\n                        }\r\n                        callHandler(e, extraParameters)\r\n                    }\r\n                },\r\n                selector: selector,\r\n                type: eventName,\r\n                data: data,\r\n                namespace: namespaces.join(\".\"),\r\n                namespaces: namespaces,\r\n                guid: ++guid\r\n            };\r\n            eventData.handleObjects.push(handleObject);\r\n            const firstHandlerForTheType = 1 === eventData.handleObjects.length;\r\n            let shouldAddNativeListener = firstHandlerForTheType && eventNameIsDefined;\r\n            let nativeListenerOptions;\r\n            if (shouldAddNativeListener) {\r\n                shouldAddNativeListener = !special.callMethod(eventName, \"setup\", element, [data, namespaces, handler])\r\n            }\r\n            if (shouldAddNativeListener) {\r\n                eventData.nativeHandler = getNativeHandler(eventName);\r\n                if (passiveEventHandlersSupported() && forcePassiveFalseEventNames.includes(eventName)) {\r\n                    nativeListenerOptions = {\r\n                        passive: false\r\n                    }\r\n                }\r\n                eventData.removeListener = domAdapter.listen(element, NATIVE_EVENTS_TO_SUBSCRIBE[eventName] || eventName, eventData.nativeHandler, nativeListenerOptions)\r\n            }\r\n            special.callMethod(eventName, \"add\", element, [handleObject])\r\n        },\r\n        removeHandler(handler, selector) {\r\n            const removeByEventName = function(eventName) {\r\n                const eventData = elementData[eventName];\r\n                if (!eventData.handleObjects.length) {\r\n                    delete elementData[eventName];\r\n                    return\r\n                }\r\n                let removedHandler;\r\n                eventData.handleObjects = eventData.handleObjects.filter((handleObject => {\r\n                    const skip = namespaces.length && !isSubset(handleObject.namespaces, namespaces) || handler && handleObject.handler !== handler || selector && handleObject.selector !== selector;\r\n                    if (!skip) {\r\n                        removedHandler = handleObject.handler;\r\n                        special.callMethod(eventName, \"remove\", element, [handleObject])\r\n                    }\r\n                    return skip\r\n                }));\r\n                const lastHandlerForTheType = !eventData.handleObjects.length;\r\n                const shouldRemoveNativeListener = lastHandlerForTheType && eventName !== EMPTY_EVENT_NAME;\r\n                if (shouldRemoveNativeListener) {\r\n                    special.callMethod(eventName, \"teardown\", element, [namespaces, removedHandler]);\r\n                    if (eventData.nativeHandler) {\r\n                        eventData.removeListener()\r\n                    }\r\n                    delete elementData[eventName]\r\n                }\r\n            };\r\n            if (eventNameIsDefined) {\r\n                removeByEventName(eventName)\r\n            } else {\r\n                for (const name in elementData) {\r\n                    removeByEventName(name)\r\n                }\r\n            }\r\n            const elementDataIsEmpty = 0 === Object.keys(elementData).length;\r\n            if (elementDataIsEmpty) {\r\n                elementDataMap.delete(element)\r\n            }\r\n        },\r\n        callHandlers(event, extraParameters) {\r\n            let forceStop = false;\r\n            const handleCallback = function(handleObject) {\r\n                if (forceStop) {\r\n                    return\r\n                }\r\n                if (!namespaces.length || isSubset(handleObject.namespaces, namespaces)) {\r\n                    handleObject.wrappedHandler(event, extraParameters);\r\n                    forceStop = event.isImmediatePropagationStopped()\r\n                }\r\n            };\r\n            eventData.handleObjects.forEach(handleCallback);\r\n            if (namespaces.length && elementData[EMPTY_EVENT_NAME]) {\r\n                elementData[EMPTY_EVENT_NAME].handleObjects.forEach(handleCallback)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction getNativeHandler(subscribeName) {\r\n    return function(event, extraParameters) {\r\n        const handlersController = getHandlersController(this, subscribeName);\r\n        event = eventsEngine.Event(event);\r\n        handlersController.callHandlers(event, extraParameters)\r\n    }\r\n}\r\n\r\nfunction isSubset(original, checked) {\r\n    for (let i = 0; i < checked.length; i++) {\r\n        if (original.indexOf(checked[i]) < 0) {\r\n            return false\r\n        }\r\n    }\r\n    return true\r\n}\r\n\r\nfunction normalizeOnArguments(callback) {\r\n    return function(element, eventName, selector, data, handler) {\r\n        if (!handler) {\r\n            handler = data;\r\n            data = void 0\r\n        }\r\n        if (\"string\" !== typeof selector) {\r\n            data = selector;\r\n            selector = void 0\r\n        }\r\n        if (!handler && \"string\" === typeof eventName) {\r\n            handler = data || selector;\r\n            selector = void 0;\r\n            data = void 0\r\n        }\r\n        callback(element, eventName, selector, data, handler)\r\n    }\r\n}\r\n\r\nfunction normalizeOffArguments(callback) {\r\n    return function(element, eventName, selector, handler) {\r\n        if (\"function\" === typeof selector) {\r\n            handler = selector;\r\n            selector = void 0\r\n        }\r\n        callback(element, eventName, selector, handler)\r\n    }\r\n}\r\n\r\nfunction normalizeTriggerArguments(callback) {\r\n    return function(element, src, extraParameters) {\r\n        if (\"string\" === typeof src) {\r\n            src = {\r\n                type: src\r\n            }\r\n        }\r\n        if (!src.target) {\r\n            src.target = element\r\n        }\r\n        src.currentTarget = element;\r\n        if (!src.delegateTarget) {\r\n            src.delegateTarget = element\r\n        }\r\n        if (!src.type && src.originalEvent) {\r\n            src.type = src.originalEvent.type\r\n        }\r\n        callback(element, src instanceof eventsEngine.Event ? src : eventsEngine.Event(src), extraParameters)\r\n    }\r\n}\r\n\r\nfunction normalizeEventArguments(callback) {\r\n    eventsEngine.Event = function(src, config) {\r\n        if (!(this instanceof eventsEngine.Event)) {\r\n            return new eventsEngine.Event(src, config)\r\n        }\r\n        if (!src) {\r\n            src = {}\r\n        }\r\n        if (\"string\" === typeof src) {\r\n            src = {\r\n                type: src\r\n            }\r\n        }\r\n        if (!config) {\r\n            config = {}\r\n        }\r\n        callback.call(this, src, config)\r\n    };\r\n    Object.assign(eventsEngine.Event.prototype, {\r\n        _propagationStopped: false,\r\n        _immediatePropagationStopped: false,\r\n        _defaultPrevented: false,\r\n        isPropagationStopped() {\r\n            return !!(this._propagationStopped || this.originalEvent && this.originalEvent.propagationStopped)\r\n        },\r\n        stopPropagation() {\r\n            this._propagationStopped = true;\r\n            this.originalEvent && this.originalEvent.stopPropagation()\r\n        },\r\n        isImmediatePropagationStopped() {\r\n            return this._immediatePropagationStopped\r\n        },\r\n        stopImmediatePropagation() {\r\n            this.stopPropagation();\r\n            this._immediatePropagationStopped = true;\r\n            this.originalEvent && this.originalEvent.stopImmediatePropagation()\r\n        },\r\n        isDefaultPrevented() {\r\n            return !!(this._defaultPrevented || this.originalEvent && this.originalEvent.defaultPrevented)\r\n        },\r\n        preventDefault() {\r\n            this._defaultPrevented = true;\r\n            this.originalEvent && this.originalEvent.preventDefault()\r\n        }\r\n    });\r\n    return eventsEngine.Event\r\n}\r\n\r\nfunction iterate(callback) {\r\n    const iterateEventNames = function(element, eventName) {\r\n        if (eventName && eventName.indexOf(\" \") > -1) {\r\n            const args = Array.prototype.slice.call(arguments, 0);\r\n            eventName.split(\" \").forEach((function(eventName) {\r\n                args[1] = eventName;\r\n                callback.apply(this, args)\r\n            }))\r\n        } else {\r\n            callback.apply(this, arguments)\r\n        }\r\n    };\r\n    return function(element, eventName) {\r\n        if (\"object\" === typeof eventName) {\r\n            const args = Array.prototype.slice.call(arguments, 0);\r\n            for (const name in eventName) {\r\n                args[1] = name;\r\n                args[args.length - 1] = eventName[name];\r\n                iterateEventNames.apply(this, args)\r\n            }\r\n        } else {\r\n            iterateEventNames.apply(this, arguments)\r\n        }\r\n    }\r\n}\r\n\r\nfunction callNativeMethod(eventName, element) {\r\n    const nativeMethodName = NATIVE_EVENTS_TO_TRIGGER[eventName] || eventName;\r\n    if (function(eventName, element) {\r\n            return \"click\" === eventName && \"a\" === element.localName\r\n        }(eventName, element)) {\r\n        return\r\n    }\r\n    if (isFunction(element[nativeMethodName])) {\r\n        skipEvent = eventName;\r\n        element[nativeMethodName]();\r\n        skipEvent = void 0\r\n    }\r\n}\r\n\r\nfunction calculateWhich(event) {\r\n    if (function(event) {\r\n            return null == event.which && 0 === event.type.indexOf(\"key\")\r\n        }(event)) {\r\n        return null != event.charCode ? event.charCode : event.keyCode\r\n    }\r\n    if (function(event) {\r\n            return !event.which && void 0 !== event.button && /^(?:mouse|pointer|contextmenu|drag|drop)|click/.test(event.type)\r\n        }(event)) {\r\n        const whichByButton = {\r\n            1: 1,\r\n            2: 3,\r\n            3: 1,\r\n            4: 2\r\n        };\r\n        return whichByButton[event.button]\r\n    }\r\n    return event.which\r\n}\r\n\r\nfunction initEvent(EventClass) {\r\n    if (EventClass) {\r\n        eventsEngine.Event = EventClass;\r\n        eventsEngine.Event.prototype = EventClass.prototype\r\n    }\r\n}\r\ninitEvent(normalizeEventArguments((function(src, config) {\r\n    var _src$view;\r\n    const srcIsEvent = src instanceof eventsEngine.Event || hasWindow() && src instanceof window.Event || (null === (_src$view = src.view) || void 0 === _src$view ? void 0 : _src$view.Event) && src instanceof src.view.Event;\r\n    if (srcIsEvent) {\r\n        this.originalEvent = src;\r\n        this.type = src.type;\r\n        this.currentTarget = void 0;\r\n        if (Object.prototype.hasOwnProperty.call(src, \"isTrusted\")) {\r\n            this.isTrusted = src.isTrusted\r\n        }\r\n        this.timeStamp = src.timeStamp || Date.now()\r\n    } else {\r\n        Object.assign(this, src)\r\n    }\r\n    addProperty(\"which\", calculateWhich, this);\r\n    if (0 === src.type.indexOf(\"touch\")) {\r\n        delete config.pageX;\r\n        delete config.pageY\r\n    }\r\n    Object.assign(this, config);\r\n    this.guid = ++guid\r\n})));\r\n\r\nfunction addProperty(propName, hook, eventInstance) {\r\n    Object.defineProperty(eventInstance || eventsEngine.Event.prototype, propName, {\r\n        enumerable: true,\r\n        configurable: true,\r\n        get() {\r\n            return this.originalEvent && hook(this.originalEvent)\r\n        },\r\n        set(value) {\r\n            Object.defineProperty(this, propName, {\r\n                enumerable: true,\r\n                configurable: true,\r\n                writable: true,\r\n                value: value\r\n            })\r\n        }\r\n    })\r\n}\r\nEVENT_PROPERTIES.forEach((prop => addProperty(prop, (event => event[prop]))));\r\nhookTouchProps(addProperty);\r\nconst beforeSetStrategy = Callbacks();\r\nconst afterSetStrategy = Callbacks();\r\neventsEngine.set = function(engine) {\r\n    beforeSetStrategy.fire();\r\n    eventsEngine.inject(engine);\r\n    initEvent(engine.Event);\r\n    afterSetStrategy.fire()\r\n};\r\neventsEngine.subscribeGlobal = function() {\r\n    applyForEach(arguments, normalizeOnArguments((function() {\r\n        const args = arguments;\r\n        eventsEngine.on.apply(this, args);\r\n        beforeSetStrategy.add((function() {\r\n            const offArgs = Array.prototype.slice.call(args, 0);\r\n            offArgs.splice(3, 1);\r\n            eventsEngine.off.apply(this, offArgs)\r\n        }));\r\n        afterSetStrategy.add((function() {\r\n            eventsEngine.on.apply(this, args)\r\n        }))\r\n    })))\r\n};\r\neventsEngine.forcePassiveFalseEventNames = forcePassiveFalseEventNames;\r\neventsEngine.passiveEventHandlersSupported = passiveEventHandlersSupported;\r\nexport default eventsEngine;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}