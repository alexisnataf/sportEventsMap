{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/widget/utils.ink_ripple.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getOuterWidth, getOuterHeight } from \"../../core/utils/size\";\nimport $ from \"../../core/renderer\";\nconst INKRIPPLE_CLASS = \"dx-inkripple\";\nconst INKRIPPLE_WAVE_CLASS = \"dx-inkripple-wave\";\nconst INKRIPPLE_SHOWING_CLASS = \"dx-inkripple-showing\";\nconst INKRIPPLE_HIDING_CLASS = \"dx-inkripple-hiding\";\nconst DEFAULT_WAVE_SIZE_COEFFICIENT = 2;\nconst MAX_WAVE_SIZE = 4e3;\nconst ANIMATION_DURATION = 300;\nconst HOLD_ANIMATION_DURATION = 1e3;\nconst DEFAULT_WAVE_INDEX = 0;\nexport const initConfig = function () {\n  let config = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n  const {\n    useHoldAnimation: useHoldAnimation,\n    waveSizeCoefficient: waveSizeCoefficient,\n    isCentered: isCentered,\n    wavesNumber: wavesNumber\n  } = config;\n  return {\n    waveSizeCoefficient: waveSizeCoefficient || 2,\n    isCentered: isCentered || false,\n    wavesNumber: wavesNumber || 1,\n    durations: getDurations(useHoldAnimation ?? true)\n  };\n};\nexport const render = function (args) {\n  const config = initConfig(args);\n  return {\n    showWave: showWave.bind(this, config),\n    hideWave: hideWave.bind(this, config)\n  };\n};\nconst getInkRipple = function (element) {\n  let result = element.children(\".dx-inkripple\");\n  if (0 === result.length) {\n    result = $(\"<div>\").addClass(\"dx-inkripple\").appendTo(element);\n  }\n  return result;\n};\nconst getWaves = function (element, wavesNumber) {\n  const inkRipple = getInkRipple($(element));\n  const result = inkRipple.children(\".dx-inkripple-wave\").toArray();\n  for (let i = result.length; i < wavesNumber; i++) {\n    const $currentWave = $(\"<div>\").appendTo(inkRipple).addClass(\"dx-inkripple-wave\");\n    result.push($currentWave[0]);\n  }\n  return $(result);\n};\nconst getWaveStyleConfig = function (args, config) {\n  const element = $(config.element);\n  const elementWidth = getOuterWidth(element);\n  const elementHeight = getOuterHeight(element);\n  const elementDiagonal = parseInt(Math.sqrt(elementWidth * elementWidth + elementHeight * elementHeight));\n  const waveSize = Math.min(4e3, parseInt(elementDiagonal * args.waveSizeCoefficient));\n  let left;\n  let top;\n  if (args.isCentered) {\n    left = (elementWidth - waveSize) / 2;\n    top = (elementHeight - waveSize) / 2;\n  } else {\n    const event = config.event;\n    const position = element.offset();\n    const x = event.pageX - position.left;\n    const y = event.pageY - position.top;\n    left = x - waveSize / 2;\n    top = y - waveSize / 2;\n  }\n  return {\n    left: left,\n    top: top,\n    height: waveSize,\n    width: waveSize\n  };\n};\nexport function showWave(args, config) {\n  const $wave = getWaves(config.element, args.wavesNumber).eq(config.wave || 0);\n  args.hidingTimeout && clearTimeout(args.hidingTimeout);\n  hideSelectedWave($wave);\n  $wave.css(getWaveStyleConfig(args, config));\n  args.showingTimeout = setTimeout(showingWaveHandler.bind(this, args, $wave), 0);\n}\nfunction showingWaveHandler(args, $wave) {\n  const durationCss = args.durations.showingScale + \"ms\";\n  $wave.addClass(\"dx-inkripple-showing\").css(\"transitionDuration\", durationCss);\n}\nfunction getDurations(useHoldAnimation) {\n  return {\n    showingScale: useHoldAnimation ? 1e3 : 300,\n    hidingScale: 300,\n    hidingOpacity: 300\n  };\n}\nfunction hideSelectedWave($wave) {\n  $wave.removeClass(\"dx-inkripple-hiding\").css(\"transitionDuration\", \"\");\n}\nexport function hideWave(args, config) {\n  args.showingTimeout && clearTimeout(args.showingTimeout);\n  const $wave = getWaves(config.element, config.wavesNumber).eq(config.wave || 0);\n  const durations = args.durations;\n  const durationCss = durations.hidingScale + \"ms, \" + durations.hidingOpacity + \"ms\";\n  $wave.addClass(\"dx-inkripple-hiding\").removeClass(\"dx-inkripple-showing\").css(\"transitionDuration\", durationCss);\n  const animationDuration = Math.max(durations.hidingScale, durations.hidingOpacity);\n  args.hidingTimeout = setTimeout(hideSelectedWave.bind(this, $wave), animationDuration);\n}","map":{"version":3,"names":["getOuterWidth","getOuterHeight","$","INKRIPPLE_CLASS","INKRIPPLE_WAVE_CLASS","INKRIPPLE_SHOWING_CLASS","INKRIPPLE_HIDING_CLASS","DEFAULT_WAVE_SIZE_COEFFICIENT","MAX_WAVE_SIZE","ANIMATION_DURATION","HOLD_ANIMATION_DURATION","DEFAULT_WAVE_INDEX","initConfig","config","arguments","length","useHoldAnimation","waveSizeCoefficient","isCentered","wavesNumber","durations","getDurations","render","args","showWave","bind","hideWave","getInkRipple","element","result","children","addClass","appendTo","getWaves","inkRipple","toArray","i","$currentWave","push","getWaveStyleConfig","elementWidth","elementHeight","elementDiagonal","parseInt","Math","sqrt","waveSize","min","left","top","event","position","offset","x","pageX","y","pageY","height","width","$wave","eq","wave","hidingTimeout","clearTimeout","hideSelectedWave","css","showingTimeout","setTimeout","showingWaveHandler","durationCss","showingScale","hidingScale","hidingOpacity","removeClass","animationDuration","max"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/ui/widget/utils.ink_ripple.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/widget/utils.ink_ripple.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterWidth,\r\n    getOuterHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nconst INKRIPPLE_CLASS = \"dx-inkripple\";\r\nconst INKRIPPLE_WAVE_CLASS = \"dx-inkripple-wave\";\r\nconst INKRIPPLE_SHOWING_CLASS = \"dx-inkripple-showing\";\r\nconst INKRIPPLE_HIDING_CLASS = \"dx-inkripple-hiding\";\r\nconst DEFAULT_WAVE_SIZE_COEFFICIENT = 2;\r\nconst MAX_WAVE_SIZE = 4e3;\r\nconst ANIMATION_DURATION = 300;\r\nconst HOLD_ANIMATION_DURATION = 1e3;\r\nconst DEFAULT_WAVE_INDEX = 0;\r\nexport const initConfig = function() {\r\n    let config = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\r\n    const {\r\n        useHoldAnimation: useHoldAnimation,\r\n        waveSizeCoefficient: waveSizeCoefficient,\r\n        isCentered: isCentered,\r\n        wavesNumber: wavesNumber\r\n    } = config;\r\n    return {\r\n        waveSizeCoefficient: waveSizeCoefficient || 2,\r\n        isCentered: isCentered || false,\r\n        wavesNumber: wavesNumber || 1,\r\n        durations: getDurations(useHoldAnimation ?? true)\r\n    }\r\n};\r\nexport const render = function(args) {\r\n    const config = initConfig(args);\r\n    return {\r\n        showWave: showWave.bind(this, config),\r\n        hideWave: hideWave.bind(this, config)\r\n    }\r\n};\r\nconst getInkRipple = function(element) {\r\n    let result = element.children(\".dx-inkripple\");\r\n    if (0 === result.length) {\r\n        result = $(\"<div>\").addClass(\"dx-inkripple\").appendTo(element)\r\n    }\r\n    return result\r\n};\r\nconst getWaves = function(element, wavesNumber) {\r\n    const inkRipple = getInkRipple($(element));\r\n    const result = inkRipple.children(\".dx-inkripple-wave\").toArray();\r\n    for (let i = result.length; i < wavesNumber; i++) {\r\n        const $currentWave = $(\"<div>\").appendTo(inkRipple).addClass(\"dx-inkripple-wave\");\r\n        result.push($currentWave[0])\r\n    }\r\n    return $(result)\r\n};\r\nconst getWaveStyleConfig = function(args, config) {\r\n    const element = $(config.element);\r\n    const elementWidth = getOuterWidth(element);\r\n    const elementHeight = getOuterHeight(element);\r\n    const elementDiagonal = parseInt(Math.sqrt(elementWidth * elementWidth + elementHeight * elementHeight));\r\n    const waveSize = Math.min(4e3, parseInt(elementDiagonal * args.waveSizeCoefficient));\r\n    let left;\r\n    let top;\r\n    if (args.isCentered) {\r\n        left = (elementWidth - waveSize) / 2;\r\n        top = (elementHeight - waveSize) / 2\r\n    } else {\r\n        const event = config.event;\r\n        const position = element.offset();\r\n        const x = event.pageX - position.left;\r\n        const y = event.pageY - position.top;\r\n        left = x - waveSize / 2;\r\n        top = y - waveSize / 2\r\n    }\r\n    return {\r\n        left: left,\r\n        top: top,\r\n        height: waveSize,\r\n        width: waveSize\r\n    }\r\n};\r\nexport function showWave(args, config) {\r\n    const $wave = getWaves(config.element, args.wavesNumber).eq(config.wave || 0);\r\n    args.hidingTimeout && clearTimeout(args.hidingTimeout);\r\n    hideSelectedWave($wave);\r\n    $wave.css(getWaveStyleConfig(args, config));\r\n    args.showingTimeout = setTimeout(showingWaveHandler.bind(this, args, $wave), 0)\r\n}\r\n\r\nfunction showingWaveHandler(args, $wave) {\r\n    const durationCss = args.durations.showingScale + \"ms\";\r\n    $wave.addClass(\"dx-inkripple-showing\").css(\"transitionDuration\", durationCss)\r\n}\r\n\r\nfunction getDurations(useHoldAnimation) {\r\n    return {\r\n        showingScale: useHoldAnimation ? 1e3 : 300,\r\n        hidingScale: 300,\r\n        hidingOpacity: 300\r\n    }\r\n}\r\n\r\nfunction hideSelectedWave($wave) {\r\n    $wave.removeClass(\"dx-inkripple-hiding\").css(\"transitionDuration\", \"\")\r\n}\r\nexport function hideWave(args, config) {\r\n    args.showingTimeout && clearTimeout(args.showingTimeout);\r\n    const $wave = getWaves(config.element, config.wavesNumber).eq(config.wave || 0);\r\n    const durations = args.durations;\r\n    const durationCss = durations.hidingScale + \"ms, \" + durations.hidingOpacity + \"ms\";\r\n    $wave.addClass(\"dx-inkripple-hiding\").removeClass(\"dx-inkripple-showing\").css(\"transitionDuration\", durationCss);\r\n    const animationDuration = Math.max(durations.hidingScale, durations.hidingOpacity);\r\n    args.hidingTimeout = setTimeout(hideSelectedWave.bind(this, $wave), animationDuration)\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}