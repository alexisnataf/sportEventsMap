{"ast":null,"code":"/*!\n * devextreme-react\n * Version: 24.2.7\n * Build date: Mon Apr 28 2025\n *\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-react\n */\n\nimport { buildNodeFullName } from './config-node';\nimport { buildNode, buildTemplates } from './tree';\nimport { mergeNameParts } from './utils';\nfunction compareTemplates(current, currentFullName, prev, changesAccum) {\n  const currentTemplatesOptions = {};\n  const currentTemplates = {};\n  const prevTemplatesOptions = {};\n  const prevTemplates = {};\n  buildTemplates(current, currentTemplatesOptions, currentTemplates);\n  buildTemplates(prev, prevTemplatesOptions, prevTemplates);\n  changesAccum.addRemovedValues(currentTemplatesOptions, prevTemplatesOptions, currentFullName);\n  // TODO: support switching to default templates\n  // appendRemovedValues(currentTemplates, prevTemplates, \"\", changesAccum.templates);\n  Object.keys(currentTemplatesOptions).forEach(key => {\n    if (currentTemplatesOptions[key] === prevTemplatesOptions[key]) {\n      return;\n    }\n    changesAccum.options[mergeNameParts(currentFullName, key)] = currentTemplatesOptions[key];\n  });\n  Object.keys(currentTemplates).forEach(key => {\n    const currentTemplate = currentTemplates[key];\n    const prevTemplate = prevTemplates[key];\n    if (prevTemplate && currentTemplate.content === prevTemplate.content) {\n      return;\n    }\n    changesAccum.templates[key] = currentTemplate;\n  });\n}\nfunction compare(current, prev, changesAccum) {\n  const fullName = buildNodeFullName(current);\n  if (!prev) {\n    changesAccum.options[fullName] = buildNode(current, changesAccum.templates, true);\n    return;\n  }\n  changesAccum.addRemovedValues(current.options, prev.options, fullName);\n  changesAccum.addRemovedValues(current.configCollections, prev.configCollections, fullName);\n  changesAccum.addRemovedValues(current.configs, prev.configs, fullName);\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  compareCollections(current, fullName, prev, changesAccum);\n  Object.keys(current.configs).forEach(key => {\n    compare(current.configs[key], prev.configs[key], changesAccum);\n  });\n  Object.keys(current.options).forEach(key => {\n    if (current.options[key] === prev.options[key]) {\n      return;\n    }\n    changesAccum.options[mergeNameParts(fullName, key)] = current.options[key];\n  });\n  compareTemplates(current, fullName, prev, changesAccum);\n}\nfunction appendRemovedValues(current, prev, path, changesAccum) {\n  const removedKeys = Object.keys(prev).filter(key => !Object.keys(current).includes(key));\n  removedKeys.forEach(key => {\n    changesAccum.push(mergeNameParts(path, key));\n  });\n}\nfunction getChanges(current, prev) {\n  const changesAccum = {\n    options: {},\n    removedOptions: [],\n    templates: {},\n    addRemovedValues(currentOptions, prevOptions, path) {\n      appendRemovedValues(currentOptions, prevOptions, path, this.removedOptions);\n    }\n  };\n  compare(current, prev, changesAccum);\n  return changesAccum;\n}\nfunction compareCollections(current, currentFullName, prev, changesAccum) {\n  Object.keys(current.configCollections).forEach(key => {\n    const currentCollection = current.configCollections[key];\n    const prevCollection = prev.configCollections[key] || [];\n    if (!currentCollection || currentCollection.length !== prevCollection.length) {\n      const updatedCollection = [];\n      currentCollection.forEach(item => {\n        const config = buildNode(item, changesAccum.templates, true);\n        updatedCollection.push(config);\n      });\n      changesAccum.options[mergeNameParts(currentFullName, key)] = updatedCollection;\n      return;\n    }\n    for (let i = 0; i < currentCollection.length; i += 1) {\n      compare(currentCollection[i], prevCollection[i], changesAccum);\n    }\n  });\n}\nexport { getChanges };","map":{"version":3,"names":["buildNodeFullName","buildNode","buildTemplates","mergeNameParts","compareTemplates","current","currentFullName","prev","changesAccum","currentTemplatesOptions","currentTemplates","prevTemplatesOptions","prevTemplates","addRemovedValues","Object","keys","forEach","key","options","currentTemplate","prevTemplate","content","templates","compare","fullName","configCollections","configs","compareCollections","appendRemovedValues","path","removedKeys","filter","includes","push","getChanges","removedOptions","currentOptions","prevOptions","currentCollection","prevCollection","length","updatedCollection","item","config","i"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme-react/esm/core/configuration/comparer.js"],"sourcesContent":["/*!\n * devextreme-react\n * Version: 24.2.7\n * Build date: Mon Apr 28 2025\n *\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-react\n */\n\nimport { buildNodeFullName } from './config-node';\nimport { buildNode, buildTemplates } from './tree';\nimport { mergeNameParts } from './utils';\nfunction compareTemplates(current, currentFullName, prev, changesAccum) {\n    const currentTemplatesOptions = {};\n    const currentTemplates = {};\n    const prevTemplatesOptions = {};\n    const prevTemplates = {};\n    buildTemplates(current, currentTemplatesOptions, currentTemplates);\n    buildTemplates(prev, prevTemplatesOptions, prevTemplates);\n    changesAccum.addRemovedValues(currentTemplatesOptions, prevTemplatesOptions, currentFullName);\n    // TODO: support switching to default templates\n    // appendRemovedValues(currentTemplates, prevTemplates, \"\", changesAccum.templates);\n    Object.keys(currentTemplatesOptions).forEach((key) => {\n        if (currentTemplatesOptions[key] === prevTemplatesOptions[key]) {\n            return;\n        }\n        changesAccum.options[mergeNameParts(currentFullName, key)] = currentTemplatesOptions[key];\n    });\n    Object.keys(currentTemplates).forEach((key) => {\n        const currentTemplate = currentTemplates[key];\n        const prevTemplate = prevTemplates[key];\n        if (prevTemplate && currentTemplate.content === prevTemplate.content) {\n            return;\n        }\n        changesAccum.templates[key] = currentTemplate;\n    });\n}\nfunction compare(current, prev, changesAccum) {\n    const fullName = buildNodeFullName(current);\n    if (!prev) {\n        changesAccum.options[fullName] = buildNode(current, changesAccum.templates, true);\n        return;\n    }\n    changesAccum.addRemovedValues(current.options, prev.options, fullName);\n    changesAccum.addRemovedValues(current.configCollections, prev.configCollections, fullName);\n    changesAccum.addRemovedValues(current.configs, prev.configs, fullName);\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    compareCollections(current, fullName, prev, changesAccum);\n    Object.keys(current.configs).forEach((key) => {\n        compare(current.configs[key], prev.configs[key], changesAccum);\n    });\n    Object.keys(current.options).forEach((key) => {\n        if (current.options[key] === prev.options[key]) {\n            return;\n        }\n        changesAccum.options[mergeNameParts(fullName, key)] = current.options[key];\n    });\n    compareTemplates(current, fullName, prev, changesAccum);\n}\nfunction appendRemovedValues(current, prev, path, changesAccum) {\n    const removedKeys = Object.keys(prev).filter((key) => !Object.keys(current).includes(key));\n    removedKeys.forEach((key) => {\n        changesAccum.push(mergeNameParts(path, key));\n    });\n}\nfunction getChanges(current, prev) {\n    const changesAccum = {\n        options: {},\n        removedOptions: [],\n        templates: {},\n        addRemovedValues(currentOptions, prevOptions, path) {\n            appendRemovedValues(currentOptions, prevOptions, path, this.removedOptions);\n        },\n    };\n    compare(current, prev, changesAccum);\n    return changesAccum;\n}\nfunction compareCollections(current, currentFullName, prev, changesAccum) {\n    Object.keys(current.configCollections).forEach((key) => {\n        const currentCollection = current.configCollections[key];\n        const prevCollection = prev.configCollections[key] || [];\n        if (!currentCollection || currentCollection.length !== prevCollection.length) {\n            const updatedCollection = [];\n            currentCollection.forEach((item) => {\n                const config = buildNode(item, changesAccum.templates, true);\n                updatedCollection.push(config);\n            });\n            changesAccum.options[mergeNameParts(currentFullName, key)] = updatedCollection;\n            return;\n        }\n        for (let i = 0; i < currentCollection.length; i += 1) {\n            compare(currentCollection[i], prevCollection[i], changesAccum);\n        }\n    });\n}\nexport { getChanges, };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}