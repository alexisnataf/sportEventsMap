{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/core/m_element_data.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport eventsEngine from \"../../common/core/events/core/events_engine\";\nimport domAdapter from \"../../core/dom_adapter\";\nimport MemorizedCallbacks from \"../../core/memorized_callbacks\";\nconst dataMap = new WeakMap();\nlet strategy;\nexport const strategyChanging = new MemorizedCallbacks();\nlet beforeCleanDataFunc = function () {};\nlet afterCleanDataFunc = function () {};\nexport const setDataStrategy = function (value) {\n  strategyChanging.fire(value);\n  strategy = value;\n  const {\n    cleanData: cleanData\n  } = strategy;\n  strategy.cleanData = function (nodes) {\n    beforeCleanDataFunc(nodes);\n    const result = cleanData.call(this, nodes);\n    afterCleanDataFunc(nodes);\n    return result;\n  };\n};\nsetDataStrategy({\n  data: function () {\n    const element = arguments.length <= 0 ? void 0 : arguments[0];\n    const key = arguments.length <= 1 ? void 0 : arguments[1];\n    const value = arguments.length <= 2 ? void 0 : arguments[2];\n    if (!element) {\n      return;\n    }\n    let elementData = dataMap.get(element);\n    if (!elementData) {\n      elementData = {};\n      dataMap.set(element, elementData);\n    }\n    if (void 0 === key) {\n      return elementData;\n    }\n    if (2 === arguments.length) {\n      return elementData[key];\n    }\n    elementData[key] = value;\n    return value;\n  },\n  removeData: function (element, key) {\n    if (!element) {\n      return;\n    }\n    if (void 0 === key) {\n      dataMap.delete(element);\n    } else {\n      const elementData = dataMap.get(element);\n      if (elementData) {\n        delete elementData[key];\n      }\n    }\n  },\n  cleanData: function (elements) {\n    for (let i = 0; i < elements.length; i++) {\n      eventsEngine.off(elements[i]);\n      dataMap.delete(elements[i]);\n    }\n  }\n});\nexport function getDataStrategy() {\n  return strategy;\n}\nexport function data() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  return strategy.data.apply(this, args);\n}\nexport function beforeCleanData(callback) {\n  beforeCleanDataFunc = callback;\n}\nexport function afterCleanData(callback) {\n  afterCleanDataFunc = callback;\n}\nexport function cleanData(nodes) {\n  return strategy.cleanData.call(this, nodes);\n}\nexport function removeData(element, key) {\n  return strategy.removeData.call(this, element, key);\n}\nexport function cleanDataRecursive(element, cleanSelf) {\n  if (!domAdapter.isElementNode(element)) {\n    return;\n  }\n  const childElements = element.getElementsByTagName(\"*\");\n  strategy.cleanData(childElements);\n  if (cleanSelf) {\n    strategy.cleanData([element]);\n  }\n}","map":{"version":3,"names":["eventsEngine","domAdapter","MemorizedCallbacks","dataMap","WeakMap","strategy","strategyChanging","beforeCleanDataFunc","afterCleanDataFunc","setDataStrategy","value","fire","cleanData","nodes","result","call","data","element","arguments","length","key","elementData","get","set","removeData","delete","elements","i","off","getDataStrategy","_len","args","Array","_key","apply","beforeCleanData","callback","afterCleanData","cleanDataRecursive","cleanSelf","isElementNode","childElements","getElementsByTagName"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/core/m_element_data.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/core/m_element_data.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport eventsEngine from \"../../common/core/events/core/events_engine\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport MemorizedCallbacks from \"../../core/memorized_callbacks\";\r\nconst dataMap = new WeakMap;\r\nlet strategy;\r\nexport const strategyChanging = new MemorizedCallbacks;\r\nlet beforeCleanDataFunc = function() {};\r\nlet afterCleanDataFunc = function() {};\r\nexport const setDataStrategy = function(value) {\r\n    strategyChanging.fire(value);\r\n    strategy = value;\r\n    const {\r\n        cleanData: cleanData\r\n    } = strategy;\r\n    strategy.cleanData = function(nodes) {\r\n        beforeCleanDataFunc(nodes);\r\n        const result = cleanData.call(this, nodes);\r\n        afterCleanDataFunc(nodes);\r\n        return result\r\n    }\r\n};\r\nsetDataStrategy({\r\n    data: function() {\r\n        const element = arguments.length <= 0 ? void 0 : arguments[0];\r\n        const key = arguments.length <= 1 ? void 0 : arguments[1];\r\n        const value = arguments.length <= 2 ? void 0 : arguments[2];\r\n        if (!element) {\r\n            return\r\n        }\r\n        let elementData = dataMap.get(element);\r\n        if (!elementData) {\r\n            elementData = {};\r\n            dataMap.set(element, elementData)\r\n        }\r\n        if (void 0 === key) {\r\n            return elementData\r\n        }\r\n        if (2 === arguments.length) {\r\n            return elementData[key]\r\n        }\r\n        elementData[key] = value;\r\n        return value\r\n    },\r\n    removeData: function(element, key) {\r\n        if (!element) {\r\n            return\r\n        }\r\n        if (void 0 === key) {\r\n            dataMap.delete(element)\r\n        } else {\r\n            const elementData = dataMap.get(element);\r\n            if (elementData) {\r\n                delete elementData[key]\r\n            }\r\n        }\r\n    },\r\n    cleanData: function(elements) {\r\n        for (let i = 0; i < elements.length; i++) {\r\n            eventsEngine.off(elements[i]);\r\n            dataMap.delete(elements[i])\r\n        }\r\n    }\r\n});\r\nexport function getDataStrategy() {\r\n    return strategy\r\n}\r\nexport function data() {\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n        args[_key] = arguments[_key]\r\n    }\r\n    return strategy.data.apply(this, args)\r\n}\r\nexport function beforeCleanData(callback) {\r\n    beforeCleanDataFunc = callback\r\n}\r\nexport function afterCleanData(callback) {\r\n    afterCleanDataFunc = callback\r\n}\r\nexport function cleanData(nodes) {\r\n    return strategy.cleanData.call(this, nodes)\r\n}\r\nexport function removeData(element, key) {\r\n    return strategy.removeData.call(this, element, key)\r\n}\r\nexport function cleanDataRecursive(element, cleanSelf) {\r\n    if (!domAdapter.isElementNode(element)) {\r\n        return\r\n    }\r\n    const childElements = element.getElementsByTagName(\"*\");\r\n    strategy.cleanData(childElements);\r\n    if (cleanSelf) {\r\n        strategy.cleanData([element])\r\n    }\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,YAAY,MAAM,6CAA6C;AACtE,OAAOC,UAAU,MAAM,wBAAwB;AAC/C,OAAOC,kBAAkB,MAAM,gCAAgC;AAC/D,MAAMC,OAAO,GAAG,IAAIC,OAAO,CAAD,CAAC;AAC3B,IAAIC,QAAQ;AACZ,OAAO,MAAMC,gBAAgB,GAAG,IAAIJ,kBAAkB,CAAD,CAAC;AACtD,IAAIK,mBAAmB,GAAG,SAAAA,CAAA,EAAW,CAAC,CAAC;AACvC,IAAIC,kBAAkB,GAAG,SAAAA,CAAA,EAAW,CAAC,CAAC;AACtC,OAAO,MAAMC,eAAe,GAAG,SAAAA,CAASC,KAAK,EAAE;EAC3CJ,gBAAgB,CAACK,IAAI,CAACD,KAAK,CAAC;EAC5BL,QAAQ,GAAGK,KAAK;EAChB,MAAM;IACFE,SAAS,EAAEA;EACf,CAAC,GAAGP,QAAQ;EACZA,QAAQ,CAACO,SAAS,GAAG,UAASC,KAAK,EAAE;IACjCN,mBAAmB,CAACM,KAAK,CAAC;IAC1B,MAAMC,MAAM,GAAGF,SAAS,CAACG,IAAI,CAAC,IAAI,EAAEF,KAAK,CAAC;IAC1CL,kBAAkB,CAACK,KAAK,CAAC;IACzB,OAAOC,MAAM;EACjB,CAAC;AACL,CAAC;AACDL,eAAe,CAAC;EACZO,IAAI,EAAE,SAAAA,CAAA,EAAW;IACb,MAAMC,OAAO,GAAGC,SAAS,CAACC,MAAM,IAAI,CAAC,GAAG,KAAK,CAAC,GAAGD,SAAS,CAAC,CAAC,CAAC;IAC7D,MAAME,GAAG,GAAGF,SAAS,CAACC,MAAM,IAAI,CAAC,GAAG,KAAK,CAAC,GAAGD,SAAS,CAAC,CAAC,CAAC;IACzD,MAAMR,KAAK,GAAGQ,SAAS,CAACC,MAAM,IAAI,CAAC,GAAG,KAAK,CAAC,GAAGD,SAAS,CAAC,CAAC,CAAC;IAC3D,IAAI,CAACD,OAAO,EAAE;MACV;IACJ;IACA,IAAII,WAAW,GAAGlB,OAAO,CAACmB,GAAG,CAACL,OAAO,CAAC;IACtC,IAAI,CAACI,WAAW,EAAE;MACdA,WAAW,GAAG,CAAC,CAAC;MAChBlB,OAAO,CAACoB,GAAG,CAACN,OAAO,EAAEI,WAAW,CAAC;IACrC;IACA,IAAI,KAAK,CAAC,KAAKD,GAAG,EAAE;MAChB,OAAOC,WAAW;IACtB;IACA,IAAI,CAAC,KAAKH,SAAS,CAACC,MAAM,EAAE;MACxB,OAAOE,WAAW,CAACD,GAAG,CAAC;IAC3B;IACAC,WAAW,CAACD,GAAG,CAAC,GAAGV,KAAK;IACxB,OAAOA,KAAK;EAChB,CAAC;EACDc,UAAU,EAAE,SAAAA,CAASP,OAAO,EAAEG,GAAG,EAAE;IAC/B,IAAI,CAACH,OAAO,EAAE;MACV;IACJ;IACA,IAAI,KAAK,CAAC,KAAKG,GAAG,EAAE;MAChBjB,OAAO,CAACsB,MAAM,CAACR,OAAO,CAAC;IAC3B,CAAC,MAAM;MACH,MAAMI,WAAW,GAAGlB,OAAO,CAACmB,GAAG,CAACL,OAAO,CAAC;MACxC,IAAII,WAAW,EAAE;QACb,OAAOA,WAAW,CAACD,GAAG,CAAC;MAC3B;IACJ;EACJ,CAAC;EACDR,SAAS,EAAE,SAAAA,CAASc,QAAQ,EAAE;IAC1B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,QAAQ,CAACP,MAAM,EAAEQ,CAAC,EAAE,EAAE;MACtC3B,YAAY,CAAC4B,GAAG,CAACF,QAAQ,CAACC,CAAC,CAAC,CAAC;MAC7BxB,OAAO,CAACsB,MAAM,CAACC,QAAQ,CAACC,CAAC,CAAC,CAAC;IAC/B;EACJ;AACJ,CAAC,CAAC;AACF,OAAO,SAASE,eAAeA,CAAA,EAAG;EAC9B,OAAOxB,QAAQ;AACnB;AACA,OAAO,SAASW,IAAIA,CAAA,EAAG;EACnB,KAAK,IAAIc,IAAI,GAAGZ,SAAS,CAACC,MAAM,EAAEY,IAAI,GAAG,IAAIC,KAAK,CAACF,IAAI,CAAC,EAAEG,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAGH,IAAI,EAAEG,IAAI,EAAE,EAAE;IACrFF,IAAI,CAACE,IAAI,CAAC,GAAGf,SAAS,CAACe,IAAI,CAAC;EAChC;EACA,OAAO5B,QAAQ,CAACW,IAAI,CAACkB,KAAK,CAAC,IAAI,EAAEH,IAAI,CAAC;AAC1C;AACA,OAAO,SAASI,eAAeA,CAACC,QAAQ,EAAE;EACtC7B,mBAAmB,GAAG6B,QAAQ;AAClC;AACA,OAAO,SAASC,cAAcA,CAACD,QAAQ,EAAE;EACrC5B,kBAAkB,GAAG4B,QAAQ;AACjC;AACA,OAAO,SAASxB,SAASA,CAACC,KAAK,EAAE;EAC7B,OAAOR,QAAQ,CAACO,SAAS,CAACG,IAAI,CAAC,IAAI,EAAEF,KAAK,CAAC;AAC/C;AACA,OAAO,SAASW,UAAUA,CAACP,OAAO,EAAEG,GAAG,EAAE;EACrC,OAAOf,QAAQ,CAACmB,UAAU,CAACT,IAAI,CAAC,IAAI,EAAEE,OAAO,EAAEG,GAAG,CAAC;AACvD;AACA,OAAO,SAASkB,kBAAkBA,CAACrB,OAAO,EAAEsB,SAAS,EAAE;EACnD,IAAI,CAACtC,UAAU,CAACuC,aAAa,CAACvB,OAAO,CAAC,EAAE;IACpC;EACJ;EACA,MAAMwB,aAAa,GAAGxB,OAAO,CAACyB,oBAAoB,CAAC,GAAG,CAAC;EACvDrC,QAAQ,CAACO,SAAS,CAAC6B,aAAa,CAAC;EACjC,IAAIF,SAAS,EAAE;IACXlC,QAAQ,CAACO,SAAS,CAAC,CAACK,OAAO,CAAC,CAAC;EACjC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}