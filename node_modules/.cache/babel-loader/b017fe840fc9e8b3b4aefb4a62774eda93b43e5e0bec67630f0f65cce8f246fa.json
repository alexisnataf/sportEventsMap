{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/events/core/m_emitter_registrator.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport registerEvent from \"../../../common/core/events/core/event_registrator\";\nimport eventsEngine from \"../../../common/core/events/core/events_engine\";\nimport { name as wheelEventName } from \"../../../common/core/events/core/wheel\";\nimport pointerEvents from \"../../../common/core/events/pointer\";\nimport { addNamespace, isMouseEvent } from \"../../../common/core/events/utils/index\";\nimport Class from \"../../../core/class\";\nimport domAdapter from \"../../../core/dom_adapter\";\nimport { data as elementData } from \"../../../core/element_data\";\nimport $ from \"../../../core/renderer\";\nimport { extend } from \"../../../core/utils/extend\";\nimport { each } from \"../../../core/utils/iterator\";\nimport readyCallbacks from \"../../../core/utils/ready_callbacks\";\nconst MANAGER_EVENT = \"dxEventManager\";\nconst EMITTER_DATA = \"dxEmitter\";\nconst EventManager = Class.inherit({\n  ctor() {\n    this._attachHandlers();\n    this.reset();\n    this._proxiedCancelHandler = this._cancelHandler.bind(this);\n    this._proxiedAcceptHandler = this._acceptHandler.bind(this);\n  },\n  _attachHandlers() {\n    readyCallbacks.add(() => {\n      const document = domAdapter.getDocument();\n      eventsEngine.subscribeGlobal(document, addNamespace(pointerEvents.down, MANAGER_EVENT), this._pointerDownHandler.bind(this));\n      eventsEngine.subscribeGlobal(document, addNamespace(pointerEvents.move, MANAGER_EVENT), this._pointerMoveHandler.bind(this));\n      eventsEngine.subscribeGlobal(document, addNamespace([pointerEvents.up, pointerEvents.cancel].join(\" \"), MANAGER_EVENT), this._pointerUpHandler.bind(this));\n      eventsEngine.subscribeGlobal(document, addNamespace(wheelEventName, MANAGER_EVENT), this._mouseWheelHandler.bind(this));\n    });\n  },\n  _eachEmitter(callback) {\n    const activeEmitters = this._activeEmitters || [];\n    let i = 0;\n    while (activeEmitters.length > i) {\n      const emitter = activeEmitters[i];\n      if (false === callback(emitter)) {\n        break;\n      }\n      if (activeEmitters[i] === emitter) {\n        i++;\n      }\n    }\n  },\n  _applyToEmitters(method, arg) {\n    this._eachEmitter(emitter => {\n      emitter[method].call(emitter, arg);\n    });\n  },\n  reset() {\n    this._eachEmitter(this._proxiedCancelHandler);\n    this._activeEmitters = [];\n  },\n  resetEmitter(emitter) {\n    this._proxiedCancelHandler(emitter);\n  },\n  _pointerDownHandler(e) {\n    if (isMouseEvent(e) && e.which > 1) {\n      return;\n    }\n    this._updateEmitters(e);\n  },\n  _updateEmitters(e) {\n    if (!this._isSetChanged(e)) {\n      return;\n    }\n    this._cleanEmitters(e);\n    this._fetchEmitters(e);\n  },\n  _isSetChanged(e) {\n    const currentSet = this._closestEmitter(e);\n    const previousSet = this._emittersSet || [];\n    let setChanged = currentSet.length !== previousSet.length;\n    each(currentSet, (index, emitter) => {\n      setChanged = setChanged || previousSet[index] !== emitter;\n      return !setChanged;\n    });\n    this._emittersSet = currentSet;\n    return setChanged;\n  },\n  _closestEmitter(e) {\n    const that = this;\n    const result = [];\n    let $element = $(e.target);\n    function handleEmitter(_, emitter) {\n      if (!!emitter && emitter.validatePointers(e) && emitter.validate(e)) {\n        emitter.addCancelCallback(that._proxiedCancelHandler);\n        emitter.addAcceptCallback(that._proxiedAcceptHandler);\n        result.push(emitter);\n      }\n    }\n    while ($element.length) {\n      const emitters = elementData($element.get(0), \"dxEmitter\") || [];\n      each(emitters, handleEmitter);\n      $element = $element.parent();\n    }\n    return result;\n  },\n  _acceptHandler(acceptedEmitter, e) {\n    this._eachEmitter(emitter => {\n      if (emitter !== acceptedEmitter) {\n        this._cancelEmitter(emitter, e);\n      }\n    });\n  },\n  _cancelHandler(canceledEmitter, e) {\n    this._cancelEmitter(canceledEmitter, e);\n  },\n  _cancelEmitter(emitter, e) {\n    const activeEmitters = this._activeEmitters;\n    if (e) {\n      emitter.cancel(e);\n    } else {\n      emitter.reset();\n    }\n    emitter.removeCancelCallback();\n    emitter.removeAcceptCallback();\n    const emitterIndex = activeEmitters.indexOf(emitter);\n    if (emitterIndex > -1) {\n      activeEmitters.splice(emitterIndex, 1);\n    }\n  },\n  _cleanEmitters(e) {\n    this._applyToEmitters(\"end\", e);\n    this.reset(e);\n  },\n  _fetchEmitters(e) {\n    this._activeEmitters = this._emittersSet.slice();\n    this._applyToEmitters(\"start\", e);\n  },\n  _pointerMoveHandler(e) {\n    this._applyToEmitters(\"move\", e);\n  },\n  _pointerUpHandler(e) {\n    this._updateEmitters(e);\n  },\n  _mouseWheelHandler(e) {\n    if (!this._allowInterruptionByMouseWheel()) {\n      return;\n    }\n    e.pointers = [null];\n    this._pointerDownHandler(e);\n    this._adjustWheelEvent(e);\n    this._pointerMoveHandler(e);\n    e.pointers = [];\n    this._pointerUpHandler(e);\n  },\n  _allowInterruptionByMouseWheel() {\n    let allowInterruption = true;\n    this._eachEmitter(emitter => {\n      allowInterruption = emitter.allowInterruptionByMouseWheel() && allowInterruption;\n      return allowInterruption;\n    });\n    return allowInterruption;\n  },\n  _adjustWheelEvent(e) {\n    let closestGestureEmitter = null;\n    this._eachEmitter(emitter => {\n      if (!emitter.gesture) {\n        return;\n      }\n      const direction = emitter.getDirection(e);\n      if (\"horizontal\" !== direction && !e.shiftKey || \"vertical\" !== direction && e.shiftKey) {\n        closestGestureEmitter = emitter;\n        return false;\n      }\n    });\n    if (!closestGestureEmitter) {\n      return;\n    }\n    const direction = closestGestureEmitter.getDirection(e);\n    const verticalGestureDirection = \"both\" === direction && !e.shiftKey || \"vertical\" === direction;\n    const prop = verticalGestureDirection ? \"pageY\" : \"pageX\";\n    e[prop] += e.delta;\n  },\n  isActive(element) {\n    let result = false;\n    this._eachEmitter(emitter => {\n      result = result || emitter.getElement().is(element);\n    });\n    return result;\n  }\n});\nconst eventManager = new EventManager();\nconst EMITTER_SUBSCRIPTION_DATA = \"dxEmitterSubscription\";\nconst registerEmitter = function (emitterConfig) {\n  const EmitterClass = emitterConfig.emitter;\n  const emitterName = emitterConfig.events[0];\n  const emitterEvents = emitterConfig.events;\n  each(emitterEvents, (_, eventName) => {\n    registerEvent(eventName, {\n      noBubble: !emitterConfig.bubble,\n      setup(element) {\n        const subscriptions = elementData(element, \"dxEmitterSubscription\") || {};\n        const emitters = elementData(element, \"dxEmitter\") || {};\n        const emitter = emitters[emitterName] || new EmitterClass(element);\n        subscriptions[eventName] = true;\n        emitters[emitterName] = emitter;\n        elementData(element, \"dxEmitter\", emitters);\n        elementData(element, \"dxEmitterSubscription\", subscriptions);\n      },\n      add(element, handleObj) {\n        const emitters = elementData(element, \"dxEmitter\");\n        const emitter = emitters[emitterName];\n        emitter.configure(extend({\n          delegateSelector: handleObj.selector\n        }, handleObj.data), handleObj.type);\n      },\n      teardown(element) {\n        const subscriptions = elementData(element, \"dxEmitterSubscription\");\n        const emitters = elementData(element, \"dxEmitter\");\n        const emitter = emitters[emitterName];\n        delete subscriptions[eventName];\n        let disposeEmitter = true;\n        each(emitterEvents, (_, eventName) => {\n          disposeEmitter = disposeEmitter && !subscriptions[eventName];\n          return disposeEmitter;\n        });\n        if (disposeEmitter) {\n          if (eventManager.isActive(element)) {\n            eventManager.resetEmitter(emitter);\n          }\n          emitter && emitter.dispose();\n          delete emitters[emitterName];\n        }\n      }\n    });\n  });\n};\nexport default registerEmitter;","map":{"version":3,"names":["registerEvent","eventsEngine","name","wheelEventName","pointerEvents","addNamespace","isMouseEvent","Class","domAdapter","data","elementData","$","extend","each","readyCallbacks","MANAGER_EVENT","EMITTER_DATA","EventManager","inherit","ctor","_attachHandlers","reset","_proxiedCancelHandler","_cancelHandler","bind","_proxiedAcceptHandler","_acceptHandler","add","document","getDocument","subscribeGlobal","down","_pointerDownHandler","move","_pointerMoveHandler","up","cancel","join","_pointerUpHandler","_mouseWheelHandler","_eachEmitter","callback","activeEmitters","_activeEmitters","i","length","emitter","_applyToEmitters","method","arg","call","resetEmitter","e","which","_updateEmitters","_isSetChanged","_cleanEmitters","_fetchEmitters","currentSet","_closestEmitter","previousSet","_emittersSet","setChanged","index","that","result","$element","target","handleEmitter","_","validatePointers","validate","addCancelCallback","addAcceptCallback","push","emitters","get","parent","acceptedEmitter","_cancelEmitter","canceledEmitter","removeCancelCallback","removeAcceptCallback","emitterIndex","indexOf","splice","slice","_allowInterruptionByMouseWheel","pointers","_adjustWheelEvent","allowInterruption","allowInterruptionByMouseWheel","closestGestureEmitter","gesture","direction","getDirection","shiftKey","verticalGestureDirection","prop","delta","isActive","element","getElement","is","eventManager","EMITTER_SUBSCRIPTION_DATA","registerEmitter","emitterConfig","EmitterClass","emitterName","events","emitterEvents","eventName","noBubble","bubble","setup","subscriptions","handleObj","configure","delegateSelector","selector","type","teardown","disposeEmitter","dispose"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/events/core/m_emitter_registrator.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/events/core/m_emitter_registrator.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport registerEvent from \"../../../common/core/events/core/event_registrator\";\r\nimport eventsEngine from \"../../../common/core/events/core/events_engine\";\r\nimport {\r\n    name as wheelEventName\r\n} from \"../../../common/core/events/core/wheel\";\r\nimport pointerEvents from \"../../../common/core/events/pointer\";\r\nimport {\r\n    addNamespace,\r\n    isMouseEvent\r\n} from \"../../../common/core/events/utils/index\";\r\nimport Class from \"../../../core/class\";\r\nimport domAdapter from \"../../../core/dom_adapter\";\r\nimport {\r\n    data as elementData\r\n} from \"../../../core/element_data\";\r\nimport $ from \"../../../core/renderer\";\r\nimport {\r\n    extend\r\n} from \"../../../core/utils/extend\";\r\nimport {\r\n    each\r\n} from \"../../../core/utils/iterator\";\r\nimport readyCallbacks from \"../../../core/utils/ready_callbacks\";\r\nconst MANAGER_EVENT = \"dxEventManager\";\r\nconst EMITTER_DATA = \"dxEmitter\";\r\nconst EventManager = Class.inherit({\r\n    ctor() {\r\n        this._attachHandlers();\r\n        this.reset();\r\n        this._proxiedCancelHandler = this._cancelHandler.bind(this);\r\n        this._proxiedAcceptHandler = this._acceptHandler.bind(this)\r\n    },\r\n    _attachHandlers() {\r\n        readyCallbacks.add((() => {\r\n            const document = domAdapter.getDocument();\r\n            eventsEngine.subscribeGlobal(document, addNamespace(pointerEvents.down, MANAGER_EVENT), this._pointerDownHandler.bind(this));\r\n            eventsEngine.subscribeGlobal(document, addNamespace(pointerEvents.move, MANAGER_EVENT), this._pointerMoveHandler.bind(this));\r\n            eventsEngine.subscribeGlobal(document, addNamespace([pointerEvents.up, pointerEvents.cancel].join(\" \"), MANAGER_EVENT), this._pointerUpHandler.bind(this));\r\n            eventsEngine.subscribeGlobal(document, addNamespace(wheelEventName, MANAGER_EVENT), this._mouseWheelHandler.bind(this))\r\n        }))\r\n    },\r\n    _eachEmitter(callback) {\r\n        const activeEmitters = this._activeEmitters || [];\r\n        let i = 0;\r\n        while (activeEmitters.length > i) {\r\n            const emitter = activeEmitters[i];\r\n            if (false === callback(emitter)) {\r\n                break\r\n            }\r\n            if (activeEmitters[i] === emitter) {\r\n                i++\r\n            }\r\n        }\r\n    },\r\n    _applyToEmitters(method, arg) {\r\n        this._eachEmitter((emitter => {\r\n            emitter[method].call(emitter, arg)\r\n        }))\r\n    },\r\n    reset() {\r\n        this._eachEmitter(this._proxiedCancelHandler);\r\n        this._activeEmitters = []\r\n    },\r\n    resetEmitter(emitter) {\r\n        this._proxiedCancelHandler(emitter)\r\n    },\r\n    _pointerDownHandler(e) {\r\n        if (isMouseEvent(e) && e.which > 1) {\r\n            return\r\n        }\r\n        this._updateEmitters(e)\r\n    },\r\n    _updateEmitters(e) {\r\n        if (!this._isSetChanged(e)) {\r\n            return\r\n        }\r\n        this._cleanEmitters(e);\r\n        this._fetchEmitters(e)\r\n    },\r\n    _isSetChanged(e) {\r\n        const currentSet = this._closestEmitter(e);\r\n        const previousSet = this._emittersSet || [];\r\n        let setChanged = currentSet.length !== previousSet.length;\r\n        each(currentSet, ((index, emitter) => {\r\n            setChanged = setChanged || previousSet[index] !== emitter;\r\n            return !setChanged\r\n        }));\r\n        this._emittersSet = currentSet;\r\n        return setChanged\r\n    },\r\n    _closestEmitter(e) {\r\n        const that = this;\r\n        const result = [];\r\n        let $element = $(e.target);\r\n\r\n        function handleEmitter(_, emitter) {\r\n            if (!!emitter && emitter.validatePointers(e) && emitter.validate(e)) {\r\n                emitter.addCancelCallback(that._proxiedCancelHandler);\r\n                emitter.addAcceptCallback(that._proxiedAcceptHandler);\r\n                result.push(emitter)\r\n            }\r\n        }\r\n        while ($element.length) {\r\n            const emitters = elementData($element.get(0), \"dxEmitter\") || [];\r\n            each(emitters, handleEmitter);\r\n            $element = $element.parent()\r\n        }\r\n        return result\r\n    },\r\n    _acceptHandler(acceptedEmitter, e) {\r\n        this._eachEmitter((emitter => {\r\n            if (emitter !== acceptedEmitter) {\r\n                this._cancelEmitter(emitter, e)\r\n            }\r\n        }))\r\n    },\r\n    _cancelHandler(canceledEmitter, e) {\r\n        this._cancelEmitter(canceledEmitter, e)\r\n    },\r\n    _cancelEmitter(emitter, e) {\r\n        const activeEmitters = this._activeEmitters;\r\n        if (e) {\r\n            emitter.cancel(e)\r\n        } else {\r\n            emitter.reset()\r\n        }\r\n        emitter.removeCancelCallback();\r\n        emitter.removeAcceptCallback();\r\n        const emitterIndex = activeEmitters.indexOf(emitter);\r\n        if (emitterIndex > -1) {\r\n            activeEmitters.splice(emitterIndex, 1)\r\n        }\r\n    },\r\n    _cleanEmitters(e) {\r\n        this._applyToEmitters(\"end\", e);\r\n        this.reset(e)\r\n    },\r\n    _fetchEmitters(e) {\r\n        this._activeEmitters = this._emittersSet.slice();\r\n        this._applyToEmitters(\"start\", e)\r\n    },\r\n    _pointerMoveHandler(e) {\r\n        this._applyToEmitters(\"move\", e)\r\n    },\r\n    _pointerUpHandler(e) {\r\n        this._updateEmitters(e)\r\n    },\r\n    _mouseWheelHandler(e) {\r\n        if (!this._allowInterruptionByMouseWheel()) {\r\n            return\r\n        }\r\n        e.pointers = [null];\r\n        this._pointerDownHandler(e);\r\n        this._adjustWheelEvent(e);\r\n        this._pointerMoveHandler(e);\r\n        e.pointers = [];\r\n        this._pointerUpHandler(e)\r\n    },\r\n    _allowInterruptionByMouseWheel() {\r\n        let allowInterruption = true;\r\n        this._eachEmitter((emitter => {\r\n            allowInterruption = emitter.allowInterruptionByMouseWheel() && allowInterruption;\r\n            return allowInterruption\r\n        }));\r\n        return allowInterruption\r\n    },\r\n    _adjustWheelEvent(e) {\r\n        let closestGestureEmitter = null;\r\n        this._eachEmitter((emitter => {\r\n            if (!emitter.gesture) {\r\n                return\r\n            }\r\n            const direction = emitter.getDirection(e);\r\n            if (\"horizontal\" !== direction && !e.shiftKey || \"vertical\" !== direction && e.shiftKey) {\r\n                closestGestureEmitter = emitter;\r\n                return false\r\n            }\r\n        }));\r\n        if (!closestGestureEmitter) {\r\n            return\r\n        }\r\n        const direction = closestGestureEmitter.getDirection(e);\r\n        const verticalGestureDirection = \"both\" === direction && !e.shiftKey || \"vertical\" === direction;\r\n        const prop = verticalGestureDirection ? \"pageY\" : \"pageX\";\r\n        e[prop] += e.delta\r\n    },\r\n    isActive(element) {\r\n        let result = false;\r\n        this._eachEmitter((emitter => {\r\n            result = result || emitter.getElement().is(element)\r\n        }));\r\n        return result\r\n    }\r\n});\r\nconst eventManager = new EventManager;\r\nconst EMITTER_SUBSCRIPTION_DATA = \"dxEmitterSubscription\";\r\nconst registerEmitter = function(emitterConfig) {\r\n    const EmitterClass = emitterConfig.emitter;\r\n    const emitterName = emitterConfig.events[0];\r\n    const emitterEvents = emitterConfig.events;\r\n    each(emitterEvents, ((_, eventName) => {\r\n        registerEvent(eventName, {\r\n            noBubble: !emitterConfig.bubble,\r\n            setup(element) {\r\n                const subscriptions = elementData(element, \"dxEmitterSubscription\") || {};\r\n                const emitters = elementData(element, \"dxEmitter\") || {};\r\n                const emitter = emitters[emitterName] || new EmitterClass(element);\r\n                subscriptions[eventName] = true;\r\n                emitters[emitterName] = emitter;\r\n                elementData(element, \"dxEmitter\", emitters);\r\n                elementData(element, \"dxEmitterSubscription\", subscriptions)\r\n            },\r\n            add(element, handleObj) {\r\n                const emitters = elementData(element, \"dxEmitter\");\r\n                const emitter = emitters[emitterName];\r\n                emitter.configure(extend({\r\n                    delegateSelector: handleObj.selector\r\n                }, handleObj.data), handleObj.type)\r\n            },\r\n            teardown(element) {\r\n                const subscriptions = elementData(element, \"dxEmitterSubscription\");\r\n                const emitters = elementData(element, \"dxEmitter\");\r\n                const emitter = emitters[emitterName];\r\n                delete subscriptions[eventName];\r\n                let disposeEmitter = true;\r\n                each(emitterEvents, ((_, eventName) => {\r\n                    disposeEmitter = disposeEmitter && !subscriptions[eventName];\r\n                    return disposeEmitter\r\n                }));\r\n                if (disposeEmitter) {\r\n                    if (eventManager.isActive(element)) {\r\n                        eventManager.resetEmitter(emitter)\r\n                    }\r\n                    emitter && emitter.dispose();\r\n                    delete emitters[emitterName]\r\n                }\r\n            }\r\n        })\r\n    }))\r\n};\r\nexport default registerEmitter;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}