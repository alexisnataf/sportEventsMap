{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/ui/calendar/m_calendar.multiple.selection.strategy.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport CalendarSelectionStrategy from \"./m_calendar.selection.strategy\";\nclass CalendarMultiSelectionStrategy extends CalendarSelectionStrategy {\n  constructor(component) {\n    super(component);\n    this.NAME = \"MultiSelection\";\n  }\n  getViewOptions() {\n    return {\n      value: this.dateOption(\"value\"),\n      range: [],\n      selectionMode: \"multiple\",\n      onWeekNumberClick: this._shouldHandleWeekNumberClick() ? this._weekNumberClickHandler.bind(this) : null\n    };\n  }\n  selectValue(selectedValue, e) {\n    const value = [...this.dateOption(\"value\")];\n    const alreadySelectedIndex = value.findIndex(date => (null === date || void 0 === date ? void 0 : date.toDateString()) === selectedValue.toDateString());\n    if (alreadySelectedIndex > -1) {\n      value.splice(alreadySelectedIndex, 1);\n    } else {\n      value.push(selectedValue);\n    }\n    this.skipNavigate();\n    this._updateCurrentDate(selectedValue);\n    this._currentDateChanged = true;\n    this.dateValue(value, e);\n  }\n  updateAriaSelected(value, previousValue) {\n    value ?? (value = this.dateOption(\"value\"));\n    previousValue ?? (previousValue = []);\n    super.updateAriaSelected(value, previousValue);\n  }\n  getDefaultCurrentDate() {\n    const dates = this.dateOption(\"value\").filter(Boolean);\n    return this._getLowestDateInArray(dates);\n  }\n  restoreValue() {\n    this.calendar.option(\"value\", []);\n  }\n  _weekNumberClickHandler(_ref) {\n    let {\n      rowDates: rowDates,\n      event: event\n    } = _ref;\n    const selectedDates = rowDates.filter(date => !this._isDateDisabled(date));\n    this.dateValue(selectedDates, event);\n  }\n}\nexport default CalendarMultiSelectionStrategy;","map":{"version":3,"names":["CalendarSelectionStrategy","CalendarMultiSelectionStrategy","constructor","component","NAME","getViewOptions","value","dateOption","range","selectionMode","onWeekNumberClick","_shouldHandleWeekNumberClick","_weekNumberClickHandler","bind","selectValue","selectedValue","e","alreadySelectedIndex","findIndex","date","toDateString","splice","push","skipNavigate","_updateCurrentDate","_currentDateChanged","dateValue","updateAriaSelected","previousValue","getDefaultCurrentDate","dates","filter","Boolean","_getLowestDateInArray","restoreValue","calendar","option","_ref","rowDates","event","selectedDates","_isDateDisabled"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/ui/calendar/m_calendar.multiple.selection.strategy.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/ui/calendar/m_calendar.multiple.selection.strategy.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport CalendarSelectionStrategy from \"./m_calendar.selection.strategy\";\r\nclass CalendarMultiSelectionStrategy extends CalendarSelectionStrategy {\r\n    constructor(component) {\r\n        super(component);\r\n        this.NAME = \"MultiSelection\"\r\n    }\r\n    getViewOptions() {\r\n        return {\r\n            value: this.dateOption(\"value\"),\r\n            range: [],\r\n            selectionMode: \"multiple\",\r\n            onWeekNumberClick: this._shouldHandleWeekNumberClick() ? this._weekNumberClickHandler.bind(this) : null\r\n        }\r\n    }\r\n    selectValue(selectedValue, e) {\r\n        const value = [...this.dateOption(\"value\")];\r\n        const alreadySelectedIndex = value.findIndex((date => (null === date || void 0 === date ? void 0 : date.toDateString()) === selectedValue.toDateString()));\r\n        if (alreadySelectedIndex > -1) {\r\n            value.splice(alreadySelectedIndex, 1)\r\n        } else {\r\n            value.push(selectedValue)\r\n        }\r\n        this.skipNavigate();\r\n        this._updateCurrentDate(selectedValue);\r\n        this._currentDateChanged = true;\r\n        this.dateValue(value, e)\r\n    }\r\n    updateAriaSelected(value, previousValue) {\r\n        value ?? (value = this.dateOption(\"value\"));\r\n        previousValue ?? (previousValue = []);\r\n        super.updateAriaSelected(value, previousValue)\r\n    }\r\n    getDefaultCurrentDate() {\r\n        const dates = this.dateOption(\"value\").filter(Boolean);\r\n        return this._getLowestDateInArray(dates)\r\n    }\r\n    restoreValue() {\r\n        this.calendar.option(\"value\", [])\r\n    }\r\n    _weekNumberClickHandler(_ref) {\r\n        let {\r\n            rowDates: rowDates,\r\n            event: event\r\n        } = _ref;\r\n        const selectedDates = rowDates.filter((date => !this._isDateDisabled(date)));\r\n        this.dateValue(selectedDates, event)\r\n    }\r\n}\r\nexport default CalendarMultiSelectionStrategy;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,yBAAyB,MAAM,iCAAiC;AACvE,MAAMC,8BAA8B,SAASD,yBAAyB,CAAC;EACnEE,WAAWA,CAACC,SAAS,EAAE;IACnB,KAAK,CAACA,SAAS,CAAC;IAChB,IAAI,CAACC,IAAI,GAAG,gBAAgB;EAChC;EACAC,cAAcA,CAAA,EAAG;IACb,OAAO;MACHC,KAAK,EAAE,IAAI,CAACC,UAAU,CAAC,OAAO,CAAC;MAC/BC,KAAK,EAAE,EAAE;MACTC,aAAa,EAAE,UAAU;MACzBC,iBAAiB,EAAE,IAAI,CAACC,4BAA4B,CAAC,CAAC,GAAG,IAAI,CAACC,uBAAuB,CAACC,IAAI,CAAC,IAAI,CAAC,GAAG;IACvG,CAAC;EACL;EACAC,WAAWA,CAACC,aAAa,EAAEC,CAAC,EAAE;IAC1B,MAAMV,KAAK,GAAG,CAAC,GAAG,IAAI,CAACC,UAAU,CAAC,OAAO,CAAC,CAAC;IAC3C,MAAMU,oBAAoB,GAAGX,KAAK,CAACY,SAAS,CAAEC,IAAI,IAAI,CAAC,IAAI,KAAKA,IAAI,IAAI,KAAK,CAAC,KAAKA,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAACC,YAAY,CAAC,CAAC,MAAML,aAAa,CAACK,YAAY,CAAC,CAAE,CAAC;IAC1J,IAAIH,oBAAoB,GAAG,CAAC,CAAC,EAAE;MAC3BX,KAAK,CAACe,MAAM,CAACJ,oBAAoB,EAAE,CAAC,CAAC;IACzC,CAAC,MAAM;MACHX,KAAK,CAACgB,IAAI,CAACP,aAAa,CAAC;IAC7B;IACA,IAAI,CAACQ,YAAY,CAAC,CAAC;IACnB,IAAI,CAACC,kBAAkB,CAACT,aAAa,CAAC;IACtC,IAAI,CAACU,mBAAmB,GAAG,IAAI;IAC/B,IAAI,CAACC,SAAS,CAACpB,KAAK,EAAEU,CAAC,CAAC;EAC5B;EACAW,kBAAkBA,CAACrB,KAAK,EAAEsB,aAAa,EAAE;IACrCtB,KAAK,KAAKA,KAAK,GAAG,IAAI,CAACC,UAAU,CAAC,OAAO,CAAC,CAAC;IAC3CqB,aAAa,KAAKA,aAAa,GAAG,EAAE,CAAC;IACrC,KAAK,CAACD,kBAAkB,CAACrB,KAAK,EAAEsB,aAAa,CAAC;EAClD;EACAC,qBAAqBA,CAAA,EAAG;IACpB,MAAMC,KAAK,GAAG,IAAI,CAACvB,UAAU,CAAC,OAAO,CAAC,CAACwB,MAAM,CAACC,OAAO,CAAC;IACtD,OAAO,IAAI,CAACC,qBAAqB,CAACH,KAAK,CAAC;EAC5C;EACAI,YAAYA,CAAA,EAAG;IACX,IAAI,CAACC,QAAQ,CAACC,MAAM,CAAC,OAAO,EAAE,EAAE,CAAC;EACrC;EACAxB,uBAAuBA,CAACyB,IAAI,EAAE;IAC1B,IAAI;MACAC,QAAQ,EAAEA,QAAQ;MAClBC,KAAK,EAAEA;IACX,CAAC,GAAGF,IAAI;IACR,MAAMG,aAAa,GAAGF,QAAQ,CAACP,MAAM,CAAEZ,IAAI,IAAI,CAAC,IAAI,CAACsB,eAAe,CAACtB,IAAI,CAAE,CAAC;IAC5E,IAAI,CAACO,SAAS,CAACc,aAAa,EAAED,KAAK,CAAC;EACxC;AACJ;AACA,eAAetC,8BAA8B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}