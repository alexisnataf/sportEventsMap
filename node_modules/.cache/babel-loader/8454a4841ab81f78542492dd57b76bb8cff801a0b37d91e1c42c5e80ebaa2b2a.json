{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/ui/m_select_box.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport \"../ui/list/modules/m_selection\";\nimport { normalizeKeyName } from \"../../common/core/events/utils/index\";\nimport messageLocalization from \"../../common/core/localization/message\";\nimport registerComponent from \"../../core/component_registrator\";\nimport domAdapter from \"../../core/dom_adapter\";\nimport { getPublicElement } from \"../../core/element\";\nimport errors from \"../../core/errors\";\nimport $ from \"../../core/renderer\";\nimport { ensureDefined, noop } from \"../../core/utils/common\";\nimport { Deferred, fromPromise } from \"../../core/utils/deferred\";\nimport { extend } from \"../../core/utils/extend\";\nimport { each } from \"../../core/utils/iterator\";\nimport { isDefined, isPromise } from \"../../core/utils/type\";\nimport DropDownList from \"../ui/drop_down_editor/m_drop_down_list\";\nconst DISABLED_STATE_SELECTOR = \".dx-state-disabled\";\nconst SELECTBOX_CLASS = \"dx-selectbox\";\nconst SELECTBOX_POPUP_CLASS = \"dx-selectbox-popup\";\nconst SELECTBOX_CONTAINER_CLASS = \"dx-selectbox-container\";\nconst SELECTBOX_POPUP_WRAPPER_CLASS = \"dx-selectbox-popup-wrapper\";\nclass SelectBox extends DropDownList {\n  _supportedKeys() {\n    const that = this;\n    const parent = super._supportedKeys();\n    const clearSelectBox = function (e) {\n      const isEditable = this._isEditable();\n      if (!isEditable) {\n        if (this.option(\"showClearButton\")) {\n          e.preventDefault();\n          this.clear();\n        }\n      } else if (this._valueSubstituted()) {\n        this._preventFiltering = true;\n      }\n      this._savedTextRemoveEvent = e;\n      this._preventSubstitution = true;\n    };\n    const searchIfNeeded = function () {\n      if (that.option(\"searchEnabled\") && that._valueSubstituted()) {\n        that._searchHandler();\n      }\n    };\n    return _extends({}, parent, {\n      tab() {\n        const {\n          opened: opened\n        } = this.option();\n        const popupHasFocusableElements = opened && !!this._popup.getFocusableElements().length;\n        if (!popupHasFocusableElements) {\n          this._resetCaretPosition(true);\n        }\n        parent.tab && parent.tab.apply(this, arguments);\n        if (!popupHasFocusableElements) {\n          this._cancelSearchIfNeed();\n        }\n      },\n      upArrow(e) {\n        if (parent.upArrow.apply(this, arguments)) {\n          if (!this.option(\"opened\")) {\n            this._setNextValue(e);\n          }\n          return true;\n        }\n        return;\n      },\n      downArrow(e) {\n        if (parent.downArrow.apply(this, arguments)) {\n          if (!this.option(\"opened\")) {\n            this._setNextValue(e);\n          }\n          return true;\n        }\n        return;\n      },\n      leftArrow() {\n        var _parent$leftArrow;\n        searchIfNeeded();\n        null === (_parent$leftArrow = parent.leftArrow) || void 0 === _parent$leftArrow || _parent$leftArrow.apply(this, arguments);\n      },\n      rightArrow() {\n        var _parent$rightArrow;\n        searchIfNeeded();\n        null === (_parent$rightArrow = parent.rightArrow) || void 0 === _parent$rightArrow || _parent$rightArrow.apply(this, arguments);\n      },\n      home() {\n        var _parent$home;\n        searchIfNeeded();\n        null === (_parent$home = parent.home) || void 0 === _parent$home || _parent$home.apply(this, arguments);\n      },\n      end() {\n        var _parent$end;\n        searchIfNeeded();\n        null === (_parent$end = parent.end) || void 0 === _parent$end || _parent$end.apply(this, arguments);\n      },\n      escape() {\n        var _parent$escape;\n        const result = null === (_parent$escape = parent.escape) || void 0 === _parent$escape ? void 0 : _parent$escape.apply(this, arguments);\n        this._cancelEditing();\n        return result ?? true;\n      },\n      enter(e) {\n        const isOpened = this.option(\"opened\");\n        const inputText = this._input().val().trim();\n        const isCustomText = inputText && this._list && !this._list.option(\"focusedElement\");\n        if (!inputText && isDefined(this.option(\"value\")) && this.option(\"allowClearing\")) {\n          this._saveValueChangeEvent(e);\n          this.option({\n            selectedItem: null,\n            value: null\n          });\n          this.close();\n        } else {\n          var _parent$enter;\n          if (this.option(\"acceptCustomValue\")) {\n            e.preventDefault();\n            if (isCustomText) {\n              if (isOpened) {\n                this._toggleOpenState();\n              }\n              this._valueChangeEventHandler(e);\n            }\n            return isOpened;\n          }\n          if (null !== (_parent$enter = parent.enter) && void 0 !== _parent$enter && _parent$enter.apply(this, arguments)) {\n            return isOpened;\n          }\n        }\n      },\n      space(e) {\n        const isOpened = this.option(\"opened\");\n        const isSearchEnabled = this.option(\"searchEnabled\");\n        const acceptCustomValue = this.option(\"acceptCustomValue\");\n        if (!isOpened || isSearchEnabled || acceptCustomValue) {\n          return;\n        }\n        e.preventDefault();\n        this._valueChangeEventHandler(e);\n        return true;\n      },\n      backspace: clearSelectBox,\n      del: clearSelectBox\n    });\n  }\n  _getDefaultOptions() {\n    return _extends({}, super._getDefaultOptions(), {\n      placeholder: messageLocalization.format(\"Select\"),\n      fieldTemplate: null,\n      customItemCreateEvent: \"change\",\n      valueChangeEvent: \"change\",\n      acceptCustomValue: false,\n      onCustomItemCreating(e) {\n        if (!isDefined(e.customItem)) {\n          e.customItem = e.text;\n        }\n      },\n      showSelectionControls: false,\n      allowClearing: true,\n      tooltipEnabled: false,\n      openOnFieldClick: true,\n      showDropDownButton: true,\n      displayCustomValue: false,\n      useHiddenSubmitElement: true\n    });\n  }\n  _init() {\n    super._init();\n    this._initCustomItemCreatingAction();\n  }\n  _initMarkup() {\n    this.$element().addClass(\"dx-selectbox\");\n    this._renderTooltip();\n    super._initMarkup();\n    this._$container.addClass(\"dx-selectbox-container\");\n  }\n  _createPopup() {\n    var _this$_popup, _this$_popup2;\n    super._createPopup();\n    null === (_this$_popup = this._popup) || void 0 === _this$_popup || _this$_popup.$element().addClass(\"dx-selectbox-popup\");\n    null === (_this$_popup2 = this._popup) || void 0 === _this$_popup2 || _this$_popup2.$overlayContent().attr(\"tabindex\", -1);\n  }\n  _popupWrapperClass() {\n    return `${super._popupWrapperClass()} dx-selectbox-popup-wrapper`;\n  }\n  _setDeprecatedOptions() {\n    super._setDeprecatedOptions();\n    extend(this._deprecatedOptions, {\n      valueChangeEvent: {\n        since: \"22.2\",\n        alias: \"customItemCreateEvent\"\n      }\n    });\n  }\n  _cancelEditing() {\n    if (!this.option(\"searchEnabled\") && this._list) {\n      this._focusListElement(null);\n      this._updateField(this.option(\"selectedItem\"));\n    }\n  }\n  _renderOpenedState() {\n    super._renderOpenedState();\n    if (this.option(\"opened\")) {\n      this._scrollToSelectedItem();\n      this._focusSelectedElement();\n    }\n  }\n  _focusSelectedElement() {\n    const searchValue = this._searchValue();\n    if (!searchValue) {\n      this._focusListElement(null);\n      return;\n    }\n    const {\n      items: items,\n      selectedItem: selectedItem\n    } = this.option();\n    const $listItems = this._list._itemElements();\n    const index = (null === items || void 0 === items ? void 0 : items.indexOf(selectedItem)) ?? -1;\n    const focusedElement = -1 !== index && !this._isCustomItemSelected() ? $listItems.eq(index) : null;\n    this._focusListElement(focusedElement);\n  }\n  _renderFocusedElement() {\n    if (!this._list) {\n      return;\n    }\n    const searchValue = this._searchValue();\n    if (!searchValue || this.option(\"acceptCustomValue\")) {\n      this._focusListElement(null);\n      return;\n    }\n    const $listItems = this._list._itemElements();\n    const focusedElement = $listItems.not(\".dx-state-disabled\").eq(0);\n    this._focusListElement(focusedElement);\n  }\n  _focusListElement(element) {\n    this._preventInputValueRender = true;\n    this._list.option(\"focusedElement\", getPublicElement(element));\n    delete this._preventInputValueRender;\n  }\n  _scrollToSelectedItem() {\n    var _this$_list;\n    null === (_this$_list = this._list) || void 0 === _this$_list || _this$_list.scrollToItem(this._list.option(\"selectedItem\"));\n  }\n  _listContentReadyHandler() {\n    super._listContentReadyHandler();\n    const isPaginate = this._dataController.paginate();\n    if (isPaginate && this._needPopupRepaint()) {\n      return;\n    }\n    this._scrollToSelectedItem();\n  }\n  _renderValue() {\n    this._renderInputValue();\n    this._setSubmitValue();\n    return Deferred().resolve();\n  }\n  _renderInputValue() {\n    return super._renderInputValue(...arguments).always(() => {\n      this._renderInputValueAsync();\n    });\n  }\n  _renderInputValueAsync() {\n    this._renderTooltip();\n    this._renderInputValueImpl().always(() => {\n      this._refreshSelected();\n    });\n  }\n  _renderInputValueImpl() {\n    this._renderField();\n    return Deferred().resolve();\n  }\n  _setNextItem(step) {\n    const item = this._calcNextItem(step);\n    const value = this._valueGetter(item);\n    this._setValue(value);\n  }\n  _setNextValue(e) {\n    const dataSourceIsLoaded = this._dataController.isLoaded() ? Deferred().resolve() : this._dataController.load();\n    dataSourceIsLoaded.done(() => {\n      const selectedIndex = this._getSelectedIndex();\n      const hasPages = this._dataController.pageSize();\n      const isLastPage = this._dataController.isLastPage();\n      const isLastItem = selectedIndex === this._items().length - 1;\n      this._saveValueChangeEvent(e);\n      const step = \"downArrow\" === normalizeKeyName(e) ? 1 : -1;\n      if (hasPages && !isLastPage && isLastItem && step > 0) {\n        if (!this._popup) {\n          this._createPopup();\n        }\n        if (!this._dataController.isLoading()) {\n          this._list._loadNextPage().done(this._setNextItem.bind(this, step));\n        }\n      } else {\n        this._setNextItem(step);\n      }\n    });\n  }\n  _setSelectedItem(item) {\n    const isUnknownItem = !this._isCustomValueAllowed() && void 0 === item;\n    super._setSelectedItem(isUnknownItem ? null : item);\n    if (!isUnknownItem && (!this._isEditable() || this._isCustomItemSelected())) {\n      this._setListOption(\"selectedItem\", this.option(\"selectedItem\"));\n    }\n  }\n  _isCustomValueAllowed() {\n    return this.option(\"acceptCustomValue\") || super._isCustomValueAllowed();\n  }\n  _displayValue(item) {\n    item = !isDefined(item) && this._isCustomValueAllowed() ? this.option(\"value\") : item;\n    return super._displayValue(item);\n  }\n  _listConfig() {\n    const result = extend(super._listConfig(), {\n      pageLoadMode: \"scrollBottom\",\n      onSelectionChanged: this._getSelectionChangeHandler(),\n      selectedItem: this.option(\"selectedItem\"),\n      onFocusedItemChanged: this._listFocusedItemChangeHandler.bind(this),\n      _onItemsRendered: () => {\n        this._popup.repaint();\n        if (this.option(\"opened\")) {\n          this._scrollToSelectedItem();\n        }\n      }\n    });\n    if (this.option(\"showSelectionControls\")) {\n      extend(result, {\n        showSelectionControls: true,\n        selectByClick: true\n      });\n    }\n    return result;\n  }\n  _listFocusedItemChangeHandler(e) {\n    if (this._preventInputValueRender) {\n      return;\n    }\n    const list = e.component;\n    const focusedElement = $(list.option(\"focusedElement\"));\n    const focusedItem = list._getItemData(focusedElement);\n    this._updateField(focusedItem);\n  }\n  _updateField(item) {\n    const fieldTemplate = this._getTemplateByOption(\"fieldTemplate\");\n    if (!(fieldTemplate && this.option(\"fieldTemplate\"))) {\n      const text = this._displayGetter(item);\n      this.option(\"text\", text);\n      this._renderDisplayText(text);\n      return;\n    }\n    this._renderField();\n  }\n  _getSelectionChangeHandler() {\n    return this.option(\"showSelectionControls\") ? this._selectionChangeHandler.bind(this) : noop;\n  }\n  _selectionChangeHandler(e) {\n    each(e.addedItems || [], (_, addedItem) => {\n      this._setValue(this._valueGetter(addedItem));\n    });\n  }\n  _getActualSearchValue() {\n    return this._dataController.searchValue();\n  }\n  _isInlineAutocompleteEnabled() {\n    const {\n      searchEnabled: searchEnabled,\n      acceptCustomValue: acceptCustomValue,\n      searchMode: searchMode\n    } = this.option();\n    return searchEnabled && !acceptCustomValue && \"startswith\" === searchMode;\n  }\n  _getAriaAutocomplete() {\n    const {\n      disabled: disabled,\n      readOnly: readOnly,\n      searchEnabled: searchEnabled\n    } = this.option();\n    const isInputEditable = !(readOnly || disabled);\n    const hasAutocomplete = searchEnabled && isInputEditable;\n    if (!hasAutocomplete) {\n      return \"none\";\n    }\n    const isInlineAutocompleteEnabled = this._isInlineAutocompleteEnabled();\n    const autocompleteAria = isInlineAutocompleteEnabled ? \"both\" : \"list\";\n    return autocompleteAria;\n  }\n  _toggleOpenState(isVisible) {\n    if (this.option(\"disabled\")) {\n      return;\n    }\n    isVisible = arguments.length ? isVisible : !this.option(\"opened\");\n    if (!isVisible && !this._shouldClearFilter()) {\n      this._restoreInputText(true);\n    }\n    if (this._wasSearch() && isVisible) {\n      this._wasSearch(false);\n      const showDataImmediately = this.option(\"showDataBeforeSearch\") || this._isMinSearchLengthExceeded();\n      if (showDataImmediately && this._dataController.getDataSource()) {\n        if (this._searchTimer) {\n          return;\n        }\n        const searchValue = this._getActualSearchValue();\n        searchValue && this._wasSearch(true);\n        this._filterDataSource(searchValue || null);\n      } else {\n        this._setListOption(\"items\", []);\n      }\n    }\n    if (isVisible) {\n      this._scrollToSelectedItem();\n    }\n    super._toggleOpenState(isVisible);\n  }\n  _renderTooltip() {\n    const {\n      tooltipEnabled: tooltipEnabled,\n      displayValue: displayValue\n    } = this.option();\n    if (tooltipEnabled) {\n      this.$element().attr(\"title\", displayValue);\n    }\n  }\n  _renderDimensions() {\n    super._renderDimensions();\n    this._updatePopupWidth();\n    this._updateListDimensions();\n  }\n  _isValueEqualInputText() {\n    const initialSelectedItem = this.option(\"selectedItem\");\n    if (null === initialSelectedItem) {\n      return false;\n    }\n    const value = this._displayGetter(initialSelectedItem);\n    const displayValue = value ? String(value) : \"\";\n    const inputText = this._searchValue();\n    return displayValue === inputText;\n  }\n  _popupHidingHandler() {\n    if (this._isValueEqualInputText()) {\n      this._cancelEditing();\n    }\n    super._popupHidingHandler();\n  }\n  _popupHiddenHandler() {\n    super._popupHiddenHandler();\n    if (this._shouldCancelSearch()) {\n      this._wasSearch(false);\n      this._searchCanceled();\n      this._shouldCancelSearch(false);\n    }\n  }\n  _restoreInputText(saveEditingValue) {\n    var _this$_loadItemDeferr;\n    if (this.option(\"readOnly\")) {\n      return;\n    }\n    null === (_this$_loadItemDeferr = this._loadItemDeferred) || void 0 === _this$_loadItemDeferr || _this$_loadItemDeferr.always(() => {\n      const {\n        acceptCustomValue: acceptCustomValue,\n        text: text,\n        selectedItem: initialSelectedItem,\n        customItemCreateEvent: customItemCreateEvent\n      } = this.option();\n      if (acceptCustomValue) {\n        if (!saveEditingValue && !this._isValueChanging) {\n          let initialItem = null;\n          if (isDefined(initialSelectedItem)) {\n            initialItem = initialSelectedItem;\n          } else if (\"\" !== customItemCreateEvent) {\n            initialItem = this._createCustomItem(text);\n          }\n          this._updateField(initialItem);\n          this._clearFilter();\n        }\n        return;\n      }\n      if (this.option(\"searchEnabled\")) {\n        if (!this._searchValue() && this.option(\"allowClearing\")) {\n          this._clearTextValue();\n          return;\n        }\n      }\n      if (this._isValueEqualInputText()) {\n        return;\n      }\n      this._renderInputValue().always(selectedItem => {\n        const newSelectedItem = ensureDefined(selectedItem, initialSelectedItem);\n        this._setSelectedItem(newSelectedItem);\n        this._updateField(newSelectedItem);\n        this._clearFilter();\n      });\n    });\n  }\n  _valueChangeEventIncludesBlur() {\n    const valueChangeEvent = this.option(this._getValueChangeEventOptionName());\n    return valueChangeEvent.includes(\"blur\");\n  }\n  _isPreventedFocusOutEvent(e) {\n    return this._preventNestedFocusEvent(e) || this._valueChangeEventIncludesBlur();\n  }\n  _focusOutHandler(e) {\n    if (!this._isPreventedFocusOutEvent(e)) {\n      const isOverlayTarget = this._isOverlayNestedTarget(e.relatedTarget);\n      if (!isOverlayTarget) {\n        this._restoreInputText();\n        this._clearSearchTimer();\n      }\n      this._cancelSearchIfNeed(e);\n    }\n    e.target = this._input().get(0);\n    super._focusOutHandler(e);\n  }\n  _cancelSearchIfNeed(e) {\n    const {\n      searchEnabled: searchEnabled\n    } = this.option();\n    const isOverlayTarget = this._isOverlayNestedTarget(null === e || void 0 === e ? void 0 : e.relatedTarget);\n    const shouldCancelSearch = this._wasSearch() && searchEnabled && !isOverlayTarget;\n    if (shouldCancelSearch) {\n      var _this$_popup3;\n      const isPopupVisible = null === (_this$_popup3 = this._popup) || void 0 === _this$_popup3 ? void 0 : _this$_popup3._hideAnimationProcessing;\n      this._clearSearchTimer();\n      if (isPopupVisible) {\n        this._shouldCancelSearch(true);\n      } else {\n        this._wasSearch(false);\n        this._searchCanceled();\n      }\n    }\n  }\n  _shouldCancelSearch(value) {\n    if (!arguments.length) {\n      return this._shouldCancelSearchValue;\n    }\n    this._shouldCancelSearchValue = value;\n  }\n  _isOverlayNestedTarget(target) {\n    return !!$(target).closest(\".dx-selectbox-popup-wrapper\").length;\n  }\n  _clearTextValue() {\n    const selectedItem = this.option(\"selectedItem\");\n    const selectedItemText = this._displayGetter(selectedItem);\n    const shouldRestoreValue = selectedItem && \"\" !== selectedItemText;\n    if (shouldRestoreValue) {\n      if (this._savedTextRemoveEvent) {\n        this._saveValueChangeEvent(this._savedTextRemoveEvent);\n      }\n      this.option(\"value\", null);\n    }\n    delete this._savedTextRemoveEvent;\n  }\n  _shouldOpenPopup() {\n    return this._needPassDataSourceToList() && this._wasSearch();\n  }\n  _isFocused() {\n    const activeElement = domAdapter.getActiveElement(this.element());\n    return super._isFocused() && $(activeElement).closest(this._input()).length > 0;\n  }\n  _getValueChangeEventOptionName() {\n    return \"customItemCreateEvent\";\n  }\n  _renderValueChangeEvent() {\n    if (this._isEditable()) {\n      super._renderValueChangeEvent();\n    }\n  }\n  _fieldRenderData() {\n    const {\n      focusedElement: focusedElement\n    } = this.option();\n    const $listFocused = this._list && this.option(\"opened\") && $(focusedElement);\n    if (null !== $listFocused && void 0 !== $listFocused && $listFocused.length) {\n      return this._list._getItemData($listFocused);\n    }\n    return this.option(\"selectedItem\");\n  }\n  _isSelectedValue(value, cache) {\n    return this._isValueEquals(value, this.option(\"value\"));\n  }\n  _shouldCloseOnItemClick() {\n    const {\n      selectionMode: selectionMode\n    } = this.option();\n    return !(this.option(\"showSelectionControls\") && \"single\" !== selectionMode);\n  }\n  _listItemClickHandler(e) {\n    const previousValue = this._getCurrentValue();\n    this._focusListElement($(e.itemElement));\n    this._saveValueChangeEvent(e.event);\n    this._completeSelection(this._valueGetter(e.itemData));\n    if (this._shouldCloseOnItemClick()) {\n      this.option(\"opened\", false);\n    }\n    if (this.option(\"searchEnabled\") && previousValue === this._valueGetter(e.itemData)) {\n      this._updateField(e.itemData);\n    }\n    if (this._shouldClearFilter()) {\n      this._cancelSearchIfNeed();\n    }\n  }\n  _shouldClearFilter() {\n    return this._wasSearch();\n  }\n  _completeSelection(value) {\n    this._setValue(value);\n  }\n  _loadItem(value, cache) {\n    const that = this;\n    const deferred = Deferred();\n    super._loadItem(value, cache).done(item => {\n      deferred.resolve(item);\n    }).fail(args => {\n      if (null !== args && void 0 !== args && args.shouldSkipCallback) {\n        return;\n      }\n      const selectedItem = that.option(\"selectedItem\");\n      if (that.option(\"acceptCustomValue\") && value === that._valueGetter(selectedItem)) {\n        deferred.resolve(selectedItem);\n      } else {\n        deferred.reject();\n      }\n    });\n    return deferred.promise();\n  }\n  _loadInputValue(value, callback) {\n    this._loadItemDeferred = this._loadItem(value).always(callback);\n    return this._loadItemDeferred;\n  }\n  _isCustomItemSelected() {\n    const selectedItem = this.option(\"selectedItem\");\n    const searchValue = this._searchValue();\n    const selectedItemText = this._displayGetter(selectedItem);\n    return !selectedItemText || searchValue !== selectedItemText.toString();\n  }\n  _valueChangeEventHandler(e) {\n    if (this.option(\"acceptCustomValue\") && this._isCustomItemSelected() && !this._isValueChanging) {\n      this._isValueChanging = true;\n      this._customItemAddedHandler(e);\n    }\n  }\n  _initCustomItemCreatingAction() {\n    this._customItemCreatingAction = this._createActionByOption(\"onCustomItemCreating\");\n  }\n  _createCustomItem(text) {\n    const params = {\n      text: text\n    };\n    const actionResult = this._customItemCreatingAction(params);\n    const item = ensureDefined(actionResult, params.customItem);\n    if (isDefined(actionResult)) {\n      errors.log(\"W0015\", \"onCustomItemCreating\", \"customItem\");\n    }\n    return item;\n  }\n  _customItemAddedHandler(e) {\n    const searchValue = this._searchValue();\n    const item = this._createCustomItem(searchValue);\n    this._saveValueChangeEvent(e);\n    if (void 0 === item) {\n      this._renderValue();\n      throw errors.Error(\"E0121\");\n    }\n    if (isPromise(item)) {\n      fromPromise(item).done(this._setCustomItem.bind(this)).fail(this._setCustomItem.bind(this, null));\n    } else {\n      this._setCustomItem(item);\n    }\n  }\n  _setCustomItem(item) {\n    if (this._disposed) {\n      return;\n    }\n    item = item || null;\n    this.option(\"selectedItem\", item);\n    this._cancelSearchIfNeed();\n    this._setValue(this._valueGetter(item));\n    this._renderDisplayText(this._displayGetter(item));\n    this._isValueChanging = false;\n  }\n  _clearValueHandler(e) {\n    this._preventFiltering = true;\n    super._clearValueHandler(e);\n    this._searchCanceled();\n    return false;\n  }\n  _wasSearch(value) {\n    if (!arguments.length) {\n      return !!this._wasSearchValue;\n    }\n    this._wasSearchValue = value;\n    return;\n  }\n  _searchHandler(e) {\n    if (this._preventFiltering) {\n      delete this._preventFiltering;\n      return;\n    }\n    if (this._needPassDataSourceToList()) {\n      this._wasSearch(true);\n    }\n    super._searchHandler(arguments);\n  }\n  _dataSourceFiltered(searchValue) {\n    super._dataSourceFiltered();\n    if (null !== searchValue) {\n      this._renderInputSubstitution();\n      this._renderFocusedElement();\n    }\n  }\n  _valueSubstituted() {\n    const input = this._input().get(0);\n    const currentSearchLength = this._searchValue().length;\n    const isAllSelected = 0 === input.selectionStart && input.selectionEnd === currentSearchLength;\n    const inputHasSelection = input.selectionStart !== input.selectionEnd;\n    const isLastSymbolSelected = currentSearchLength === input.selectionEnd;\n    return this._wasSearch() && inputHasSelection && !isAllSelected && isLastSymbolSelected && this._shouldSubstitutionBeRendered();\n  }\n  _shouldSubstitutionBeRendered() {\n    return !this._preventSubstitution && this._isInlineAutocompleteEnabled();\n  }\n  _renderInputSubstitution() {\n    if (!this._shouldSubstitutionBeRendered()) {\n      delete this._preventSubstitution;\n      return;\n    }\n    const item = this._list && this._getPlainItems(this._list.option(\"items\"))[0];\n    if (!item) {\n      return;\n    }\n    const $input = this._input();\n    const valueLength = $input.val().length;\n    if (0 === valueLength) {\n      return;\n    }\n    const inputElement = $input.get(0);\n    const displayValue = this._displayGetter(item).toString();\n    inputElement.value = displayValue;\n    this._caret({\n      start: valueLength,\n      end: displayValue.length\n    });\n  }\n  _dispose() {\n    this._renderInputValueAsync = noop;\n    delete this._loadItemDeferred;\n    super._dispose();\n  }\n  _optionChanged(args) {\n    switch (args.name) {\n      case \"customItemCreateEvent\":\n        this._refreshValueChangeEvent();\n        this._refreshFocusEvent();\n        this._refreshEvents();\n        break;\n      case \"onCustomItemCreating\":\n        this._initCustomItemCreatingAction();\n        break;\n      case \"tooltipEnabled\":\n        this._renderTooltip();\n        break;\n      case \"readOnly\":\n      case \"disabled\":\n      case \"searchMode\":\n        super._optionChanged(args);\n        this._setDefaultAria();\n        break;\n      case \"displayCustomValue\":\n      case \"acceptCustomValue\":\n      case \"showSelectionControls\":\n        this._invalidate();\n        break;\n      case \"allowClearing\":\n        break;\n      default:\n        super._optionChanged(args);\n    }\n  }\n}\nregisterComponent(\"dxSelectBox\", SelectBox);\nexport default SelectBox;","map":{"version":3,"names":["_extends","normalizeKeyName","messageLocalization","registerComponent","domAdapter","getPublicElement","errors","$","ensureDefined","noop","Deferred","fromPromise","extend","each","isDefined","isPromise","DropDownList","DISABLED_STATE_SELECTOR","SELECTBOX_CLASS","SELECTBOX_POPUP_CLASS","SELECTBOX_CONTAINER_CLASS","SELECTBOX_POPUP_WRAPPER_CLASS","SelectBox","_supportedKeys","that","parent","clearSelectBox","e","isEditable","_isEditable","option","preventDefault","clear","_valueSubstituted","_preventFiltering","_savedTextRemoveEvent","_preventSubstitution","searchIfNeeded","_searchHandler","tab","opened","popupHasFocusableElements","_popup","getFocusableElements","length","_resetCaretPosition","apply","arguments","_cancelSearchIfNeed","upArrow","_setNextValue","downArrow","leftArrow","_parent$leftArrow","rightArrow","_parent$rightArrow","home","_parent$home","end","_parent$end","escape","_parent$escape","result","_cancelEditing","enter","isOpened","inputText","_input","val","trim","isCustomText","_list","_saveValueChangeEvent","selectedItem","value","close","_parent$enter","_toggleOpenState","_valueChangeEventHandler","space","isSearchEnabled","acceptCustomValue","backspace","del","_getDefaultOptions","placeholder","format","fieldTemplate","customItemCreateEvent","valueChangeEvent","onCustomItemCreating","customItem","text","showSelectionControls","allowClearing","tooltipEnabled","openOnFieldClick","showDropDownButton","displayCustomValue","useHiddenSubmitElement","_init","_initCustomItemCreatingAction","_initMarkup","$element","addClass","_renderTooltip","_$container","_createPopup","_this$_popup","_this$_popup2","$overlayContent","attr","_popupWrapperClass","_setDeprecatedOptions","_deprecatedOptions","since","alias","_focusListElement","_updateField","_renderOpenedState","_scrollToSelectedItem","_focusSelectedElement","searchValue","_searchValue","items","$listItems","_itemElements","index","indexOf","focusedElement","_isCustomItemSelected","eq","_renderFocusedElement","not","element","_preventInputValueRender","_this$_list","scrollToItem","_listContentReadyHandler","isPaginate","_dataController","paginate","_needPopupRepaint","_renderValue","_renderInputValue","_setSubmitValue","resolve","always","_renderInputValueAsync","_renderInputValueImpl","_refreshSelected","_renderField","_setNextItem","step","item","_calcNextItem","_valueGetter","_setValue","dataSourceIsLoaded","isLoaded","load","done","selectedIndex","_getSelectedIndex","hasPages","pageSize","isLastPage","isLastItem","_items","isLoading","_loadNextPage","bind","_setSelectedItem","isUnknownItem","_isCustomValueAllowed","_setListOption","_displayValue","_listConfig","pageLoadMode","onSelectionChanged","_getSelectionChangeHandler","onFocusedItemChanged","_listFocusedItemChangeHandler","_onItemsRendered","repaint","selectByClick","list","component","focusedItem","_getItemData","_getTemplateByOption","_displayGetter","_renderDisplayText","_selectionChangeHandler","addedItems","_","addedItem","_getActualSearchValue","_isInlineAutocompleteEnabled","searchEnabled","searchMode","_getAriaAutocomplete","disabled","readOnly","isInputEditable","hasAutocomplete","isInlineAutocompleteEnabled","autocompleteAria","isVisible","_shouldClearFilter","_restoreInputText","_wasSearch","showDataImmediately","_isMinSearchLengthExceeded","getDataSource","_searchTimer","_filterDataSource","displayValue","_renderDimensions","_updatePopupWidth","_updateListDimensions","_isValueEqualInputText","initialSelectedItem","String","_popupHidingHandler","_popupHiddenHandler","_shouldCancelSearch","_searchCanceled","saveEditingValue","_this$_loadItemDeferr","_loadItemDeferred","_isValueChanging","initialItem","_createCustomItem","_clearFilter","_clearTextValue","newSelectedItem","_valueChangeEventIncludesBlur","_getValueChangeEventOptionName","includes","_isPreventedFocusOutEvent","_preventNestedFocusEvent","_focusOutHandler","isOverlayTarget","_isOverlayNestedTarget","relatedTarget","_clearSearchTimer","target","get","shouldCancelSearch","_this$_popup3","isPopupVisible","_hideAnimationProcessing","_shouldCancelSearchValue","closest","selectedItemText","shouldRestoreValue","_shouldOpenPopup","_needPassDataSourceToList","_isFocused","activeElement","getActiveElement","_renderValueChangeEvent","_fieldRenderData","$listFocused","_isSelectedValue","cache","_isValueEquals","_shouldCloseOnItemClick","selectionMode","_listItemClickHandler","previousValue","_getCurrentValue","itemElement","event","_completeSelection","itemData","_loadItem","deferred","fail","args","shouldSkipCallback","reject","promise","_loadInputValue","callback","toString","_customItemAddedHandler","_customItemCreatingAction","_createActionByOption","params","actionResult","log","Error","_setCustomItem","_disposed","_clearValueHandler","_wasSearchValue","_dataSourceFiltered","_renderInputSubstitution","input","currentSearchLength","isAllSelected","selectionStart","selectionEnd","inputHasSelection","isLastSymbolSelected","_shouldSubstitutionBeRendered","_getPlainItems","$input","valueLength","inputElement","_caret","start","_dispose","_optionChanged","name","_refreshValueChangeEvent","_refreshFocusEvent","_refreshEvents","_setDefaultAria","_invalidate"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/ui/m_select_box.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/ui/m_select_box.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport \"../ui/list/modules/m_selection\";\r\nimport {\r\n    normalizeKeyName\r\n} from \"../../common/core/events/utils/index\";\r\nimport messageLocalization from \"../../common/core/localization/message\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport errors from \"../../core/errors\";\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    ensureDefined,\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    Deferred,\r\n    fromPromise\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    isDefined,\r\n    isPromise\r\n} from \"../../core/utils/type\";\r\nimport DropDownList from \"../ui/drop_down_editor/m_drop_down_list\";\r\nconst DISABLED_STATE_SELECTOR = \".dx-state-disabled\";\r\nconst SELECTBOX_CLASS = \"dx-selectbox\";\r\nconst SELECTBOX_POPUP_CLASS = \"dx-selectbox-popup\";\r\nconst SELECTBOX_CONTAINER_CLASS = \"dx-selectbox-container\";\r\nconst SELECTBOX_POPUP_WRAPPER_CLASS = \"dx-selectbox-popup-wrapper\";\r\nclass SelectBox extends DropDownList {\r\n    _supportedKeys() {\r\n        const that = this;\r\n        const parent = super._supportedKeys();\r\n        const clearSelectBox = function(e) {\r\n            const isEditable = this._isEditable();\r\n            if (!isEditable) {\r\n                if (this.option(\"showClearButton\")) {\r\n                    e.preventDefault();\r\n                    this.clear()\r\n                }\r\n            } else if (this._valueSubstituted()) {\r\n                this._preventFiltering = true\r\n            }\r\n            this._savedTextRemoveEvent = e;\r\n            this._preventSubstitution = true\r\n        };\r\n        const searchIfNeeded = function() {\r\n            if (that.option(\"searchEnabled\") && that._valueSubstituted()) {\r\n                that._searchHandler()\r\n            }\r\n        };\r\n        return _extends({}, parent, {\r\n            tab() {\r\n                const {\r\n                    opened: opened\r\n                } = this.option();\r\n                const popupHasFocusableElements = opened && !!this._popup.getFocusableElements().length;\r\n                if (!popupHasFocusableElements) {\r\n                    this._resetCaretPosition(true)\r\n                }\r\n                parent.tab && parent.tab.apply(this, arguments);\r\n                if (!popupHasFocusableElements) {\r\n                    this._cancelSearchIfNeed()\r\n                }\r\n            },\r\n            upArrow(e) {\r\n                if (parent.upArrow.apply(this, arguments)) {\r\n                    if (!this.option(\"opened\")) {\r\n                        this._setNextValue(e)\r\n                    }\r\n                    return true\r\n                }\r\n                return\r\n            },\r\n            downArrow(e) {\r\n                if (parent.downArrow.apply(this, arguments)) {\r\n                    if (!this.option(\"opened\")) {\r\n                        this._setNextValue(e)\r\n                    }\r\n                    return true\r\n                }\r\n                return\r\n            },\r\n            leftArrow() {\r\n                var _parent$leftArrow;\r\n                searchIfNeeded();\r\n                null === (_parent$leftArrow = parent.leftArrow) || void 0 === _parent$leftArrow || _parent$leftArrow.apply(this, arguments)\r\n            },\r\n            rightArrow() {\r\n                var _parent$rightArrow;\r\n                searchIfNeeded();\r\n                null === (_parent$rightArrow = parent.rightArrow) || void 0 === _parent$rightArrow || _parent$rightArrow.apply(this, arguments)\r\n            },\r\n            home() {\r\n                var _parent$home;\r\n                searchIfNeeded();\r\n                null === (_parent$home = parent.home) || void 0 === _parent$home || _parent$home.apply(this, arguments)\r\n            },\r\n            end() {\r\n                var _parent$end;\r\n                searchIfNeeded();\r\n                null === (_parent$end = parent.end) || void 0 === _parent$end || _parent$end.apply(this, arguments)\r\n            },\r\n            escape() {\r\n                var _parent$escape;\r\n                const result = null === (_parent$escape = parent.escape) || void 0 === _parent$escape ? void 0 : _parent$escape.apply(this, arguments);\r\n                this._cancelEditing();\r\n                return result ?? true\r\n            },\r\n            enter(e) {\r\n                const isOpened = this.option(\"opened\");\r\n                const inputText = this._input().val().trim();\r\n                const isCustomText = inputText && this._list && !this._list.option(\"focusedElement\");\r\n                if (!inputText && isDefined(this.option(\"value\")) && this.option(\"allowClearing\")) {\r\n                    this._saveValueChangeEvent(e);\r\n                    this.option({\r\n                        selectedItem: null,\r\n                        value: null\r\n                    });\r\n                    this.close()\r\n                } else {\r\n                    var _parent$enter;\r\n                    if (this.option(\"acceptCustomValue\")) {\r\n                        e.preventDefault();\r\n                        if (isCustomText) {\r\n                            if (isOpened) {\r\n                                this._toggleOpenState()\r\n                            }\r\n                            this._valueChangeEventHandler(e)\r\n                        }\r\n                        return isOpened\r\n                    }\r\n                    if (null !== (_parent$enter = parent.enter) && void 0 !== _parent$enter && _parent$enter.apply(this, arguments)) {\r\n                        return isOpened\r\n                    }\r\n                }\r\n            },\r\n            space(e) {\r\n                const isOpened = this.option(\"opened\");\r\n                const isSearchEnabled = this.option(\"searchEnabled\");\r\n                const acceptCustomValue = this.option(\"acceptCustomValue\");\r\n                if (!isOpened || isSearchEnabled || acceptCustomValue) {\r\n                    return\r\n                }\r\n                e.preventDefault();\r\n                this._valueChangeEventHandler(e);\r\n                return true\r\n            },\r\n            backspace: clearSelectBox,\r\n            del: clearSelectBox\r\n        })\r\n    }\r\n    _getDefaultOptions() {\r\n        return _extends({}, super._getDefaultOptions(), {\r\n            placeholder: messageLocalization.format(\"Select\"),\r\n            fieldTemplate: null,\r\n            customItemCreateEvent: \"change\",\r\n            valueChangeEvent: \"change\",\r\n            acceptCustomValue: false,\r\n            onCustomItemCreating(e) {\r\n                if (!isDefined(e.customItem)) {\r\n                    e.customItem = e.text\r\n                }\r\n            },\r\n            showSelectionControls: false,\r\n            allowClearing: true,\r\n            tooltipEnabled: false,\r\n            openOnFieldClick: true,\r\n            showDropDownButton: true,\r\n            displayCustomValue: false,\r\n            useHiddenSubmitElement: true\r\n        })\r\n    }\r\n    _init() {\r\n        super._init();\r\n        this._initCustomItemCreatingAction()\r\n    }\r\n    _initMarkup() {\r\n        this.$element().addClass(\"dx-selectbox\");\r\n        this._renderTooltip();\r\n        super._initMarkup();\r\n        this._$container.addClass(\"dx-selectbox-container\")\r\n    }\r\n    _createPopup() {\r\n        var _this$_popup, _this$_popup2;\r\n        super._createPopup();\r\n        null === (_this$_popup = this._popup) || void 0 === _this$_popup || _this$_popup.$element().addClass(\"dx-selectbox-popup\");\r\n        null === (_this$_popup2 = this._popup) || void 0 === _this$_popup2 || _this$_popup2.$overlayContent().attr(\"tabindex\", -1)\r\n    }\r\n    _popupWrapperClass() {\r\n        return `${super._popupWrapperClass()} dx-selectbox-popup-wrapper`\r\n    }\r\n    _setDeprecatedOptions() {\r\n        super._setDeprecatedOptions();\r\n        extend(this._deprecatedOptions, {\r\n            valueChangeEvent: {\r\n                since: \"22.2\",\r\n                alias: \"customItemCreateEvent\"\r\n            }\r\n        })\r\n    }\r\n    _cancelEditing() {\r\n        if (!this.option(\"searchEnabled\") && this._list) {\r\n            this._focusListElement(null);\r\n            this._updateField(this.option(\"selectedItem\"))\r\n        }\r\n    }\r\n    _renderOpenedState() {\r\n        super._renderOpenedState();\r\n        if (this.option(\"opened\")) {\r\n            this._scrollToSelectedItem();\r\n            this._focusSelectedElement()\r\n        }\r\n    }\r\n    _focusSelectedElement() {\r\n        const searchValue = this._searchValue();\r\n        if (!searchValue) {\r\n            this._focusListElement(null);\r\n            return\r\n        }\r\n        const {\r\n            items: items,\r\n            selectedItem: selectedItem\r\n        } = this.option();\r\n        const $listItems = this._list._itemElements();\r\n        const index = (null === items || void 0 === items ? void 0 : items.indexOf(selectedItem)) ?? -1;\r\n        const focusedElement = -1 !== index && !this._isCustomItemSelected() ? $listItems.eq(index) : null;\r\n        this._focusListElement(focusedElement)\r\n    }\r\n    _renderFocusedElement() {\r\n        if (!this._list) {\r\n            return\r\n        }\r\n        const searchValue = this._searchValue();\r\n        if (!searchValue || this.option(\"acceptCustomValue\")) {\r\n            this._focusListElement(null);\r\n            return\r\n        }\r\n        const $listItems = this._list._itemElements();\r\n        const focusedElement = $listItems.not(\".dx-state-disabled\").eq(0);\r\n        this._focusListElement(focusedElement)\r\n    }\r\n    _focusListElement(element) {\r\n        this._preventInputValueRender = true;\r\n        this._list.option(\"focusedElement\", getPublicElement(element));\r\n        delete this._preventInputValueRender\r\n    }\r\n    _scrollToSelectedItem() {\r\n        var _this$_list;\r\n        null === (_this$_list = this._list) || void 0 === _this$_list || _this$_list.scrollToItem(this._list.option(\"selectedItem\"))\r\n    }\r\n    _listContentReadyHandler() {\r\n        super._listContentReadyHandler();\r\n        const isPaginate = this._dataController.paginate();\r\n        if (isPaginate && this._needPopupRepaint()) {\r\n            return\r\n        }\r\n        this._scrollToSelectedItem()\r\n    }\r\n    _renderValue() {\r\n        this._renderInputValue();\r\n        this._setSubmitValue();\r\n        return Deferred().resolve()\r\n    }\r\n    _renderInputValue() {\r\n        return super._renderInputValue(...arguments).always((() => {\r\n            this._renderInputValueAsync()\r\n        }))\r\n    }\r\n    _renderInputValueAsync() {\r\n        this._renderTooltip();\r\n        this._renderInputValueImpl().always((() => {\r\n            this._refreshSelected()\r\n        }))\r\n    }\r\n    _renderInputValueImpl() {\r\n        this._renderField();\r\n        return Deferred().resolve()\r\n    }\r\n    _setNextItem(step) {\r\n        const item = this._calcNextItem(step);\r\n        const value = this._valueGetter(item);\r\n        this._setValue(value)\r\n    }\r\n    _setNextValue(e) {\r\n        const dataSourceIsLoaded = this._dataController.isLoaded() ? Deferred().resolve() : this._dataController.load();\r\n        dataSourceIsLoaded.done((() => {\r\n            const selectedIndex = this._getSelectedIndex();\r\n            const hasPages = this._dataController.pageSize();\r\n            const isLastPage = this._dataController.isLastPage();\r\n            const isLastItem = selectedIndex === this._items().length - 1;\r\n            this._saveValueChangeEvent(e);\r\n            const step = \"downArrow\" === normalizeKeyName(e) ? 1 : -1;\r\n            if (hasPages && !isLastPage && isLastItem && step > 0) {\r\n                if (!this._popup) {\r\n                    this._createPopup()\r\n                }\r\n                if (!this._dataController.isLoading()) {\r\n                    this._list._loadNextPage().done(this._setNextItem.bind(this, step))\r\n                }\r\n            } else {\r\n                this._setNextItem(step)\r\n            }\r\n        }))\r\n    }\r\n    _setSelectedItem(item) {\r\n        const isUnknownItem = !this._isCustomValueAllowed() && void 0 === item;\r\n        super._setSelectedItem(isUnknownItem ? null : item);\r\n        if (!isUnknownItem && (!this._isEditable() || this._isCustomItemSelected())) {\r\n            this._setListOption(\"selectedItem\", this.option(\"selectedItem\"))\r\n        }\r\n    }\r\n    _isCustomValueAllowed() {\r\n        return this.option(\"acceptCustomValue\") || super._isCustomValueAllowed()\r\n    }\r\n    _displayValue(item) {\r\n        item = !isDefined(item) && this._isCustomValueAllowed() ? this.option(\"value\") : item;\r\n        return super._displayValue(item)\r\n    }\r\n    _listConfig() {\r\n        const result = extend(super._listConfig(), {\r\n            pageLoadMode: \"scrollBottom\",\r\n            onSelectionChanged: this._getSelectionChangeHandler(),\r\n            selectedItem: this.option(\"selectedItem\"),\r\n            onFocusedItemChanged: this._listFocusedItemChangeHandler.bind(this),\r\n            _onItemsRendered: () => {\r\n                this._popup.repaint();\r\n                if (this.option(\"opened\")) {\r\n                    this._scrollToSelectedItem()\r\n                }\r\n            }\r\n        });\r\n        if (this.option(\"showSelectionControls\")) {\r\n            extend(result, {\r\n                showSelectionControls: true,\r\n                selectByClick: true\r\n            })\r\n        }\r\n        return result\r\n    }\r\n    _listFocusedItemChangeHandler(e) {\r\n        if (this._preventInputValueRender) {\r\n            return\r\n        }\r\n        const list = e.component;\r\n        const focusedElement = $(list.option(\"focusedElement\"));\r\n        const focusedItem = list._getItemData(focusedElement);\r\n        this._updateField(focusedItem)\r\n    }\r\n    _updateField(item) {\r\n        const fieldTemplate = this._getTemplateByOption(\"fieldTemplate\");\r\n        if (!(fieldTemplate && this.option(\"fieldTemplate\"))) {\r\n            const text = this._displayGetter(item);\r\n            this.option(\"text\", text);\r\n            this._renderDisplayText(text);\r\n            return\r\n        }\r\n        this._renderField()\r\n    }\r\n    _getSelectionChangeHandler() {\r\n        return this.option(\"showSelectionControls\") ? this._selectionChangeHandler.bind(this) : noop\r\n    }\r\n    _selectionChangeHandler(e) {\r\n        each(e.addedItems || [], ((_, addedItem) => {\r\n            this._setValue(this._valueGetter(addedItem))\r\n        }))\r\n    }\r\n    _getActualSearchValue() {\r\n        return this._dataController.searchValue()\r\n    }\r\n    _isInlineAutocompleteEnabled() {\r\n        const {\r\n            searchEnabled: searchEnabled,\r\n            acceptCustomValue: acceptCustomValue,\r\n            searchMode: searchMode\r\n        } = this.option();\r\n        return searchEnabled && !acceptCustomValue && \"startswith\" === searchMode\r\n    }\r\n    _getAriaAutocomplete() {\r\n        const {\r\n            disabled: disabled,\r\n            readOnly: readOnly,\r\n            searchEnabled: searchEnabled\r\n        } = this.option();\r\n        const isInputEditable = !(readOnly || disabled);\r\n        const hasAutocomplete = searchEnabled && isInputEditable;\r\n        if (!hasAutocomplete) {\r\n            return \"none\"\r\n        }\r\n        const isInlineAutocompleteEnabled = this._isInlineAutocompleteEnabled();\r\n        const autocompleteAria = isInlineAutocompleteEnabled ? \"both\" : \"list\";\r\n        return autocompleteAria\r\n    }\r\n    _toggleOpenState(isVisible) {\r\n        if (this.option(\"disabled\")) {\r\n            return\r\n        }\r\n        isVisible = arguments.length ? isVisible : !this.option(\"opened\");\r\n        if (!isVisible && !this._shouldClearFilter()) {\r\n            this._restoreInputText(true)\r\n        }\r\n        if (this._wasSearch() && isVisible) {\r\n            this._wasSearch(false);\r\n            const showDataImmediately = this.option(\"showDataBeforeSearch\") || this._isMinSearchLengthExceeded();\r\n            if (showDataImmediately && this._dataController.getDataSource()) {\r\n                if (this._searchTimer) {\r\n                    return\r\n                }\r\n                const searchValue = this._getActualSearchValue();\r\n                searchValue && this._wasSearch(true);\r\n                this._filterDataSource(searchValue || null)\r\n            } else {\r\n                this._setListOption(\"items\", [])\r\n            }\r\n        }\r\n        if (isVisible) {\r\n            this._scrollToSelectedItem()\r\n        }\r\n        super._toggleOpenState(isVisible)\r\n    }\r\n    _renderTooltip() {\r\n        const {\r\n            tooltipEnabled: tooltipEnabled,\r\n            displayValue: displayValue\r\n        } = this.option();\r\n        if (tooltipEnabled) {\r\n            this.$element().attr(\"title\", displayValue)\r\n        }\r\n    }\r\n    _renderDimensions() {\r\n        super._renderDimensions();\r\n        this._updatePopupWidth();\r\n        this._updateListDimensions()\r\n    }\r\n    _isValueEqualInputText() {\r\n        const initialSelectedItem = this.option(\"selectedItem\");\r\n        if (null === initialSelectedItem) {\r\n            return false\r\n        }\r\n        const value = this._displayGetter(initialSelectedItem);\r\n        const displayValue = value ? String(value) : \"\";\r\n        const inputText = this._searchValue();\r\n        return displayValue === inputText\r\n    }\r\n    _popupHidingHandler() {\r\n        if (this._isValueEqualInputText()) {\r\n            this._cancelEditing()\r\n        }\r\n        super._popupHidingHandler()\r\n    }\r\n    _popupHiddenHandler() {\r\n        super._popupHiddenHandler();\r\n        if (this._shouldCancelSearch()) {\r\n            this._wasSearch(false);\r\n            this._searchCanceled();\r\n            this._shouldCancelSearch(false)\r\n        }\r\n    }\r\n    _restoreInputText(saveEditingValue) {\r\n        var _this$_loadItemDeferr;\r\n        if (this.option(\"readOnly\")) {\r\n            return\r\n        }\r\n        null === (_this$_loadItemDeferr = this._loadItemDeferred) || void 0 === _this$_loadItemDeferr || _this$_loadItemDeferr.always((() => {\r\n            const {\r\n                acceptCustomValue: acceptCustomValue,\r\n                text: text,\r\n                selectedItem: initialSelectedItem,\r\n                customItemCreateEvent: customItemCreateEvent\r\n            } = this.option();\r\n            if (acceptCustomValue) {\r\n                if (!saveEditingValue && !this._isValueChanging) {\r\n                    let initialItem = null;\r\n                    if (isDefined(initialSelectedItem)) {\r\n                        initialItem = initialSelectedItem\r\n                    } else if (\"\" !== customItemCreateEvent) {\r\n                        initialItem = this._createCustomItem(text)\r\n                    }\r\n                    this._updateField(initialItem);\r\n                    this._clearFilter()\r\n                }\r\n                return\r\n            }\r\n            if (this.option(\"searchEnabled\")) {\r\n                if (!this._searchValue() && this.option(\"allowClearing\")) {\r\n                    this._clearTextValue();\r\n                    return\r\n                }\r\n            }\r\n            if (this._isValueEqualInputText()) {\r\n                return\r\n            }\r\n            this._renderInputValue().always((selectedItem => {\r\n                const newSelectedItem = ensureDefined(selectedItem, initialSelectedItem);\r\n                this._setSelectedItem(newSelectedItem);\r\n                this._updateField(newSelectedItem);\r\n                this._clearFilter()\r\n            }))\r\n        }))\r\n    }\r\n    _valueChangeEventIncludesBlur() {\r\n        const valueChangeEvent = this.option(this._getValueChangeEventOptionName());\r\n        return valueChangeEvent.includes(\"blur\")\r\n    }\r\n    _isPreventedFocusOutEvent(e) {\r\n        return this._preventNestedFocusEvent(e) || this._valueChangeEventIncludesBlur()\r\n    }\r\n    _focusOutHandler(e) {\r\n        if (!this._isPreventedFocusOutEvent(e)) {\r\n            const isOverlayTarget = this._isOverlayNestedTarget(e.relatedTarget);\r\n            if (!isOverlayTarget) {\r\n                this._restoreInputText();\r\n                this._clearSearchTimer()\r\n            }\r\n            this._cancelSearchIfNeed(e)\r\n        }\r\n        e.target = this._input().get(0);\r\n        super._focusOutHandler(e)\r\n    }\r\n    _cancelSearchIfNeed(e) {\r\n        const {\r\n            searchEnabled: searchEnabled\r\n        } = this.option();\r\n        const isOverlayTarget = this._isOverlayNestedTarget(null === e || void 0 === e ? void 0 : e.relatedTarget);\r\n        const shouldCancelSearch = this._wasSearch() && searchEnabled && !isOverlayTarget;\r\n        if (shouldCancelSearch) {\r\n            var _this$_popup3;\r\n            const isPopupVisible = null === (_this$_popup3 = this._popup) || void 0 === _this$_popup3 ? void 0 : _this$_popup3._hideAnimationProcessing;\r\n            this._clearSearchTimer();\r\n            if (isPopupVisible) {\r\n                this._shouldCancelSearch(true)\r\n            } else {\r\n                this._wasSearch(false);\r\n                this._searchCanceled()\r\n            }\r\n        }\r\n    }\r\n    _shouldCancelSearch(value) {\r\n        if (!arguments.length) {\r\n            return this._shouldCancelSearchValue\r\n        }\r\n        this._shouldCancelSearchValue = value\r\n    }\r\n    _isOverlayNestedTarget(target) {\r\n        return !!$(target).closest(\".dx-selectbox-popup-wrapper\").length\r\n    }\r\n    _clearTextValue() {\r\n        const selectedItem = this.option(\"selectedItem\");\r\n        const selectedItemText = this._displayGetter(selectedItem);\r\n        const shouldRestoreValue = selectedItem && \"\" !== selectedItemText;\r\n        if (shouldRestoreValue) {\r\n            if (this._savedTextRemoveEvent) {\r\n                this._saveValueChangeEvent(this._savedTextRemoveEvent)\r\n            }\r\n            this.option(\"value\", null)\r\n        }\r\n        delete this._savedTextRemoveEvent\r\n    }\r\n    _shouldOpenPopup() {\r\n        return this._needPassDataSourceToList() && this._wasSearch()\r\n    }\r\n    _isFocused() {\r\n        const activeElement = domAdapter.getActiveElement(this.element());\r\n        return super._isFocused() && $(activeElement).closest(this._input()).length > 0\r\n    }\r\n    _getValueChangeEventOptionName() {\r\n        return \"customItemCreateEvent\"\r\n    }\r\n    _renderValueChangeEvent() {\r\n        if (this._isEditable()) {\r\n            super._renderValueChangeEvent()\r\n        }\r\n    }\r\n    _fieldRenderData() {\r\n        const {\r\n            focusedElement: focusedElement\r\n        } = this.option();\r\n        const $listFocused = this._list && this.option(\"opened\") && $(focusedElement);\r\n        if (null !== $listFocused && void 0 !== $listFocused && $listFocused.length) {\r\n            return this._list._getItemData($listFocused)\r\n        }\r\n        return this.option(\"selectedItem\")\r\n    }\r\n    _isSelectedValue(value, cache) {\r\n        return this._isValueEquals(value, this.option(\"value\"))\r\n    }\r\n    _shouldCloseOnItemClick() {\r\n        const {\r\n            selectionMode: selectionMode\r\n        } = this.option();\r\n        return !(this.option(\"showSelectionControls\") && \"single\" !== selectionMode)\r\n    }\r\n    _listItemClickHandler(e) {\r\n        const previousValue = this._getCurrentValue();\r\n        this._focusListElement($(e.itemElement));\r\n        this._saveValueChangeEvent(e.event);\r\n        this._completeSelection(this._valueGetter(e.itemData));\r\n        if (this._shouldCloseOnItemClick()) {\r\n            this.option(\"opened\", false)\r\n        }\r\n        if (this.option(\"searchEnabled\") && previousValue === this._valueGetter(e.itemData)) {\r\n            this._updateField(e.itemData)\r\n        }\r\n        if (this._shouldClearFilter()) {\r\n            this._cancelSearchIfNeed()\r\n        }\r\n    }\r\n    _shouldClearFilter() {\r\n        return this._wasSearch()\r\n    }\r\n    _completeSelection(value) {\r\n        this._setValue(value)\r\n    }\r\n    _loadItem(value, cache) {\r\n        const that = this;\r\n        const deferred = Deferred();\r\n        super._loadItem(value, cache).done((item => {\r\n            deferred.resolve(item)\r\n        })).fail((args => {\r\n            if (null !== args && void 0 !== args && args.shouldSkipCallback) {\r\n                return\r\n            }\r\n            const selectedItem = that.option(\"selectedItem\");\r\n            if (that.option(\"acceptCustomValue\") && value === that._valueGetter(selectedItem)) {\r\n                deferred.resolve(selectedItem)\r\n            } else {\r\n                deferred.reject()\r\n            }\r\n        }));\r\n        return deferred.promise()\r\n    }\r\n    _loadInputValue(value, callback) {\r\n        this._loadItemDeferred = this._loadItem(value).always(callback);\r\n        return this._loadItemDeferred\r\n    }\r\n    _isCustomItemSelected() {\r\n        const selectedItem = this.option(\"selectedItem\");\r\n        const searchValue = this._searchValue();\r\n        const selectedItemText = this._displayGetter(selectedItem);\r\n        return !selectedItemText || searchValue !== selectedItemText.toString()\r\n    }\r\n    _valueChangeEventHandler(e) {\r\n        if (this.option(\"acceptCustomValue\") && this._isCustomItemSelected() && !this._isValueChanging) {\r\n            this._isValueChanging = true;\r\n            this._customItemAddedHandler(e)\r\n        }\r\n    }\r\n    _initCustomItemCreatingAction() {\r\n        this._customItemCreatingAction = this._createActionByOption(\"onCustomItemCreating\")\r\n    }\r\n    _createCustomItem(text) {\r\n        const params = {\r\n            text: text\r\n        };\r\n        const actionResult = this._customItemCreatingAction(params);\r\n        const item = ensureDefined(actionResult, params.customItem);\r\n        if (isDefined(actionResult)) {\r\n            errors.log(\"W0015\", \"onCustomItemCreating\", \"customItem\")\r\n        }\r\n        return item\r\n    }\r\n    _customItemAddedHandler(e) {\r\n        const searchValue = this._searchValue();\r\n        const item = this._createCustomItem(searchValue);\r\n        this._saveValueChangeEvent(e);\r\n        if (void 0 === item) {\r\n            this._renderValue();\r\n            throw errors.Error(\"E0121\")\r\n        }\r\n        if (isPromise(item)) {\r\n            fromPromise(item).done(this._setCustomItem.bind(this)).fail(this._setCustomItem.bind(this, null))\r\n        } else {\r\n            this._setCustomItem(item)\r\n        }\r\n    }\r\n    _setCustomItem(item) {\r\n        if (this._disposed) {\r\n            return\r\n        }\r\n        item = item || null;\r\n        this.option(\"selectedItem\", item);\r\n        this._cancelSearchIfNeed();\r\n        this._setValue(this._valueGetter(item));\r\n        this._renderDisplayText(this._displayGetter(item));\r\n        this._isValueChanging = false\r\n    }\r\n    _clearValueHandler(e) {\r\n        this._preventFiltering = true;\r\n        super._clearValueHandler(e);\r\n        this._searchCanceled();\r\n        return false\r\n    }\r\n    _wasSearch(value) {\r\n        if (!arguments.length) {\r\n            return !!this._wasSearchValue\r\n        }\r\n        this._wasSearchValue = value;\r\n        return\r\n    }\r\n    _searchHandler(e) {\r\n        if (this._preventFiltering) {\r\n            delete this._preventFiltering;\r\n            return\r\n        }\r\n        if (this._needPassDataSourceToList()) {\r\n            this._wasSearch(true)\r\n        }\r\n        super._searchHandler(arguments)\r\n    }\r\n    _dataSourceFiltered(searchValue) {\r\n        super._dataSourceFiltered();\r\n        if (null !== searchValue) {\r\n            this._renderInputSubstitution();\r\n            this._renderFocusedElement()\r\n        }\r\n    }\r\n    _valueSubstituted() {\r\n        const input = this._input().get(0);\r\n        const currentSearchLength = this._searchValue().length;\r\n        const isAllSelected = 0 === input.selectionStart && input.selectionEnd === currentSearchLength;\r\n        const inputHasSelection = input.selectionStart !== input.selectionEnd;\r\n        const isLastSymbolSelected = currentSearchLength === input.selectionEnd;\r\n        return this._wasSearch() && inputHasSelection && !isAllSelected && isLastSymbolSelected && this._shouldSubstitutionBeRendered()\r\n    }\r\n    _shouldSubstitutionBeRendered() {\r\n        return !this._preventSubstitution && this._isInlineAutocompleteEnabled()\r\n    }\r\n    _renderInputSubstitution() {\r\n        if (!this._shouldSubstitutionBeRendered()) {\r\n            delete this._preventSubstitution;\r\n            return\r\n        }\r\n        const item = this._list && this._getPlainItems(this._list.option(\"items\"))[0];\r\n        if (!item) {\r\n            return\r\n        }\r\n        const $input = this._input();\r\n        const valueLength = $input.val().length;\r\n        if (0 === valueLength) {\r\n            return\r\n        }\r\n        const inputElement = $input.get(0);\r\n        const displayValue = this._displayGetter(item).toString();\r\n        inputElement.value = displayValue;\r\n        this._caret({\r\n            start: valueLength,\r\n            end: displayValue.length\r\n        })\r\n    }\r\n    _dispose() {\r\n        this._renderInputValueAsync = noop;\r\n        delete this._loadItemDeferred;\r\n        super._dispose()\r\n    }\r\n    _optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"customItemCreateEvent\":\r\n                this._refreshValueChangeEvent();\r\n                this._refreshFocusEvent();\r\n                this._refreshEvents();\r\n                break;\r\n            case \"onCustomItemCreating\":\r\n                this._initCustomItemCreatingAction();\r\n                break;\r\n            case \"tooltipEnabled\":\r\n                this._renderTooltip();\r\n                break;\r\n            case \"readOnly\":\r\n            case \"disabled\":\r\n            case \"searchMode\":\r\n                super._optionChanged(args);\r\n                this._setDefaultAria();\r\n                break;\r\n            case \"displayCustomValue\":\r\n            case \"acceptCustomValue\":\r\n            case \"showSelectionControls\":\r\n                this._invalidate();\r\n                break;\r\n            case \"allowClearing\":\r\n                break;\r\n            default:\r\n                super._optionChanged(args)\r\n        }\r\n    }\r\n}\r\nregisterComponent(\"dxSelectBox\", SelectBox);\r\nexport default SelectBox;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}