{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/core/m_action.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport { each } from \"../../core/utils/iterator\";\nimport { isFunction, isPlainObject } from \"../../core/utils/type\";\nimport { getWindow } from \"../../core/utils/window\";\nclass Action {\n  constructor(action, config) {\n    config = config || {};\n    this._action = action;\n    this._context = config.context || getWindow();\n    this._beforeExecute = config.beforeExecute;\n    this._afterExecute = config.afterExecute;\n    this._component = config.component;\n    this._validatingTargetName = config.validatingTargetName;\n    const excludeValidators = this._excludeValidators = {};\n    if (config.excludeValidators) {\n      for (let i = 0; i < config.excludeValidators.length; i++) {\n        excludeValidators[config.excludeValidators[i]] = true;\n      }\n    }\n  }\n  execute() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    const e = {\n      action: this._action,\n      args: Array.prototype.slice.call(args),\n      context: this._context,\n      component: this._component,\n      validatingTargetName: this._validatingTargetName,\n      cancel: false,\n      handled: false\n    };\n    const beforeExecute = this._beforeExecute;\n    const afterExecute = this._afterExecute;\n    const argsBag = e.args[0] || {};\n    if (!this._validateAction(e)) {\n      return;\n    }\n    null === beforeExecute || void 0 === beforeExecute || beforeExecute.call(this._context, e);\n    if (e.cancel) {\n      return;\n    }\n    const result = this._executeAction(e);\n    if (argsBag.cancel) {\n      return;\n    }\n    null === afterExecute || void 0 === afterExecute || afterExecute.call(this._context, e);\n    return result;\n  }\n  _validateAction(e) {\n    const excludeValidators = this._excludeValidators;\n    const {\n      executors: executors\n    } = Action;\n    for (const name in executors) {\n      if (!excludeValidators[name]) {\n        var _executor$validate;\n        const executor = executors[name];\n        null === (_executor$validate = executor.validate) || void 0 === _executor$validate || _executor$validate.call(executor, e);\n        if (e.cancel) {\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n  _executeAction(e) {\n    let result;\n    const {\n      executors: executors\n    } = Action;\n    for (const name in executors) {\n      var _executor$execute;\n      const executor = executors[name];\n      null === (_executor$execute = executor.execute) || void 0 === _executor$execute || _executor$execute.call(executor, e);\n      if (e.handled) {\n        result = e.result;\n        break;\n      }\n    }\n    return result;\n  }\n  static registerExecutor(name, executor) {\n    if (isPlainObject(name)) {\n      each(name, Action.registerExecutor);\n      return;\n    }\n    Action.executors[name] = executor;\n  }\n  static unregisterExecutor() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    each(args, function () {\n      delete Action.executors[this];\n    });\n  }\n}\nAction.executors = {};\nconst createValidatorByTargetElement = condition => e => {\n  if (!e.args.length) {\n    return;\n  }\n  const args = e.args[0];\n  const element = args[e.validatingTargetName] || args.element;\n  if (element && condition($(element))) {\n    e.cancel = true;\n  }\n};\nAction.registerExecutor({\n  disabled: {\n    validate: createValidatorByTargetElement($target => $target.is(\".dx-state-disabled, .dx-state-disabled *\"))\n  },\n  readOnly: {\n    validate: createValidatorByTargetElement($target => $target.is(\".dx-state-readonly, .dx-state-readonly *:not(.dx-state-independent)\"))\n  },\n  undefined: {\n    execute: e => {\n      if (!e.action) {\n        e.result = void 0;\n        e.handled = true;\n      }\n    }\n  },\n  func: {\n    execute: e => {\n      if (isFunction(e.action)) {\n        e.result = e.action.call(e.context, e.args[0]);\n        e.handled = true;\n      }\n    }\n  }\n});\nexport { Action };\nexport default Action;","map":{"version":3,"names":["$","each","isFunction","isPlainObject","getWindow","Action","constructor","action","config","_action","_context","context","_beforeExecute","beforeExecute","_afterExecute","afterExecute","_component","component","_validatingTargetName","validatingTargetName","excludeValidators","_excludeValidators","i","length","execute","_len","arguments","args","Array","_key","e","prototype","slice","call","cancel","handled","argsBag","_validateAction","result","_executeAction","executors","name","_executor$validate","executor","validate","_executor$execute","registerExecutor","unregisterExecutor","_len2","_key2","createValidatorByTargetElement","condition","element","disabled","$target","is","readOnly","undefined","func"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/core/m_action.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/core/m_action.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    isFunction,\r\n    isPlainObject\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nclass Action {\r\n    constructor(action, config) {\r\n        config = config || {};\r\n        this._action = action;\r\n        this._context = config.context || getWindow();\r\n        this._beforeExecute = config.beforeExecute;\r\n        this._afterExecute = config.afterExecute;\r\n        this._component = config.component;\r\n        this._validatingTargetName = config.validatingTargetName;\r\n        const excludeValidators = this._excludeValidators = {};\r\n        if (config.excludeValidators) {\r\n            for (let i = 0; i < config.excludeValidators.length; i++) {\r\n                excludeValidators[config.excludeValidators[i]] = true\r\n            }\r\n        }\r\n    }\r\n    execute() {\r\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n            args[_key] = arguments[_key]\r\n        }\r\n        const e = {\r\n            action: this._action,\r\n            args: Array.prototype.slice.call(args),\r\n            context: this._context,\r\n            component: this._component,\r\n            validatingTargetName: this._validatingTargetName,\r\n            cancel: false,\r\n            handled: false\r\n        };\r\n        const beforeExecute = this._beforeExecute;\r\n        const afterExecute = this._afterExecute;\r\n        const argsBag = e.args[0] || {};\r\n        if (!this._validateAction(e)) {\r\n            return\r\n        }\r\n        null === beforeExecute || void 0 === beforeExecute || beforeExecute.call(this._context, e);\r\n        if (e.cancel) {\r\n            return\r\n        }\r\n        const result = this._executeAction(e);\r\n        if (argsBag.cancel) {\r\n            return\r\n        }\r\n        null === afterExecute || void 0 === afterExecute || afterExecute.call(this._context, e);\r\n        return result\r\n    }\r\n    _validateAction(e) {\r\n        const excludeValidators = this._excludeValidators;\r\n        const {\r\n            executors: executors\r\n        } = Action;\r\n        for (const name in executors) {\r\n            if (!excludeValidators[name]) {\r\n                var _executor$validate;\r\n                const executor = executors[name];\r\n                null === (_executor$validate = executor.validate) || void 0 === _executor$validate || _executor$validate.call(executor, e);\r\n                if (e.cancel) {\r\n                    return false\r\n                }\r\n            }\r\n        }\r\n        return true\r\n    }\r\n    _executeAction(e) {\r\n        let result;\r\n        const {\r\n            executors: executors\r\n        } = Action;\r\n        for (const name in executors) {\r\n            var _executor$execute;\r\n            const executor = executors[name];\r\n            null === (_executor$execute = executor.execute) || void 0 === _executor$execute || _executor$execute.call(executor, e);\r\n            if (e.handled) {\r\n                result = e.result;\r\n                break\r\n            }\r\n        }\r\n        return result\r\n    }\r\n    static registerExecutor(name, executor) {\r\n        if (isPlainObject(name)) {\r\n            each(name, Action.registerExecutor);\r\n            return\r\n        }\r\n        Action.executors[name] = executor\r\n    }\r\n    static unregisterExecutor() {\r\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\r\n            args[_key2] = arguments[_key2]\r\n        }\r\n        each(args, (function() {\r\n            delete Action.executors[this]\r\n        }))\r\n    }\r\n}\r\nAction.executors = {};\r\nconst createValidatorByTargetElement = condition => e => {\r\n    if (!e.args.length) {\r\n        return\r\n    }\r\n    const args = e.args[0];\r\n    const element = args[e.validatingTargetName] || args.element;\r\n    if (element && condition($(element))) {\r\n        e.cancel = true\r\n    }\r\n};\r\nAction.registerExecutor({\r\n    disabled: {\r\n        validate: createValidatorByTargetElement(($target => $target.is(\".dx-state-disabled, .dx-state-disabled *\")))\r\n    },\r\n    readOnly: {\r\n        validate: createValidatorByTargetElement(($target => $target.is(\".dx-state-readonly, .dx-state-readonly *:not(.dx-state-independent)\")))\r\n    },\r\n    undefined: {\r\n        execute: e => {\r\n            if (!e.action) {\r\n                e.result = void 0;\r\n                e.handled = true\r\n            }\r\n        }\r\n    },\r\n    func: {\r\n        execute: e => {\r\n            if (isFunction(e.action)) {\r\n                e.result = e.action.call(e.context, e.args[0]);\r\n                e.handled = true\r\n            }\r\n        }\r\n    }\r\n});\r\nexport {\r\n    Action\r\n};\r\nexport default Action;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}