{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/events/core/m_keyboard_processor.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport eventsEngine from \"../../../common/core/events/core/events_engine\";\nimport { addNamespace, normalizeKeyName } from \"../../../common/core/events/utils/index\";\nimport Class from \"../../../core/class\";\nimport $ from \"../../../core/renderer\";\nconst COMPOSITION_START_EVENT = \"compositionstart\";\nconst COMPOSITION_END_EVENT = \"compositionend\";\nconst KEYDOWN_EVENT = \"keydown\";\nconst NAMESPACE = \"KeyboardProcessor\";\nconst createKeyDownOptions = e => ({\n  keyName: normalizeKeyName(e),\n  key: e.key,\n  code: e.code,\n  ctrl: e.ctrlKey,\n  location: e.location,\n  metaKey: e.metaKey,\n  shift: e.shiftKey,\n  alt: e.altKey,\n  which: e.which,\n  originalEvent: e\n});\nconst KeyboardProcessor = Class.inherit({\n  _keydown: addNamespace(\"keydown\", NAMESPACE),\n  _compositionStart: addNamespace(\"compositionstart\", NAMESPACE),\n  _compositionEnd: addNamespace(\"compositionend\", NAMESPACE),\n  ctor(options) {\n    options = options || {};\n    if (options.element) {\n      this._element = $(options.element);\n    }\n    if (options.focusTarget) {\n      this._focusTarget = options.focusTarget;\n    }\n    this._handler = options.handler;\n    if (this._element) {\n      this._processFunction = e => {\n        const focusTargets = $(this._focusTarget).toArray();\n        const isNotFocusTarget = this._focusTarget && this._focusTarget !== e.target && !focusTargets.includes(e.target);\n        const shouldSkipProcessing = this._isComposingJustFinished && 229 === e.which || this._isComposing || isNotFocusTarget;\n        this._isComposingJustFinished = false;\n        if (!shouldSkipProcessing) {\n          this.process(e);\n        }\n      };\n      this._toggleProcessingWithContext = this.toggleProcessing.bind(this);\n      eventsEngine.on(this._element, this._keydown, this._processFunction);\n      eventsEngine.on(this._element, this._compositionStart, this._toggleProcessingWithContext);\n      eventsEngine.on(this._element, this._compositionEnd, this._toggleProcessingWithContext);\n    }\n  },\n  dispose() {\n    if (this._element) {\n      eventsEngine.off(this._element, this._keydown, this._processFunction);\n      eventsEngine.off(this._element, this._compositionStart, this._toggleProcessingWithContext);\n      eventsEngine.off(this._element, this._compositionEnd, this._toggleProcessingWithContext);\n    }\n    this._element = void 0;\n    this._handler = void 0;\n  },\n  process(e) {\n    this._handler(createKeyDownOptions(e));\n  },\n  toggleProcessing(_ref) {\n    let {\n      type: type\n    } = _ref;\n    this._isComposing = \"compositionstart\" === type;\n    this._isComposingJustFinished = !this._isComposing;\n  }\n});\nKeyboardProcessor.createKeyDownOptions = createKeyDownOptions;\nexport default KeyboardProcessor;","map":{"version":3,"names":["eventsEngine","addNamespace","normalizeKeyName","Class","$","COMPOSITION_START_EVENT","COMPOSITION_END_EVENT","KEYDOWN_EVENT","NAMESPACE","createKeyDownOptions","e","keyName","key","code","ctrl","ctrlKey","location","metaKey","shift","shiftKey","alt","altKey","which","originalEvent","KeyboardProcessor","inherit","_keydown","_compositionStart","_compositionEnd","ctor","options","element","_element","focusTarget","_focusTarget","_handler","handler","_processFunction","focusTargets","toArray","isNotFocusTarget","target","includes","shouldSkipProcessing","_isComposingJustFinished","_isComposing","process","_toggleProcessingWithContext","toggleProcessing","bind","on","dispose","off","_ref","type"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/events/core/m_keyboard_processor.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/events/core/m_keyboard_processor.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport eventsEngine from \"../../../common/core/events/core/events_engine\";\r\nimport {\r\n    addNamespace,\r\n    normalizeKeyName\r\n} from \"../../../common/core/events/utils/index\";\r\nimport Class from \"../../../core/class\";\r\nimport $ from \"../../../core/renderer\";\r\nconst COMPOSITION_START_EVENT = \"compositionstart\";\r\nconst COMPOSITION_END_EVENT = \"compositionend\";\r\nconst KEYDOWN_EVENT = \"keydown\";\r\nconst NAMESPACE = \"KeyboardProcessor\";\r\nconst createKeyDownOptions = e => ({\r\n    keyName: normalizeKeyName(e),\r\n    key: e.key,\r\n    code: e.code,\r\n    ctrl: e.ctrlKey,\r\n    location: e.location,\r\n    metaKey: e.metaKey,\r\n    shift: e.shiftKey,\r\n    alt: e.altKey,\r\n    which: e.which,\r\n    originalEvent: e\r\n});\r\nconst KeyboardProcessor = Class.inherit({\r\n    _keydown: addNamespace(\"keydown\", NAMESPACE),\r\n    _compositionStart: addNamespace(\"compositionstart\", NAMESPACE),\r\n    _compositionEnd: addNamespace(\"compositionend\", NAMESPACE),\r\n    ctor(options) {\r\n        options = options || {};\r\n        if (options.element) {\r\n            this._element = $(options.element)\r\n        }\r\n        if (options.focusTarget) {\r\n            this._focusTarget = options.focusTarget\r\n        }\r\n        this._handler = options.handler;\r\n        if (this._element) {\r\n            this._processFunction = e => {\r\n                const focusTargets = $(this._focusTarget).toArray();\r\n                const isNotFocusTarget = this._focusTarget && this._focusTarget !== e.target && !focusTargets.includes(e.target);\r\n                const shouldSkipProcessing = this._isComposingJustFinished && 229 === e.which || this._isComposing || isNotFocusTarget;\r\n                this._isComposingJustFinished = false;\r\n                if (!shouldSkipProcessing) {\r\n                    this.process(e)\r\n                }\r\n            };\r\n            this._toggleProcessingWithContext = this.toggleProcessing.bind(this);\r\n            eventsEngine.on(this._element, this._keydown, this._processFunction);\r\n            eventsEngine.on(this._element, this._compositionStart, this._toggleProcessingWithContext);\r\n            eventsEngine.on(this._element, this._compositionEnd, this._toggleProcessingWithContext)\r\n        }\r\n    },\r\n    dispose() {\r\n        if (this._element) {\r\n            eventsEngine.off(this._element, this._keydown, this._processFunction);\r\n            eventsEngine.off(this._element, this._compositionStart, this._toggleProcessingWithContext);\r\n            eventsEngine.off(this._element, this._compositionEnd, this._toggleProcessingWithContext)\r\n        }\r\n        this._element = void 0;\r\n        this._handler = void 0\r\n    },\r\n    process(e) {\r\n        this._handler(createKeyDownOptions(e))\r\n    },\r\n    toggleProcessing(_ref) {\r\n        let {\r\n            type: type\r\n        } = _ref;\r\n        this._isComposing = \"compositionstart\" === type;\r\n        this._isComposingJustFinished = !this._isComposing\r\n    }\r\n});\r\nKeyboardProcessor.createKeyDownOptions = createKeyDownOptions;\r\nexport default KeyboardProcessor;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}