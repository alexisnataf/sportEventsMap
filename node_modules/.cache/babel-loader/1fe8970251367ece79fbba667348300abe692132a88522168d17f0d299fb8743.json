{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/ui/drop_down_editor/m_drop_down_button.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport eventsEngine from \"../../../common/core/events/core/events_engine\";\nimport messageLocalization from \"../../../common/core/localization/message\";\nimport $ from \"../../../core/renderer\";\nimport { extend } from \"../../../core/utils/extend\";\nimport Button from \"../../../ui/button\";\nimport TextEditorButton from \"../text_box/texteditor_button_collection/m_button\";\nconst DROP_DOWN_EDITOR_BUTTON_CLASS = \"dx-dropdowneditor-button\";\nconst DROP_DOWN_EDITOR_BUTTON_VISIBLE = \"dx-dropdowneditor-button-visible\";\nconst BUTTON_MESSAGE = \"dxDropDownEditor-selectLabel\";\nexport default class DropDownButton extends TextEditorButton {\n  constructor(name, editor, options) {\n    super(name, editor, options);\n    this.currentTemplate = null;\n  }\n  _attachEvents(instance) {\n    const {\n      editor: editor\n    } = this;\n    instance.option(\"onClick\", e => {\n      var _editor$_shouldCallOp;\n      if (null !== (_editor$_shouldCallOp = editor._shouldCallOpenHandler) && void 0 !== _editor$_shouldCallOp && _editor$_shouldCallOp.call(editor)) {\n        editor._openHandler(e);\n        return;\n      }\n      !editor.option(\"openOnFieldClick\") && editor._openHandler(e);\n    });\n    eventsEngine.on(instance.$element(), \"mousedown\", e => {\n      if (editor.$element().is(\".dx-state-focused\")) {\n        e.preventDefault();\n      }\n    });\n  }\n  _create() {\n    const {\n      editor: editor\n    } = this;\n    const $element = $(\"<div>\");\n    const options = this._getOptions();\n    this._addToContainer($element);\n    const instance = editor._createComponent($element, Button, extend({}, options, {\n      elementAttr: {\n        \"aria-label\": messageLocalization.format(BUTTON_MESSAGE)\n      }\n    }));\n    this._legacyRender(editor.$element(), $element, options.visible);\n    return {\n      $element: $element,\n      instance: instance\n    };\n  }\n  _getOptions() {\n    const {\n      editor: editor\n    } = this;\n    const visible = this._isVisible();\n    const isReadOnly = editor.option(\"readOnly\");\n    const options = {\n      focusStateEnabled: false,\n      hoverStateEnabled: false,\n      activeStateEnabled: false,\n      useInkRipple: false,\n      disabled: isReadOnly,\n      visible: visible\n    };\n    this._addTemplate(options);\n    return options;\n  }\n  _isVisible() {\n    const {\n      editor: editor\n    } = this;\n    return super._isVisible() && editor.option(\"showDropDownButton\");\n  }\n  _legacyRender($editor, $element, isVisible) {\n    $editor.toggleClass(DROP_DOWN_EDITOR_BUTTON_VISIBLE, isVisible);\n    if ($element) {\n      $element.removeClass(\"dx-button\").removeClass(\"dx-button-mode-contained\").addClass(\"dx-dropdowneditor-button\");\n    }\n  }\n  _isSameTemplate() {\n    return this.editor.option(\"dropDownButtonTemplate\") === this.currentTemplate;\n  }\n  _addTemplate(options) {\n    if (!this._isSameTemplate()) {\n      options.template = this.editor._getTemplateByOption(\"dropDownButtonTemplate\");\n      this.currentTemplate = this.editor.option(\"dropDownButtonTemplate\");\n    }\n  }\n  update() {\n    const shouldUpdate = super.update();\n    if (shouldUpdate) {\n      const {\n        editor: editor,\n        instance: instance\n      } = this;\n      const $editor = editor.$element();\n      const options = this._getOptions();\n      null === instance || void 0 === instance || instance.option(options);\n      this._legacyRender($editor, null === instance || void 0 === instance ? void 0 : instance.$element(), options.visible);\n    }\n  }\n}","map":{"version":3,"names":["eventsEngine","messageLocalization","$","extend","Button","TextEditorButton","DROP_DOWN_EDITOR_BUTTON_CLASS","DROP_DOWN_EDITOR_BUTTON_VISIBLE","BUTTON_MESSAGE","DropDownButton","constructor","name","editor","options","currentTemplate","_attachEvents","instance","option","e","_editor$_shouldCallOp","_shouldCallOpenHandler","call","_openHandler","on","$element","is","preventDefault","_create","_getOptions","_addToContainer","_createComponent","elementAttr","format","_legacyRender","visible","_isVisible","isReadOnly","focusStateEnabled","hoverStateEnabled","activeStateEnabled","useInkRipple","disabled","_addTemplate","$editor","isVisible","toggleClass","removeClass","addClass","_isSameTemplate","template","_getTemplateByOption","update","shouldUpdate"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/ui/drop_down_editor/m_drop_down_button.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/ui/drop_down_editor/m_drop_down_button.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport eventsEngine from \"../../../common/core/events/core/events_engine\";\r\nimport messageLocalization from \"../../../common/core/localization/message\";\r\nimport $ from \"../../../core/renderer\";\r\nimport {\r\n    extend\r\n} from \"../../../core/utils/extend\";\r\nimport Button from \"../../../ui/button\";\r\nimport TextEditorButton from \"../text_box/texteditor_button_collection/m_button\";\r\nconst DROP_DOWN_EDITOR_BUTTON_CLASS = \"dx-dropdowneditor-button\";\r\nconst DROP_DOWN_EDITOR_BUTTON_VISIBLE = \"dx-dropdowneditor-button-visible\";\r\nconst BUTTON_MESSAGE = \"dxDropDownEditor-selectLabel\";\r\nexport default class DropDownButton extends TextEditorButton {\r\n    constructor(name, editor, options) {\r\n        super(name, editor, options);\r\n        this.currentTemplate = null\r\n    }\r\n    _attachEvents(instance) {\r\n        const {\r\n            editor: editor\r\n        } = this;\r\n        instance.option(\"onClick\", (e => {\r\n            var _editor$_shouldCallOp;\r\n            if (null !== (_editor$_shouldCallOp = editor._shouldCallOpenHandler) && void 0 !== _editor$_shouldCallOp && _editor$_shouldCallOp.call(editor)) {\r\n                editor._openHandler(e);\r\n                return\r\n            }!editor.option(\"openOnFieldClick\") && editor._openHandler(e)\r\n        }));\r\n        eventsEngine.on(instance.$element(), \"mousedown\", (e => {\r\n            if (editor.$element().is(\".dx-state-focused\")) {\r\n                e.preventDefault()\r\n            }\r\n        }))\r\n    }\r\n    _create() {\r\n        const {\r\n            editor: editor\r\n        } = this;\r\n        const $element = $(\"<div>\");\r\n        const options = this._getOptions();\r\n        this._addToContainer($element);\r\n        const instance = editor._createComponent($element, Button, extend({}, options, {\r\n            elementAttr: {\r\n                \"aria-label\": messageLocalization.format(BUTTON_MESSAGE)\r\n            }\r\n        }));\r\n        this._legacyRender(editor.$element(), $element, options.visible);\r\n        return {\r\n            $element: $element,\r\n            instance: instance\r\n        }\r\n    }\r\n    _getOptions() {\r\n        const {\r\n            editor: editor\r\n        } = this;\r\n        const visible = this._isVisible();\r\n        const isReadOnly = editor.option(\"readOnly\");\r\n        const options = {\r\n            focusStateEnabled: false,\r\n            hoverStateEnabled: false,\r\n            activeStateEnabled: false,\r\n            useInkRipple: false,\r\n            disabled: isReadOnly,\r\n            visible: visible\r\n        };\r\n        this._addTemplate(options);\r\n        return options\r\n    }\r\n    _isVisible() {\r\n        const {\r\n            editor: editor\r\n        } = this;\r\n        return super._isVisible() && editor.option(\"showDropDownButton\")\r\n    }\r\n    _legacyRender($editor, $element, isVisible) {\r\n        $editor.toggleClass(DROP_DOWN_EDITOR_BUTTON_VISIBLE, isVisible);\r\n        if ($element) {\r\n            $element.removeClass(\"dx-button\").removeClass(\"dx-button-mode-contained\").addClass(\"dx-dropdowneditor-button\")\r\n        }\r\n    }\r\n    _isSameTemplate() {\r\n        return this.editor.option(\"dropDownButtonTemplate\") === this.currentTemplate\r\n    }\r\n    _addTemplate(options) {\r\n        if (!this._isSameTemplate()) {\r\n            options.template = this.editor._getTemplateByOption(\"dropDownButtonTemplate\");\r\n            this.currentTemplate = this.editor.option(\"dropDownButtonTemplate\")\r\n        }\r\n    }\r\n    update() {\r\n        const shouldUpdate = super.update();\r\n        if (shouldUpdate) {\r\n            const {\r\n                editor: editor,\r\n                instance: instance\r\n            } = this;\r\n            const $editor = editor.$element();\r\n            const options = this._getOptions();\r\n            null === instance || void 0 === instance || instance.option(options);\r\n            this._legacyRender($editor, null === instance || void 0 === instance ? void 0 : instance.$element(), options.visible)\r\n        }\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}