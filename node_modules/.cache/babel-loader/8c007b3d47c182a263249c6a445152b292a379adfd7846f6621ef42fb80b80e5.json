{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/events/pointer/m_base.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport eventsEngine from \"../../../common/core/events/core/events_engine\";\nimport { getEventTarget } from \"../../../common/core/events/utils/event_target\";\nimport { addNamespace, eventSource, fireEvent } from \"../../../common/core/events/utils/index\";\nimport Class from \"../../../core/class\";\nimport domAdapter from \"../../../core/dom_adapter\";\nimport browser from \"../../../core/utils/browser\";\nconst POINTER_EVENTS_NAMESPACE = \"dxPointerEvents\";\nconst BaseStrategy = Class.inherit({\n  ctor(eventName, originalEvents) {\n    this._eventName = eventName;\n    this._originalEvents = addNamespace(originalEvents, \"dxPointerEvents\");\n    this._handlerCount = 0;\n    this.noBubble = this._isNoBubble();\n  },\n  _isNoBubble() {\n    const eventName = this._eventName;\n    return \"dxpointerenter\" === eventName || \"dxpointerleave\" === eventName;\n  },\n  _handler(e) {\n    const delegateTarget = this._getDelegateTarget(e);\n    const event = {\n      type: this._eventName,\n      pointerType: e.pointerType || eventSource(e),\n      originalEvent: e,\n      delegateTarget: delegateTarget,\n      timeStamp: browser.mozilla ? new Date().getTime() : e.timeStamp\n    };\n    const target = getEventTarget(e);\n    event.target = target;\n    return this._fireEvent(event);\n  },\n  _getDelegateTarget(e) {\n    let delegateTarget;\n    if (this.noBubble) {\n      delegateTarget = e.delegateTarget;\n    }\n    return delegateTarget;\n  },\n  _fireEvent: args => fireEvent(args),\n  _setSelector(handleObj) {\n    this._selector = this.noBubble && handleObj ? handleObj.selector : null;\n  },\n  _getSelector() {\n    return this._selector;\n  },\n  setup: () => true,\n  add(element, handleObj) {\n    if (this._handlerCount <= 0 || this.noBubble) {\n      element = this.noBubble ? element : domAdapter.getDocument();\n      this._setSelector(handleObj);\n      const that = this;\n      eventsEngine.on(element, this._originalEvents, this._getSelector(), e => {\n        that._handler(e);\n      });\n    }\n    if (!this.noBubble) {\n      this._handlerCount++;\n    }\n  },\n  remove(handleObj) {\n    this._setSelector(handleObj);\n    if (!this.noBubble) {\n      this._handlerCount--;\n    }\n  },\n  teardown(element) {\n    if (this._handlerCount && !this.noBubble) {\n      return;\n    }\n    element = this.noBubble ? element : domAdapter.getDocument();\n    if (\".dxPointerEvents\" !== this._originalEvents) {\n      eventsEngine.off(element, this._originalEvents, this._getSelector());\n    }\n  },\n  dispose(element) {\n    element = this.noBubble ? element : domAdapter.getDocument();\n    eventsEngine.off(element, this._originalEvents);\n  }\n});\nexport default BaseStrategy;","map":{"version":3,"names":["eventsEngine","getEventTarget","addNamespace","eventSource","fireEvent","Class","domAdapter","browser","POINTER_EVENTS_NAMESPACE","BaseStrategy","inherit","ctor","eventName","originalEvents","_eventName","_originalEvents","_handlerCount","noBubble","_isNoBubble","_handler","e","delegateTarget","_getDelegateTarget","event","type","pointerType","originalEvent","timeStamp","mozilla","Date","getTime","target","_fireEvent","args","_setSelector","handleObj","_selector","selector","_getSelector","setup","add","element","getDocument","that","on","remove","teardown","off","dispose"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/events/pointer/m_base.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/events/pointer/m_base.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport eventsEngine from \"../../../common/core/events/core/events_engine\";\r\nimport {\r\n    getEventTarget\r\n} from \"../../../common/core/events/utils/event_target\";\r\nimport {\r\n    addNamespace,\r\n    eventSource,\r\n    fireEvent\r\n} from \"../../../common/core/events/utils/index\";\r\nimport Class from \"../../../core/class\";\r\nimport domAdapter from \"../../../core/dom_adapter\";\r\nimport browser from \"../../../core/utils/browser\";\r\nconst POINTER_EVENTS_NAMESPACE = \"dxPointerEvents\";\r\nconst BaseStrategy = Class.inherit({\r\n    ctor(eventName, originalEvents) {\r\n        this._eventName = eventName;\r\n        this._originalEvents = addNamespace(originalEvents, \"dxPointerEvents\");\r\n        this._handlerCount = 0;\r\n        this.noBubble = this._isNoBubble()\r\n    },\r\n    _isNoBubble() {\r\n        const eventName = this._eventName;\r\n        return \"dxpointerenter\" === eventName || \"dxpointerleave\" === eventName\r\n    },\r\n    _handler(e) {\r\n        const delegateTarget = this._getDelegateTarget(e);\r\n        const event = {\r\n            type: this._eventName,\r\n            pointerType: e.pointerType || eventSource(e),\r\n            originalEvent: e,\r\n            delegateTarget: delegateTarget,\r\n            timeStamp: browser.mozilla ? (new Date).getTime() : e.timeStamp\r\n        };\r\n        const target = getEventTarget(e);\r\n        event.target = target;\r\n        return this._fireEvent(event)\r\n    },\r\n    _getDelegateTarget(e) {\r\n        let delegateTarget;\r\n        if (this.noBubble) {\r\n            delegateTarget = e.delegateTarget\r\n        }\r\n        return delegateTarget\r\n    },\r\n    _fireEvent: args => fireEvent(args),\r\n    _setSelector(handleObj) {\r\n        this._selector = this.noBubble && handleObj ? handleObj.selector : null\r\n    },\r\n    _getSelector() {\r\n        return this._selector\r\n    },\r\n    setup: () => true,\r\n    add(element, handleObj) {\r\n        if (this._handlerCount <= 0 || this.noBubble) {\r\n            element = this.noBubble ? element : domAdapter.getDocument();\r\n            this._setSelector(handleObj);\r\n            const that = this;\r\n            eventsEngine.on(element, this._originalEvents, this._getSelector(), (e => {\r\n                that._handler(e)\r\n            }))\r\n        }\r\n        if (!this.noBubble) {\r\n            this._handlerCount++\r\n        }\r\n    },\r\n    remove(handleObj) {\r\n        this._setSelector(handleObj);\r\n        if (!this.noBubble) {\r\n            this._handlerCount--\r\n        }\r\n    },\r\n    teardown(element) {\r\n        if (this._handlerCount && !this.noBubble) {\r\n            return\r\n        }\r\n        element = this.noBubble ? element : domAdapter.getDocument();\r\n        if (\".dxPointerEvents\" !== this._originalEvents) {\r\n            eventsEngine.off(element, this._originalEvents, this._getSelector())\r\n        }\r\n    },\r\n    dispose(element) {\r\n        element = this.noBubble ? element : domAdapter.getDocument();\r\n        eventsEngine.off(element, this._originalEvents)\r\n    }\r\n});\r\nexport default BaseStrategy;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}