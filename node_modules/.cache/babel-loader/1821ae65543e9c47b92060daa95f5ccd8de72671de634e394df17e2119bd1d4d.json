{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/ui/date_box/m_date_box.strategy.date_view.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport messageLocalization from \"../../../common/core/localization/message\";\nimport $ from \"../../../core/renderer\";\nimport { inputType } from \"../../../core/utils/support\";\nimport { getWindow } from \"../../../core/utils/window\";\nimport DateBoxStrategy from \"./m_date_box.strategy\";\nimport dateUtils from \"./m_date_utils\";\nimport DateView from \"./m_date_view\";\nconst window = getWindow();\nclass DateViewStrategy extends DateBoxStrategy {\n  ctor(dateBox) {\n    super.ctor(dateBox);\n    this.NAME = \"DateView\";\n  }\n  getDefaultOptions() {\n    return _extends({}, super.getDefaultOptions(), {\n      openOnFieldClick: true,\n      applyButtonText: messageLocalization.format(\"OK\"),\n      \"dropDownOptions.showTitle\": true\n    });\n  }\n  getDisplayFormat(displayFormat) {\n    return displayFormat || dateUtils.FORMATS_MAP[this.dateBox.option(\"type\")];\n  }\n  popupConfig(config) {\n    return {\n      toolbarItems: this.dateBox._popupToolbarItemsConfig(),\n      onInitialized: config.onInitialized,\n      defaultOptionsRules: [{\n        device: {\n          platform: \"android\"\n        },\n        options: {\n          width: 333,\n          height: 331\n        }\n      }, {\n        device(device) {\n          const {\n            platform: platform\n          } = device;\n          return \"generic\" === platform || \"ios\" === platform;\n        },\n        options: {\n          width: \"auto\",\n          height: \"auto\"\n        }\n      }, {\n        device(device) {\n          const {\n            platform: platform\n          } = device;\n          const {\n            phone: phone\n          } = device;\n          return \"generic\" === platform && phone;\n        },\n        options: {\n          width: 333,\n          maxWidth: \"100%\",\n          maxHeight: \"100%\",\n          height: \"auto\",\n          position: {\n            collision: \"flipfit flip\"\n          }\n        }\n      }, {\n        device: {\n          platform: \"ios\",\n          phone: true\n        },\n        options: {\n          width: \"100%\",\n          position: {\n            my: \"bottom\",\n            at: \"bottom\",\n            of: window\n          }\n        }\n      }]\n    };\n  }\n  _renderWidget() {\n    if (inputType(this.dateBox.option(\"mode\")) && this.dateBox._isNativeType() || this.dateBox.option(\"readOnly\")) {\n      if (this._widget) {\n        this._widget.$element().remove();\n        this._widget = null;\n      }\n      return;\n    }\n    const popup = this._getPopup();\n    if (this._widget) {\n      this._widget.option(this._getWidgetOptions());\n    } else {\n      const element = $(\"<div>\").appendTo(popup.$content());\n      this._widget = this._createWidget(element);\n    }\n    this._widget.$element().appendTo(this._getWidgetContainer());\n  }\n  _getWidgetName() {\n    return DateView;\n  }\n  renderOpenedState() {\n    super.renderOpenedState();\n    if (this._widget) {\n      this._widget.option(\"value\", this._widget._getCurrentDate());\n    }\n  }\n  _getWidgetOptions() {\n    return {\n      value: this.dateBoxValue() || new Date(),\n      type: this.dateBox.option(\"type\"),\n      minDate: this.dateBox.dateOption(\"min\") || new Date(1900, 0, 1),\n      maxDate: this.dateBox.dateOption(\"max\") || new Date(Date.now() + 50 * dateUtils.ONE_YEAR),\n      onDisposing: function () {\n        this._widget = null;\n      }.bind(this)\n    };\n  }\n}\nexport default DateViewStrategy;","map":{"version":3,"names":["_extends","messageLocalization","$","inputType","getWindow","DateBoxStrategy","dateUtils","DateView","window","DateViewStrategy","ctor","dateBox","NAME","getDefaultOptions","openOnFieldClick","applyButtonText","format","getDisplayFormat","displayFormat","FORMATS_MAP","option","popupConfig","config","toolbarItems","_popupToolbarItemsConfig","onInitialized","defaultOptionsRules","device","platform","options","width","height","phone","maxWidth","maxHeight","position","collision","my","at","of","_renderWidget","_isNativeType","_widget","$element","remove","popup","_getPopup","_getWidgetOptions","element","appendTo","$content","_createWidget","_getWidgetContainer","_getWidgetName","renderOpenedState","_getCurrentDate","value","dateBoxValue","Date","type","minDate","dateOption","maxDate","now","ONE_YEAR","onDisposing","bind"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/ui/date_box/m_date_box.strategy.date_view.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/ui/date_box/m_date_box.strategy.date_view.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport messageLocalization from \"../../../common/core/localization/message\";\r\nimport $ from \"../../../core/renderer\";\r\nimport {\r\n    inputType\r\n} from \"../../../core/utils/support\";\r\nimport {\r\n    getWindow\r\n} from \"../../../core/utils/window\";\r\nimport DateBoxStrategy from \"./m_date_box.strategy\";\r\nimport dateUtils from \"./m_date_utils\";\r\nimport DateView from \"./m_date_view\";\r\nconst window = getWindow();\r\nclass DateViewStrategy extends DateBoxStrategy {\r\n    ctor(dateBox) {\r\n        super.ctor(dateBox);\r\n        this.NAME = \"DateView\"\r\n    }\r\n    getDefaultOptions() {\r\n        return _extends({}, super.getDefaultOptions(), {\r\n            openOnFieldClick: true,\r\n            applyButtonText: messageLocalization.format(\"OK\"),\r\n            \"dropDownOptions.showTitle\": true\r\n        })\r\n    }\r\n    getDisplayFormat(displayFormat) {\r\n        return displayFormat || dateUtils.FORMATS_MAP[this.dateBox.option(\"type\")]\r\n    }\r\n    popupConfig(config) {\r\n        return {\r\n            toolbarItems: this.dateBox._popupToolbarItemsConfig(),\r\n            onInitialized: config.onInitialized,\r\n            defaultOptionsRules: [{\r\n                device: {\r\n                    platform: \"android\"\r\n                },\r\n                options: {\r\n                    width: 333,\r\n                    height: 331\r\n                }\r\n            }, {\r\n                device(device) {\r\n                    const {\r\n                        platform: platform\r\n                    } = device;\r\n                    return \"generic\" === platform || \"ios\" === platform\r\n                },\r\n                options: {\r\n                    width: \"auto\",\r\n                    height: \"auto\"\r\n                }\r\n            }, {\r\n                device(device) {\r\n                    const {\r\n                        platform: platform\r\n                    } = device;\r\n                    const {\r\n                        phone: phone\r\n                    } = device;\r\n                    return \"generic\" === platform && phone\r\n                },\r\n                options: {\r\n                    width: 333,\r\n                    maxWidth: \"100%\",\r\n                    maxHeight: \"100%\",\r\n                    height: \"auto\",\r\n                    position: {\r\n                        collision: \"flipfit flip\"\r\n                    }\r\n                }\r\n            }, {\r\n                device: {\r\n                    platform: \"ios\",\r\n                    phone: true\r\n                },\r\n                options: {\r\n                    width: \"100%\",\r\n                    position: {\r\n                        my: \"bottom\",\r\n                        at: \"bottom\",\r\n                        of: window\r\n                    }\r\n                }\r\n            }]\r\n        }\r\n    }\r\n    _renderWidget() {\r\n        if (inputType(this.dateBox.option(\"mode\")) && this.dateBox._isNativeType() || this.dateBox.option(\"readOnly\")) {\r\n            if (this._widget) {\r\n                this._widget.$element().remove();\r\n                this._widget = null\r\n            }\r\n            return\r\n        }\r\n        const popup = this._getPopup();\r\n        if (this._widget) {\r\n            this._widget.option(this._getWidgetOptions())\r\n        } else {\r\n            const element = $(\"<div>\").appendTo(popup.$content());\r\n            this._widget = this._createWidget(element)\r\n        }\r\n        this._widget.$element().appendTo(this._getWidgetContainer())\r\n    }\r\n    _getWidgetName() {\r\n        return DateView\r\n    }\r\n    renderOpenedState() {\r\n        super.renderOpenedState();\r\n        if (this._widget) {\r\n            this._widget.option(\"value\", this._widget._getCurrentDate())\r\n        }\r\n    }\r\n    _getWidgetOptions() {\r\n        return {\r\n            value: this.dateBoxValue() || new Date,\r\n            type: this.dateBox.option(\"type\"),\r\n            minDate: this.dateBox.dateOption(\"min\") || new Date(1900, 0, 1),\r\n            maxDate: this.dateBox.dateOption(\"max\") || new Date(Date.now() + 50 * dateUtils.ONE_YEAR),\r\n            onDisposing: function() {\r\n                this._widget = null\r\n            }.bind(this)\r\n        }\r\n    }\r\n}\r\nexport default DateViewStrategy;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,QAAQ,MAAM,oCAAoC;AACzD,OAAOC,mBAAmB,MAAM,2CAA2C;AAC3E,OAAOC,CAAC,MAAM,wBAAwB;AACtC,SACIC,SAAS,QACN,6BAA6B;AACpC,SACIC,SAAS,QACN,4BAA4B;AACnC,OAAOC,eAAe,MAAM,uBAAuB;AACnD,OAAOC,SAAS,MAAM,gBAAgB;AACtC,OAAOC,QAAQ,MAAM,eAAe;AACpC,MAAMC,MAAM,GAAGJ,SAAS,CAAC,CAAC;AAC1B,MAAMK,gBAAgB,SAASJ,eAAe,CAAC;EAC3CK,IAAIA,CAACC,OAAO,EAAE;IACV,KAAK,CAACD,IAAI,CAACC,OAAO,CAAC;IACnB,IAAI,CAACC,IAAI,GAAG,UAAU;EAC1B;EACAC,iBAAiBA,CAAA,EAAG;IAChB,OAAOb,QAAQ,CAAC,CAAC,CAAC,EAAE,KAAK,CAACa,iBAAiB,CAAC,CAAC,EAAE;MAC3CC,gBAAgB,EAAE,IAAI;MACtBC,eAAe,EAAEd,mBAAmB,CAACe,MAAM,CAAC,IAAI,CAAC;MACjD,2BAA2B,EAAE;IACjC,CAAC,CAAC;EACN;EACAC,gBAAgBA,CAACC,aAAa,EAAE;IAC5B,OAAOA,aAAa,IAAIZ,SAAS,CAACa,WAAW,CAAC,IAAI,CAACR,OAAO,CAACS,MAAM,CAAC,MAAM,CAAC,CAAC;EAC9E;EACAC,WAAWA,CAACC,MAAM,EAAE;IAChB,OAAO;MACHC,YAAY,EAAE,IAAI,CAACZ,OAAO,CAACa,wBAAwB,CAAC,CAAC;MACrDC,aAAa,EAAEH,MAAM,CAACG,aAAa;MACnCC,mBAAmB,EAAE,CAAC;QAClBC,MAAM,EAAE;UACJC,QAAQ,EAAE;QACd,CAAC;QACDC,OAAO,EAAE;UACLC,KAAK,EAAE,GAAG;UACVC,MAAM,EAAE;QACZ;MACJ,CAAC,EAAE;QACCJ,MAAMA,CAACA,MAAM,EAAE;UACX,MAAM;YACFC,QAAQ,EAAEA;UACd,CAAC,GAAGD,MAAM;UACV,OAAO,SAAS,KAAKC,QAAQ,IAAI,KAAK,KAAKA,QAAQ;QACvD,CAAC;QACDC,OAAO,EAAE;UACLC,KAAK,EAAE,MAAM;UACbC,MAAM,EAAE;QACZ;MACJ,CAAC,EAAE;QACCJ,MAAMA,CAACA,MAAM,EAAE;UACX,MAAM;YACFC,QAAQ,EAAEA;UACd,CAAC,GAAGD,MAAM;UACV,MAAM;YACFK,KAAK,EAAEA;UACX,CAAC,GAAGL,MAAM;UACV,OAAO,SAAS,KAAKC,QAAQ,IAAII,KAAK;QAC1C,CAAC;QACDH,OAAO,EAAE;UACLC,KAAK,EAAE,GAAG;UACVG,QAAQ,EAAE,MAAM;UAChBC,SAAS,EAAE,MAAM;UACjBH,MAAM,EAAE,MAAM;UACdI,QAAQ,EAAE;YACNC,SAAS,EAAE;UACf;QACJ;MACJ,CAAC,EAAE;QACCT,MAAM,EAAE;UACJC,QAAQ,EAAE,KAAK;UACfI,KAAK,EAAE;QACX,CAAC;QACDH,OAAO,EAAE;UACLC,KAAK,EAAE,MAAM;UACbK,QAAQ,EAAE;YACNE,EAAE,EAAE,QAAQ;YACZC,EAAE,EAAE,QAAQ;YACZC,EAAE,EAAE/B;UACR;QACJ;MACJ,CAAC;IACL,CAAC;EACL;EACAgC,aAAaA,CAAA,EAAG;IACZ,IAAIrC,SAAS,CAAC,IAAI,CAACQ,OAAO,CAACS,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,IAAI,CAACT,OAAO,CAAC8B,aAAa,CAAC,CAAC,IAAI,IAAI,CAAC9B,OAAO,CAACS,MAAM,CAAC,UAAU,CAAC,EAAE;MAC3G,IAAI,IAAI,CAACsB,OAAO,EAAE;QACd,IAAI,CAACA,OAAO,CAACC,QAAQ,CAAC,CAAC,CAACC,MAAM,CAAC,CAAC;QAChC,IAAI,CAACF,OAAO,GAAG,IAAI;MACvB;MACA;IACJ;IACA,MAAMG,KAAK,GAAG,IAAI,CAACC,SAAS,CAAC,CAAC;IAC9B,IAAI,IAAI,CAACJ,OAAO,EAAE;MACd,IAAI,CAACA,OAAO,CAACtB,MAAM,CAAC,IAAI,CAAC2B,iBAAiB,CAAC,CAAC,CAAC;IACjD,CAAC,MAAM;MACH,MAAMC,OAAO,GAAG9C,CAAC,CAAC,OAAO,CAAC,CAAC+C,QAAQ,CAACJ,KAAK,CAACK,QAAQ,CAAC,CAAC,CAAC;MACrD,IAAI,CAACR,OAAO,GAAG,IAAI,CAACS,aAAa,CAACH,OAAO,CAAC;IAC9C;IACA,IAAI,CAACN,OAAO,CAACC,QAAQ,CAAC,CAAC,CAACM,QAAQ,CAAC,IAAI,CAACG,mBAAmB,CAAC,CAAC,CAAC;EAChE;EACAC,cAAcA,CAAA,EAAG;IACb,OAAO9C,QAAQ;EACnB;EACA+C,iBAAiBA,CAAA,EAAG;IAChB,KAAK,CAACA,iBAAiB,CAAC,CAAC;IACzB,IAAI,IAAI,CAACZ,OAAO,EAAE;MACd,IAAI,CAACA,OAAO,CAACtB,MAAM,CAAC,OAAO,EAAE,IAAI,CAACsB,OAAO,CAACa,eAAe,CAAC,CAAC,CAAC;IAChE;EACJ;EACAR,iBAAiBA,CAAA,EAAG;IAChB,OAAO;MACHS,KAAK,EAAE,IAAI,CAACC,YAAY,CAAC,CAAC,IAAI,IAAIC,IAAI,CAAD,CAAC;MACtCC,IAAI,EAAE,IAAI,CAAChD,OAAO,CAACS,MAAM,CAAC,MAAM,CAAC;MACjCwC,OAAO,EAAE,IAAI,CAACjD,OAAO,CAACkD,UAAU,CAAC,KAAK,CAAC,IAAI,IAAIH,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;MAC/DI,OAAO,EAAE,IAAI,CAACnD,OAAO,CAACkD,UAAU,CAAC,KAAK,CAAC,IAAI,IAAIH,IAAI,CAACA,IAAI,CAACK,GAAG,CAAC,CAAC,GAAG,EAAE,GAAGzD,SAAS,CAAC0D,QAAQ,CAAC;MACzFC,WAAW,EAAE,YAAW;QACpB,IAAI,CAACvB,OAAO,GAAG,IAAI;MACvB,CAAC,CAACwB,IAAI,CAAC,IAAI;IACf,CAAC;EACL;AACJ;AACA,eAAezD,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}