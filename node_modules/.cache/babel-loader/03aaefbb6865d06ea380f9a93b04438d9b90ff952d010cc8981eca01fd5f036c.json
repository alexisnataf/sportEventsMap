{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/ui/collection/item.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport Class from \"../../../core/class\";\nimport $ from \"../../../core/renderer\";\nimport { each } from \"../../../core/utils/iterator\";\nimport { attachInstanceToElement, getInstanceByElement } from \"../../../core/utils/public_component\";\nconst INVISIBLE_STATE_CLASS = \"dx-state-invisible\";\nconst DISABLED_STATE_CLASS = \"dx-state-disabled\";\nconst ITEM_CONTENT_PLACEHOLDER_CLASS = \"dx-item-content-placeholder\";\nconst forcibleWatcher = (watchMethod, fn, callback) => {\n  const filteredCallback = (() => {\n    let oldValue;\n    return value => {\n      if (oldValue !== value) {\n        callback(value, oldValue);\n        oldValue = value;\n      }\n    };\n  })();\n  return {\n    dispose: watchMethod(fn, filteredCallback),\n    force() {\n      filteredCallback(fn());\n    }\n  };\n};\nclass CollectionItem extends Class.inherit({}) {\n  ctor($element, options, rawData) {\n    this._$element = $element;\n    this._options = options;\n    this._rawData = rawData;\n    attachInstanceToElement($element, this, this._dispose);\n    this._render();\n  }\n  _render() {\n    const $placeholder = $(\"<div>\").addClass(\"dx-item-content-placeholder\");\n    this._$element.append($placeholder);\n    this._watchers = [];\n    this._renderWatchers();\n  }\n  _renderWatchers() {\n    this._startWatcher(\"disabled\", this._renderDisabled.bind(this));\n    this._startWatcher(\"visible\", this._renderVisible.bind(this));\n  }\n  _startWatcher(field, render) {\n    const rawData = this._rawData;\n    const exprGetter = this._options.fieldGetter(field);\n    const watcher = forcibleWatcher(this._options.watchMethod(), () => exprGetter(rawData), (value, oldValue) => {\n      this._dirty = true;\n      render(value, oldValue);\n    });\n    this._watchers.push(watcher);\n  }\n  setDataField() {\n    this._dirty = false;\n    each(this._watchers, (_, watcher) => {\n      watcher.force();\n    });\n    return this._dirty;\n  }\n  _renderDisabled(value, oldValue) {\n    this._$element.toggleClass(\"dx-state-disabled\", !!value);\n    this._$element.attr(\"aria-disabled\", !!value);\n    this._updateOwnerFocus(value);\n  }\n  _updateOwnerFocus(isDisabled) {\n    const ownerComponent = this._options.owner;\n    if (ownerComponent && isDisabled) {\n      ownerComponent._resetItemFocus(this._$element);\n    }\n  }\n  _renderVisible(value, oldValue) {\n    this._$element.toggleClass(\"dx-state-invisible\", void 0 !== value && !value);\n  }\n  _dispose() {\n    each(this._watchers, (_, watcher) => {\n      watcher.dispose();\n    });\n  }\n  static getInstance($element) {\n    return getInstanceByElement($element, this);\n  }\n}\nexport default CollectionItem;","map":{"version":3,"names":["Class","$","each","attachInstanceToElement","getInstanceByElement","INVISIBLE_STATE_CLASS","DISABLED_STATE_CLASS","ITEM_CONTENT_PLACEHOLDER_CLASS","forcibleWatcher","watchMethod","fn","callback","filteredCallback","oldValue","value","dispose","force","CollectionItem","inherit","ctor","$element","options","rawData","_$element","_options","_rawData","_dispose","_render","$placeholder","addClass","append","_watchers","_renderWatchers","_startWatcher","_renderDisabled","bind","_renderVisible","field","render","exprGetter","fieldGetter","watcher","_dirty","push","setDataField","_","toggleClass","attr","_updateOwnerFocus","isDisabled","ownerComponent","owner","_resetItemFocus","getInstance"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/ui/collection/item.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/ui/collection/item.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Class from \"../../../core/class\";\r\nimport $ from \"../../../core/renderer\";\r\nimport {\r\n    each\r\n} from \"../../../core/utils/iterator\";\r\nimport {\r\n    attachInstanceToElement,\r\n    getInstanceByElement\r\n} from \"../../../core/utils/public_component\";\r\nconst INVISIBLE_STATE_CLASS = \"dx-state-invisible\";\r\nconst DISABLED_STATE_CLASS = \"dx-state-disabled\";\r\nconst ITEM_CONTENT_PLACEHOLDER_CLASS = \"dx-item-content-placeholder\";\r\nconst forcibleWatcher = (watchMethod, fn, callback) => {\r\n    const filteredCallback = (() => {\r\n        let oldValue;\r\n        return value => {\r\n            if (oldValue !== value) {\r\n                callback(value, oldValue);\r\n                oldValue = value\r\n            }\r\n        }\r\n    })();\r\n    return {\r\n        dispose: watchMethod(fn, filteredCallback),\r\n        force() {\r\n            filteredCallback(fn())\r\n        }\r\n    }\r\n};\r\nclass CollectionItem extends(Class.inherit({})) {\r\n    ctor($element, options, rawData) {\r\n        this._$element = $element;\r\n        this._options = options;\r\n        this._rawData = rawData;\r\n        attachInstanceToElement($element, this, this._dispose);\r\n        this._render()\r\n    }\r\n    _render() {\r\n        const $placeholder = $(\"<div>\").addClass(\"dx-item-content-placeholder\");\r\n        this._$element.append($placeholder);\r\n        this._watchers = [];\r\n        this._renderWatchers()\r\n    }\r\n    _renderWatchers() {\r\n        this._startWatcher(\"disabled\", this._renderDisabled.bind(this));\r\n        this._startWatcher(\"visible\", this._renderVisible.bind(this))\r\n    }\r\n    _startWatcher(field, render) {\r\n        const rawData = this._rawData;\r\n        const exprGetter = this._options.fieldGetter(field);\r\n        const watcher = forcibleWatcher(this._options.watchMethod(), (() => exprGetter(rawData)), ((value, oldValue) => {\r\n            this._dirty = true;\r\n            render(value, oldValue)\r\n        }));\r\n        this._watchers.push(watcher)\r\n    }\r\n    setDataField() {\r\n        this._dirty = false;\r\n        each(this._watchers, ((_, watcher) => {\r\n            watcher.force()\r\n        }));\r\n        return this._dirty\r\n    }\r\n    _renderDisabled(value, oldValue) {\r\n        this._$element.toggleClass(\"dx-state-disabled\", !!value);\r\n        this._$element.attr(\"aria-disabled\", !!value);\r\n        this._updateOwnerFocus(value)\r\n    }\r\n    _updateOwnerFocus(isDisabled) {\r\n        const ownerComponent = this._options.owner;\r\n        if (ownerComponent && isDisabled) {\r\n            ownerComponent._resetItemFocus(this._$element)\r\n        }\r\n    }\r\n    _renderVisible(value, oldValue) {\r\n        this._$element.toggleClass(\"dx-state-invisible\", void 0 !== value && !value)\r\n    }\r\n    _dispose() {\r\n        each(this._watchers, ((_, watcher) => {\r\n            watcher.dispose()\r\n        }))\r\n    }\r\n    static getInstance($element) {\r\n        return getInstanceByElement($element, this)\r\n    }\r\n}\r\nexport default CollectionItem;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}