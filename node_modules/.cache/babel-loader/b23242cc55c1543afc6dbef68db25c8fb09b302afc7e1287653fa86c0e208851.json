{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/core/r1/dom_component_wrapper.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"componentProps\", \"componentType\", \"templateNames\"];\nimport { createVNode } from \"inferno\";\nimport { hasTemplate, InfernoComponent, InfernoEffect, renderTemplate } from \"@devextreme/runtime/inferno\";\nimport { getUpdatedOptions } from \"../../core/r1/utils/get_updated_options\";\nimport { createRef } from \"inferno\";\nimport { extend } from \"../../../core/utils/extend\";\nimport { ConfigContext } from \"./config_context\";\nconst normalizeProps = props => Object.keys(props).reduce((accumulator, key) => {\n  if (void 0 !== props[key]) {\n    accumulator[key] = props[key];\n  }\n  return accumulator;\n}, {});\nexport class DomComponentWrapper extends InfernoComponent {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.refs = null;\n    this.widgetRef = createRef();\n    this.instance = null;\n    this.prevProps = null;\n    this.getInstance = this.getInstance.bind(this);\n    this.setupWidget = this.setupWidget.bind(this);\n    this.updateWidget = this.updateWidget.bind(this);\n  }\n  getConfig() {\n    const {\n      id: id\n    } = ConfigContext;\n    if (this.context[id]) {\n      return this.context[id];\n    }\n    return ConfigContext.defaultValue;\n  }\n  render() {\n    return normalizeProps(createVNode(1, \"div\", this.props.componentProps.className, null, 1, _extends({}, this.getRestAttributes()), null, this.widgetRef));\n  }\n  componentWillUpdate(nextProps, nextState, context) {\n    super.componentWillUpdate(nextProps, nextState, context);\n  }\n  createEffects() {\n    return [new InfernoEffect(this.setupWidget, []), new InfernoEffect(this.updateWidget, [this.props.componentProps, this.getConfig(), this.props.templateNames])];\n  }\n  updateEffects() {\n    var _this$_effects$;\n    const dependency = [this.props.componentProps, this.getConfig(), this.props.templateNames];\n    null === (_this$_effects$ = this._effects[1]) || void 0 === _this$_effects$ || _this$_effects$.update(dependency);\n  }\n  setupWidget() {\n    const current = this.widgetRef.current;\n    const componentInstance = new this.props.componentType(current, this.getProperties());\n    this.instance = componentInstance;\n    return () => {\n      componentInstance.dispose();\n      this.instance = null;\n    };\n  }\n  updateWidget() {\n    if (!this.instance) {\n      return;\n    }\n    const updatedOptions = getUpdatedOptions(this.prevProps ?? {}, this.getProperties());\n    if (updatedOptions.length) {\n      this.instance.beginUpdate();\n      updatedOptions.forEach(_ref2 => {\n        var _this$instance;\n        const {\n          path: path,\n          value: value\n        } = _ref2;\n        null === (_this$instance = this.instance) || void 0 === _this$instance || _this$instance.option(path, value);\n      });\n      this.instance.endUpdate();\n    }\n    this.prevProps = this.getProperties();\n  }\n  getRestAttributes() {\n    const _this$props = this.props,\n      restAttr = _objectWithoutPropertiesLoose(_this$props, _excluded);\n    return restAttr;\n  }\n  getProperties() {\n    var _this$getConfig;\n    const normalizedProps = normalizeProps(this.props.componentProps);\n    const {\n      valueChange: valueChange\n    } = normalizedProps;\n    const properties = extend({\n      rtlEnabled: null === (_this$getConfig = this.getConfig()) || void 0 === _this$getConfig ? void 0 : _this$getConfig.rtlEnabled,\n      isRenovated: true\n    }, normalizedProps);\n    if (valueChange) {\n      properties.onValueChanged = _ref3 => {\n        const {\n          value: value\n        } = _ref3;\n        return valueChange(value);\n      };\n    }\n    const templates = this.props.templateNames;\n    templates.forEach(name => {\n      if (hasTemplate(name, properties, this)) {\n        properties[name] = (item, index, container) => {\n          renderTemplate(this.props.componentProps[name], {\n            item: item,\n            index: index,\n            container: container\n          }, this);\n        };\n      }\n    });\n    return properties;\n  }\n  getInstance() {\n    return this.instance;\n  }\n}","map":{"version":3,"names":["_objectWithoutPropertiesLoose","_extends","_excluded","createVNode","hasTemplate","InfernoComponent","InfernoEffect","renderTemplate","getUpdatedOptions","createRef","extend","ConfigContext","normalizeProps","props","Object","keys","reduce","accumulator","key","DomComponentWrapper","constructor","state","refs","widgetRef","instance","prevProps","getInstance","bind","setupWidget","updateWidget","getConfig","id","context","defaultValue","render","componentProps","className","getRestAttributes","componentWillUpdate","nextProps","nextState","createEffects","templateNames","updateEffects","_this$_effects$","dependency","_effects","update","current","componentInstance","componentType","getProperties","dispose","updatedOptions","length","beginUpdate","forEach","_ref2","_this$instance","path","value","option","endUpdate","_this$props","restAttr","_this$getConfig","normalizedProps","valueChange","properties","rtlEnabled","isRenovated","onValueChanged","_ref3","templates","name","item","index","container"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/core/r1/dom_component_wrapper.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/core/r1/dom_component_wrapper.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nconst _excluded = [\"componentProps\", \"componentType\", \"templateNames\"];\r\nimport {\r\n    createVNode\r\n} from \"inferno\";\r\nimport {\r\n    hasTemplate,\r\n    InfernoComponent,\r\n    InfernoEffect,\r\n    renderTemplate\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    getUpdatedOptions\r\n} from \"../../core/r1/utils/get_updated_options\";\r\nimport {\r\n    createRef\r\n} from \"inferno\";\r\nimport {\r\n    extend\r\n} from \"../../../core/utils/extend\";\r\nimport {\r\n    ConfigContext\r\n} from \"./config_context\";\r\nconst normalizeProps = props => Object.keys(props).reduce(((accumulator, key) => {\r\n    if (void 0 !== props[key]) {\r\n        accumulator[key] = props[key]\r\n    }\r\n    return accumulator\r\n}), {});\r\nexport class DomComponentWrapper extends InfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n        this.refs = null;\r\n        this.widgetRef = createRef();\r\n        this.instance = null;\r\n        this.prevProps = null;\r\n        this.getInstance = this.getInstance.bind(this);\r\n        this.setupWidget = this.setupWidget.bind(this);\r\n        this.updateWidget = this.updateWidget.bind(this)\r\n    }\r\n    getConfig() {\r\n        const {\r\n            id: id\r\n        } = ConfigContext;\r\n        if (this.context[id]) {\r\n            return this.context[id]\r\n        }\r\n        return ConfigContext.defaultValue\r\n    }\r\n    render() {\r\n        return normalizeProps(createVNode(1, \"div\", this.props.componentProps.className, null, 1, _extends({}, this.getRestAttributes()), null, this.widgetRef))\r\n    }\r\n    componentWillUpdate(nextProps, nextState, context) {\r\n        super.componentWillUpdate(nextProps, nextState, context)\r\n    }\r\n    createEffects() {\r\n        return [new InfernoEffect(this.setupWidget, []), new InfernoEffect(this.updateWidget, [this.props.componentProps, this.getConfig(), this.props.templateNames])]\r\n    }\r\n    updateEffects() {\r\n        var _this$_effects$;\r\n        const dependency = [this.props.componentProps, this.getConfig(), this.props.templateNames];\r\n        null === (_this$_effects$ = this._effects[1]) || void 0 === _this$_effects$ || _this$_effects$.update(dependency)\r\n    }\r\n    setupWidget() {\r\n        const current = this.widgetRef.current;\r\n        const componentInstance = new this.props.componentType(current, this.getProperties());\r\n        this.instance = componentInstance;\r\n        return () => {\r\n            componentInstance.dispose();\r\n            this.instance = null\r\n        }\r\n    }\r\n    updateWidget() {\r\n        if (!this.instance) {\r\n            return\r\n        }\r\n        const updatedOptions = getUpdatedOptions(this.prevProps ?? {}, this.getProperties());\r\n        if (updatedOptions.length) {\r\n            this.instance.beginUpdate();\r\n            updatedOptions.forEach((_ref2 => {\r\n                var _this$instance;\r\n                const {\r\n                    path: path,\r\n                    value: value\r\n                } = _ref2;\r\n                null === (_this$instance = this.instance) || void 0 === _this$instance || _this$instance.option(path, value)\r\n            }));\r\n            this.instance.endUpdate()\r\n        }\r\n        this.prevProps = this.getProperties()\r\n    }\r\n    getRestAttributes() {\r\n        const _this$props = this.props,\r\n            restAttr = _objectWithoutPropertiesLoose(_this$props, _excluded);\r\n        return restAttr\r\n    }\r\n    getProperties() {\r\n        var _this$getConfig;\r\n        const normalizedProps = normalizeProps(this.props.componentProps);\r\n        const {\r\n            valueChange: valueChange\r\n        } = normalizedProps;\r\n        const properties = extend({\r\n            rtlEnabled: null === (_this$getConfig = this.getConfig()) || void 0 === _this$getConfig ? void 0 : _this$getConfig.rtlEnabled,\r\n            isRenovated: true\r\n        }, normalizedProps);\r\n        if (valueChange) {\r\n            properties.onValueChanged = _ref3 => {\r\n                const {\r\n                    value: value\r\n                } = _ref3;\r\n                return valueChange(value)\r\n            }\r\n        }\r\n        const templates = this.props.templateNames;\r\n        templates.forEach((name => {\r\n            if (hasTemplate(name, properties, this)) {\r\n                properties[name] = (item, index, container) => {\r\n                    renderTemplate(this.props.componentProps[name], {\r\n                        item: item,\r\n                        index: index,\r\n                        container: container\r\n                    }, this)\r\n                }\r\n            }\r\n        }));\r\n        return properties\r\n    }\r\n    getInstance() {\r\n        return this.instance\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}