{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/ui/button/wrapper.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { getImageSourceType } from \"../../../core/utils/icon\";\nimport ValidationEngine from \"../../../ui/validation_engine\";\nimport { ComponentWrapper } from \"../../core/r1/component_wrapper\";\nexport default class ButtonWrapper extends ComponentWrapper {\n  get _validationGroupConfig() {\n    return ValidationEngine.getGroupConfig(this._findGroup());\n  }\n  getDefaultTemplateNames() {\n    return [\"content\"];\n  }\n  getSupportedKeyNames() {\n    return [\"space\", \"enter\"];\n  }\n  getProps() {\n    const props = super.getProps();\n    props.onClick = _ref => {\n      let {\n        event: event\n      } = _ref;\n      this._clickAction({\n        event: event,\n        validationGroup: this._validationGroupConfig\n      });\n    };\n    const iconType = getImageSourceType(props.icon);\n    if (\"svg\" === iconType) {\n      props.iconTemplate = this._createTemplateComponent(() => props.icon);\n    }\n    return props;\n  }\n  get _templatesInfo() {\n    return {\n      template: \"content\"\n    };\n  }\n  _toggleActiveState(_, value) {\n    const button = this.viewRef;\n    value ? button.activate() : button.deactivate();\n  }\n  _getSubmitAction() {\n    let needValidate = true;\n    let validationStatus = \"valid\";\n    return this._createAction(_ref2 => {\n      let {\n        event: event,\n        submitInput: submitInput\n      } = _ref2;\n      if (needValidate) {\n        const validationGroup = this._validationGroupConfig;\n        if (void 0 !== validationGroup && \"\" !== validationGroup) {\n          const validationResult = validationGroup.validate();\n          validationStatus = validationResult.status;\n          if (\"pending\" === validationResult.status) {\n            needValidate = false;\n            this.option(\"disabled\", true);\n            validationResult.complete.then(_ref3 => {\n              let {\n                status: status\n              } = _ref3;\n              this.option(\"disabled\", false);\n              validationStatus = status;\n              \"valid\" === validationStatus && submitInput.click();\n              needValidate = true;\n            });\n          }\n        }\n      }\n      \"valid\" !== validationStatus && event.preventDefault();\n      event.stopPropagation();\n    });\n  }\n  _initializeComponent() {\n    super._initializeComponent();\n    this._addAction(\"onSubmit\", this._getSubmitAction());\n    this._clickAction = this._createClickAction();\n  }\n  _initMarkup() {\n    super._initMarkup();\n    const $content = this.$element().find(\".dx-button-content\").first();\n    const $template = $content.children().filter(\".dx-template-wrapper\");\n    const $input = $content.children().filter(\".dx-button-submit-input\");\n    if ($template.length) {\n      $template.addClass(\"dx-button-content\");\n      $template.append($input);\n      $content.replaceWith($template);\n    }\n  }\n  _patchOptionValues(options) {\n    return super._patchOptionValues(_extends({}, options, {\n      templateData: options._templateData\n    }));\n  }\n  _findGroup() {\n    const $element = this.$element();\n    const validationGroup = this.option(\"validationGroup\");\n    return void 0 !== validationGroup && \"\" !== validationGroup ? validationGroup : ValidationEngine.findGroup($element, this._modelByElement($element));\n  }\n  _createClickAction() {\n    return this._createActionByOption(\"onClick\", {\n      excludeValidators: [\"readOnly\"]\n    });\n  }\n  _optionChanged(option) {\n    if (\"onClick\" === option.name) {\n      this._clickAction = this._createClickAction();\n    }\n    super._optionChanged(option);\n  }\n}","map":{"version":3,"names":["_extends","getImageSourceType","ValidationEngine","ComponentWrapper","ButtonWrapper","_validationGroupConfig","getGroupConfig","_findGroup","getDefaultTemplateNames","getSupportedKeyNames","getProps","props","onClick","_ref","event","_clickAction","validationGroup","iconType","icon","iconTemplate","_createTemplateComponent","_templatesInfo","template","_toggleActiveState","_","value","button","viewRef","activate","deactivate","_getSubmitAction","needValidate","validationStatus","_createAction","_ref2","submitInput","validationResult","validate","status","option","complete","then","_ref3","click","preventDefault","stopPropagation","_initializeComponent","_addAction","_createClickAction","_initMarkup","$content","$element","find","first","$template","children","filter","$input","length","addClass","append","replaceWith","_patchOptionValues","options","templateData","_templateData","findGroup","_modelByElement","_createActionByOption","excludeValidators","_optionChanged","name"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/ui/button/wrapper.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/ui/button/wrapper.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport {\r\n    getImageSourceType\r\n} from \"../../../core/utils/icon\";\r\nimport ValidationEngine from \"../../../ui/validation_engine\";\r\nimport {\r\n    ComponentWrapper\r\n} from \"../../core/r1/component_wrapper\";\r\nexport default class ButtonWrapper extends ComponentWrapper {\r\n    get _validationGroupConfig() {\r\n        return ValidationEngine.getGroupConfig(this._findGroup())\r\n    }\r\n    getDefaultTemplateNames() {\r\n        return [\"content\"]\r\n    }\r\n    getSupportedKeyNames() {\r\n        return [\"space\", \"enter\"]\r\n    }\r\n    getProps() {\r\n        const props = super.getProps();\r\n        props.onClick = _ref => {\r\n            let {\r\n                event: event\r\n            } = _ref;\r\n            this._clickAction({\r\n                event: event,\r\n                validationGroup: this._validationGroupConfig\r\n            })\r\n        };\r\n        const iconType = getImageSourceType(props.icon);\r\n        if (\"svg\" === iconType) {\r\n            props.iconTemplate = this._createTemplateComponent((() => props.icon))\r\n        }\r\n        return props\r\n    }\r\n    get _templatesInfo() {\r\n        return {\r\n            template: \"content\"\r\n        }\r\n    }\r\n    _toggleActiveState(_, value) {\r\n        const button = this.viewRef;\r\n        value ? button.activate() : button.deactivate()\r\n    }\r\n    _getSubmitAction() {\r\n        let needValidate = true;\r\n        let validationStatus = \"valid\";\r\n        return this._createAction((_ref2 => {\r\n            let {\r\n                event: event,\r\n                submitInput: submitInput\r\n            } = _ref2;\r\n            if (needValidate) {\r\n                const validationGroup = this._validationGroupConfig;\r\n                if (void 0 !== validationGroup && \"\" !== validationGroup) {\r\n                    const validationResult = validationGroup.validate();\r\n                    validationStatus = validationResult.status;\r\n                    if (\"pending\" === validationResult.status) {\r\n                        needValidate = false;\r\n                        this.option(\"disabled\", true);\r\n                        validationResult.complete.then((_ref3 => {\r\n                            let {\r\n                                status: status\r\n                            } = _ref3;\r\n                            this.option(\"disabled\", false);\r\n                            validationStatus = status;\r\n                            \"valid\" === validationStatus && submitInput.click();\r\n                            needValidate = true\r\n                        }))\r\n                    }\r\n                }\r\n            }\r\n            \"valid\" !== validationStatus && event.preventDefault();\r\n            event.stopPropagation()\r\n        }))\r\n    }\r\n    _initializeComponent() {\r\n        super._initializeComponent();\r\n        this._addAction(\"onSubmit\", this._getSubmitAction());\r\n        this._clickAction = this._createClickAction()\r\n    }\r\n    _initMarkup() {\r\n        super._initMarkup();\r\n        const $content = this.$element().find(\".dx-button-content\").first();\r\n        const $template = $content.children().filter(\".dx-template-wrapper\");\r\n        const $input = $content.children().filter(\".dx-button-submit-input\");\r\n        if ($template.length) {\r\n            $template.addClass(\"dx-button-content\");\r\n            $template.append($input);\r\n            $content.replaceWith($template)\r\n        }\r\n    }\r\n    _patchOptionValues(options) {\r\n        return super._patchOptionValues(_extends({}, options, {\r\n            templateData: options._templateData\r\n        }))\r\n    }\r\n    _findGroup() {\r\n        const $element = this.$element();\r\n        const validationGroup = this.option(\"validationGroup\");\r\n        return void 0 !== validationGroup && \"\" !== validationGroup ? validationGroup : ValidationEngine.findGroup($element, this._modelByElement($element))\r\n    }\r\n    _createClickAction() {\r\n        return this._createActionByOption(\"onClick\", {\r\n            excludeValidators: [\"readOnly\"]\r\n        })\r\n    }\r\n    _optionChanged(option) {\r\n        if (\"onClick\" === option.name) {\r\n            this._clickAction = this._createClickAction()\r\n        }\r\n        super._optionChanged(option)\r\n    }\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,QAAQ,MAAM,oCAAoC;AACzD,SACIC,kBAAkB,QACf,0BAA0B;AACjC,OAAOC,gBAAgB,MAAM,+BAA+B;AAC5D,SACIC,gBAAgB,QACb,iCAAiC;AACxC,eAAe,MAAMC,aAAa,SAASD,gBAAgB,CAAC;EACxD,IAAIE,sBAAsBA,CAAA,EAAG;IACzB,OAAOH,gBAAgB,CAACI,cAAc,CAAC,IAAI,CAACC,UAAU,CAAC,CAAC,CAAC;EAC7D;EACAC,uBAAuBA,CAAA,EAAG;IACtB,OAAO,CAAC,SAAS,CAAC;EACtB;EACAC,oBAAoBA,CAAA,EAAG;IACnB,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC;EAC7B;EACAC,QAAQA,CAAA,EAAG;IACP,MAAMC,KAAK,GAAG,KAAK,CAACD,QAAQ,CAAC,CAAC;IAC9BC,KAAK,CAACC,OAAO,GAAGC,IAAI,IAAI;MACpB,IAAI;QACAC,KAAK,EAAEA;MACX,CAAC,GAAGD,IAAI;MACR,IAAI,CAACE,YAAY,CAAC;QACdD,KAAK,EAAEA,KAAK;QACZE,eAAe,EAAE,IAAI,CAACX;MAC1B,CAAC,CAAC;IACN,CAAC;IACD,MAAMY,QAAQ,GAAGhB,kBAAkB,CAACU,KAAK,CAACO,IAAI,CAAC;IAC/C,IAAI,KAAK,KAAKD,QAAQ,EAAE;MACpBN,KAAK,CAACQ,YAAY,GAAG,IAAI,CAACC,wBAAwB,CAAE,MAAMT,KAAK,CAACO,IAAK,CAAC;IAC1E;IACA,OAAOP,KAAK;EAChB;EACA,IAAIU,cAAcA,CAAA,EAAG;IACjB,OAAO;MACHC,QAAQ,EAAE;IACd,CAAC;EACL;EACAC,kBAAkBA,CAACC,CAAC,EAAEC,KAAK,EAAE;IACzB,MAAMC,MAAM,GAAG,IAAI,CAACC,OAAO;IAC3BF,KAAK,GAAGC,MAAM,CAACE,QAAQ,CAAC,CAAC,GAAGF,MAAM,CAACG,UAAU,CAAC,CAAC;EACnD;EACAC,gBAAgBA,CAAA,EAAG;IACf,IAAIC,YAAY,GAAG,IAAI;IACvB,IAAIC,gBAAgB,GAAG,OAAO;IAC9B,OAAO,IAAI,CAACC,aAAa,CAAEC,KAAK,IAAI;MAChC,IAAI;QACApB,KAAK,EAAEA,KAAK;QACZqB,WAAW,EAAEA;MACjB,CAAC,GAAGD,KAAK;MACT,IAAIH,YAAY,EAAE;QACd,MAAMf,eAAe,GAAG,IAAI,CAACX,sBAAsB;QACnD,IAAI,KAAK,CAAC,KAAKW,eAAe,IAAI,EAAE,KAAKA,eAAe,EAAE;UACtD,MAAMoB,gBAAgB,GAAGpB,eAAe,CAACqB,QAAQ,CAAC,CAAC;UACnDL,gBAAgB,GAAGI,gBAAgB,CAACE,MAAM;UAC1C,IAAI,SAAS,KAAKF,gBAAgB,CAACE,MAAM,EAAE;YACvCP,YAAY,GAAG,KAAK;YACpB,IAAI,CAACQ,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC;YAC7BH,gBAAgB,CAACI,QAAQ,CAACC,IAAI,CAAEC,KAAK,IAAI;cACrC,IAAI;gBACAJ,MAAM,EAAEA;cACZ,CAAC,GAAGI,KAAK;cACT,IAAI,CAACH,MAAM,CAAC,UAAU,EAAE,KAAK,CAAC;cAC9BP,gBAAgB,GAAGM,MAAM;cACzB,OAAO,KAAKN,gBAAgB,IAAIG,WAAW,CAACQ,KAAK,CAAC,CAAC;cACnDZ,YAAY,GAAG,IAAI;YACvB,CAAE,CAAC;UACP;QACJ;MACJ;MACA,OAAO,KAAKC,gBAAgB,IAAIlB,KAAK,CAAC8B,cAAc,CAAC,CAAC;MACtD9B,KAAK,CAAC+B,eAAe,CAAC,CAAC;IAC3B,CAAE,CAAC;EACP;EACAC,oBAAoBA,CAAA,EAAG;IACnB,KAAK,CAACA,oBAAoB,CAAC,CAAC;IAC5B,IAAI,CAACC,UAAU,CAAC,UAAU,EAAE,IAAI,CAACjB,gBAAgB,CAAC,CAAC,CAAC;IACpD,IAAI,CAACf,YAAY,GAAG,IAAI,CAACiC,kBAAkB,CAAC,CAAC;EACjD;EACAC,WAAWA,CAAA,EAAG;IACV,KAAK,CAACA,WAAW,CAAC,CAAC;IACnB,MAAMC,QAAQ,GAAG,IAAI,CAACC,QAAQ,CAAC,CAAC,CAACC,IAAI,CAAC,oBAAoB,CAAC,CAACC,KAAK,CAAC,CAAC;IACnE,MAAMC,SAAS,GAAGJ,QAAQ,CAACK,QAAQ,CAAC,CAAC,CAACC,MAAM,CAAC,sBAAsB,CAAC;IACpE,MAAMC,MAAM,GAAGP,QAAQ,CAACK,QAAQ,CAAC,CAAC,CAACC,MAAM,CAAC,yBAAyB,CAAC;IACpE,IAAIF,SAAS,CAACI,MAAM,EAAE;MAClBJ,SAAS,CAACK,QAAQ,CAAC,mBAAmB,CAAC;MACvCL,SAAS,CAACM,MAAM,CAACH,MAAM,CAAC;MACxBP,QAAQ,CAACW,WAAW,CAACP,SAAS,CAAC;IACnC;EACJ;EACAQ,kBAAkBA,CAACC,OAAO,EAAE;IACxB,OAAO,KAAK,CAACD,kBAAkB,CAAC9D,QAAQ,CAAC,CAAC,CAAC,EAAE+D,OAAO,EAAE;MAClDC,YAAY,EAAED,OAAO,CAACE;IAC1B,CAAC,CAAC,CAAC;EACP;EACA1D,UAAUA,CAAA,EAAG;IACT,MAAM4C,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAAC,CAAC;IAChC,MAAMnC,eAAe,GAAG,IAAI,CAACuB,MAAM,CAAC,iBAAiB,CAAC;IACtD,OAAO,KAAK,CAAC,KAAKvB,eAAe,IAAI,EAAE,KAAKA,eAAe,GAAGA,eAAe,GAAGd,gBAAgB,CAACgE,SAAS,CAACf,QAAQ,EAAE,IAAI,CAACgB,eAAe,CAAChB,QAAQ,CAAC,CAAC;EACxJ;EACAH,kBAAkBA,CAAA,EAAG;IACjB,OAAO,IAAI,CAACoB,qBAAqB,CAAC,SAAS,EAAE;MACzCC,iBAAiB,EAAE,CAAC,UAAU;IAClC,CAAC,CAAC;EACN;EACAC,cAAcA,CAAC/B,MAAM,EAAE;IACnB,IAAI,SAAS,KAAKA,MAAM,CAACgC,IAAI,EAAE;MAC3B,IAAI,CAACxD,YAAY,GAAG,IAAI,CAACiC,kBAAkB,CAAC,CAAC;IACjD;IACA,KAAK,CAACsB,cAAc,CAAC/B,MAAM,CAAC;EAChC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}