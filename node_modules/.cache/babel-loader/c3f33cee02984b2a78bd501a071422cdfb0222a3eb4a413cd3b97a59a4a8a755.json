{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/ui/collection/m_collection_widget.edit.strategy.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport Class from \"../../../core/class\";\nimport domAdapter from \"../../../core/dom_adapter\";\nimport $ from \"../../../core/renderer\";\nimport { equalByValue } from \"../../../core/utils/common\";\nimport { isRenderer } from \"../../../core/utils/type\";\nclass EditStrategy extends Class.inherit({}) {\n  constructor(collectionWidget) {\n    super();\n    this._collectionWidget = collectionWidget;\n  }\n  getIndexByItemData(value) {\n    return Class.abstract();\n  }\n  getItemDataByIndex(index) {\n    Class.abstract();\n  }\n  getKeysByItems(items) {\n    Class.abstract();\n  }\n  getItemsByKeys(keys, items) {\n    Class.abstract();\n  }\n  itemsGetter() {\n    Class.abstract();\n  }\n  getKeyByIndex(index) {\n    const resultIndex = this._denormalizeItemIndex(index);\n    return this.getKeysByItems([this.getItemDataByIndex(resultIndex)])[0];\n  }\n  _equalKeys(key1, key2) {\n    if (this._collectionWidget._isKeySpecified()) {\n      return equalByValue(key1, key2);\n    }\n    return key1 === key2;\n  }\n  beginCache() {\n    this._cache = {};\n  }\n  endCache() {\n    this._cache = null;\n  }\n  getIndexByKey(key) {\n    return Class.abstract();\n  }\n  getNormalizedIndex(value) {\n    if (this._isNormalizedItemIndex(value)) {\n      return value;\n    }\n    if (this._isItemIndex(value)) {\n      return this._normalizeItemIndex(value);\n    }\n    if (this._isNode(value)) {\n      return this._getNormalizedItemIndex(value);\n    }\n    return this._normalizeItemIndex(this.getIndexByItemData(value));\n  }\n  getIndex(value) {\n    if (this._isNormalizedItemIndex(value)) {\n      return this._denormalizeItemIndex(value);\n    }\n    if (this._isItemIndex(value)) {\n      return value;\n    }\n    if (this._isNode(value)) {\n      return this._denormalizeItemIndex(this._getNormalizedItemIndex(value));\n    }\n    return this.getIndexByItemData(value);\n  }\n  getItemElement(value) {\n    if (this._isNormalizedItemIndex(value)) {\n      return this._getItemByNormalizedIndex(value);\n    }\n    if (this._isItemIndex(value)) {\n      return this._getItemByNormalizedIndex(this._normalizeItemIndex(value));\n    }\n    if (this._isNode(value)) {\n      return $(value);\n    }\n    const normalizedItemIndex = this._normalizeItemIndex(this.getIndexByItemData(value));\n    return this._getItemByNormalizedIndex(normalizedItemIndex);\n  }\n  _isNode(el) {\n    return domAdapter.isNode(el && isRenderer(el) ? el.get(0) : el);\n  }\n  deleteItemAtIndex(index) {\n    Class.abstract();\n  }\n  itemPlacementFunc(movingIndex, destinationIndex) {\n    return this._itemsFromSameParent(movingIndex, destinationIndex) && movingIndex < destinationIndex ? \"after\" : \"before\";\n  }\n  moveItemAtIndexToIndex(movingIndex, destinationIndex) {\n    Class.abstract();\n  }\n  _isNormalizedItemIndex(index) {\n    return \"number\" === typeof index && Math.round(index) === index;\n  }\n  _isItemIndex(index) {\n    return Class.abstract();\n  }\n  _getNormalizedItemIndex(value) {\n    return Class.abstract();\n  }\n  _normalizeItemIndex(index) {\n    return Class.abstract();\n  }\n  _denormalizeItemIndex(index) {\n    return Class.abstract();\n  }\n  _getItemByNormalizedIndex(value) {\n    return Class.abstract();\n  }\n  _itemsFromSameParent(movingIndex, destinationIndex) {\n    return Class.abstract();\n  }\n}\nexport default EditStrategy;","map":{"version":3,"names":["Class","domAdapter","$","equalByValue","isRenderer","EditStrategy","inherit","constructor","collectionWidget","_collectionWidget","getIndexByItemData","value","abstract","getItemDataByIndex","index","getKeysByItems","items","getItemsByKeys","keys","itemsGetter","getKeyByIndex","resultIndex","_denormalizeItemIndex","_equalKeys","key1","key2","_isKeySpecified","beginCache","_cache","endCache","getIndexByKey","key","getNormalizedIndex","_isNormalizedItemIndex","_isItemIndex","_normalizeItemIndex","_isNode","_getNormalizedItemIndex","getIndex","getItemElement","_getItemByNormalizedIndex","normalizedItemIndex","el","isNode","get","deleteItemAtIndex","itemPlacementFunc","movingIndex","destinationIndex","_itemsFromSameParent","moveItemAtIndexToIndex","Math","round"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/ui/collection/m_collection_widget.edit.strategy.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/ui/collection/m_collection_widget.edit.strategy.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Class from \"../../../core/class\";\r\nimport domAdapter from \"../../../core/dom_adapter\";\r\nimport $ from \"../../../core/renderer\";\r\nimport {\r\n    equalByValue\r\n} from \"../../../core/utils/common\";\r\nimport {\r\n    isRenderer\r\n} from \"../../../core/utils/type\";\r\nclass EditStrategy extends(Class.inherit({})) {\r\n    constructor(collectionWidget) {\r\n        super();\r\n        this._collectionWidget = collectionWidget\r\n    }\r\n    getIndexByItemData(value) {\r\n        return Class.abstract()\r\n    }\r\n    getItemDataByIndex(index) {\r\n        Class.abstract()\r\n    }\r\n    getKeysByItems(items) {\r\n        Class.abstract()\r\n    }\r\n    getItemsByKeys(keys, items) {\r\n        Class.abstract()\r\n    }\r\n    itemsGetter() {\r\n        Class.abstract()\r\n    }\r\n    getKeyByIndex(index) {\r\n        const resultIndex = this._denormalizeItemIndex(index);\r\n        return this.getKeysByItems([this.getItemDataByIndex(resultIndex)])[0]\r\n    }\r\n    _equalKeys(key1, key2) {\r\n        if (this._collectionWidget._isKeySpecified()) {\r\n            return equalByValue(key1, key2)\r\n        }\r\n        return key1 === key2\r\n    }\r\n    beginCache() {\r\n        this._cache = {}\r\n    }\r\n    endCache() {\r\n        this._cache = null\r\n    }\r\n    getIndexByKey(key) {\r\n        return Class.abstract()\r\n    }\r\n    getNormalizedIndex(value) {\r\n        if (this._isNormalizedItemIndex(value)) {\r\n            return value\r\n        }\r\n        if (this._isItemIndex(value)) {\r\n            return this._normalizeItemIndex(value)\r\n        }\r\n        if (this._isNode(value)) {\r\n            return this._getNormalizedItemIndex(value)\r\n        }\r\n        return this._normalizeItemIndex(this.getIndexByItemData(value))\r\n    }\r\n    getIndex(value) {\r\n        if (this._isNormalizedItemIndex(value)) {\r\n            return this._denormalizeItemIndex(value)\r\n        }\r\n        if (this._isItemIndex(value)) {\r\n            return value\r\n        }\r\n        if (this._isNode(value)) {\r\n            return this._denormalizeItemIndex(this._getNormalizedItemIndex(value))\r\n        }\r\n        return this.getIndexByItemData(value)\r\n    }\r\n    getItemElement(value) {\r\n        if (this._isNormalizedItemIndex(value)) {\r\n            return this._getItemByNormalizedIndex(value)\r\n        }\r\n        if (this._isItemIndex(value)) {\r\n            return this._getItemByNormalizedIndex(this._normalizeItemIndex(value))\r\n        }\r\n        if (this._isNode(value)) {\r\n            return $(value)\r\n        }\r\n        const normalizedItemIndex = this._normalizeItemIndex(this.getIndexByItemData(value));\r\n        return this._getItemByNormalizedIndex(normalizedItemIndex)\r\n    }\r\n    _isNode(el) {\r\n        return domAdapter.isNode(el && isRenderer(el) ? el.get(0) : el)\r\n    }\r\n    deleteItemAtIndex(index) {\r\n        Class.abstract()\r\n    }\r\n    itemPlacementFunc(movingIndex, destinationIndex) {\r\n        return this._itemsFromSameParent(movingIndex, destinationIndex) && movingIndex < destinationIndex ? \"after\" : \"before\"\r\n    }\r\n    moveItemAtIndexToIndex(movingIndex, destinationIndex) {\r\n        Class.abstract()\r\n    }\r\n    _isNormalizedItemIndex(index) {\r\n        return \"number\" === typeof index && Math.round(index) === index\r\n    }\r\n    _isItemIndex(index) {\r\n        return Class.abstract()\r\n    }\r\n    _getNormalizedItemIndex(value) {\r\n        return Class.abstract()\r\n    }\r\n    _normalizeItemIndex(index) {\r\n        return Class.abstract()\r\n    }\r\n    _denormalizeItemIndex(index) {\r\n        return Class.abstract()\r\n    }\r\n    _getItemByNormalizedIndex(value) {\r\n        return Class.abstract()\r\n    }\r\n    _itemsFromSameParent(movingIndex, destinationIndex) {\r\n        return Class.abstract()\r\n    }\r\n}\r\nexport default EditStrategy;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}