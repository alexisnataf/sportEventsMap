{"ast":null,"code":"/*!\n * devextreme-react\n * Version: 24.2.7\n * Build date: Mon Apr 28 2025\n *\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-react\n */\n\nimport * as React from 'react';\nimport { useContext, useLayoutEffect, useState, useMemo } from 'react';\nimport { createPortal } from 'react-dom';\nimport { getOptionInfo } from './configuration/react/element';\nimport { useOptionScanning } from './use-option-scanning';\nimport { NestedOptionContext, TemplateRenderingContext } from './contexts';\nimport { hasExpectedChildren } from './helpers';\nconst NestedOption = function NestedOption(props) {\n  const {\n    children\n  } = props;\n  const {\n    elementDescriptor,\n    ...restProps\n  } = props;\n  const {\n    isTemplateRendering\n  } = useContext(TemplateRenderingContext);\n  if (!elementDescriptor || typeof document === 'undefined' || isTemplateRendering) {\n    return null;\n  }\n  const usesNamedTemplate = elementDescriptor.TemplateProps?.some(prop => props[prop.tmplOption] && typeof props[prop.tmplOption] === 'string');\n  const {\n    parentExpectedChildren,\n    onChildOptionsReady: triggerParentOptionsReady,\n    getOptionComponentKey,\n    treeUpdateToken\n  } = useContext(NestedOptionContext);\n  const [optionComponentKey] = useState(getOptionComponentKey());\n  const optionElement = getOptionInfo(elementDescriptor, restProps, parentExpectedChildren);\n  const mainContainer = useMemo(() => document.createElement('div'), []);\n  const renderChildren = hasExpectedChildren(elementDescriptor) || usesNamedTemplate;\n  const getHasTemplate = renderChildren ? () => !!mainContainer.childNodes.length : () => !!children;\n  const [config, context] = useOptionScanning(optionElement, getHasTemplate, treeUpdateToken, 'option');\n  useLayoutEffect(() => {\n    triggerParentOptionsReady(config, optionElement.descriptor, treeUpdateToken, optionComponentKey);\n  }, [treeUpdateToken]);\n  return renderChildren ? React.createElement(React.Fragment, {}, createPortal(React.createElement(NestedOptionContext.Provider, {\n    value: context\n  }, children), mainContainer)) : null;\n};\nexport default NestedOption;","map":{"version":3,"names":["React","useContext","useLayoutEffect","useState","useMemo","createPortal","getOptionInfo","useOptionScanning","NestedOptionContext","TemplateRenderingContext","hasExpectedChildren","NestedOption","props","children","elementDescriptor","restProps","isTemplateRendering","document","usesNamedTemplate","TemplateProps","some","prop","tmplOption","parentExpectedChildren","onChildOptionsReady","triggerParentOptionsReady","getOptionComponentKey","treeUpdateToken","optionComponentKey","optionElement","mainContainer","createElement","renderChildren","getHasTemplate","childNodes","length","config","context","descriptor","Fragment","Provider","value"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme-react/esm/core/nested-option.js"],"sourcesContent":["/*!\n * devextreme-react\n * Version: 24.2.7\n * Build date: Mon Apr 28 2025\n *\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-react\n */\n\nimport * as React from 'react';\nimport { useContext, useLayoutEffect, useState, useMemo, } from 'react';\nimport { createPortal } from 'react-dom';\nimport { getOptionInfo, } from './configuration/react/element';\nimport { useOptionScanning } from './use-option-scanning';\nimport { NestedOptionContext, TemplateRenderingContext } from './contexts';\nimport { hasExpectedChildren } from './helpers';\nconst NestedOption = function NestedOption(props) {\n    const { children } = props;\n    const { elementDescriptor, ...restProps } = props;\n    const { isTemplateRendering } = useContext(TemplateRenderingContext);\n    if (!elementDescriptor || typeof document === 'undefined' || isTemplateRendering) {\n        return null;\n    }\n    const usesNamedTemplate = elementDescriptor.TemplateProps?.some((prop) => props[prop.tmplOption] && typeof props[prop.tmplOption] === 'string');\n    const { parentExpectedChildren, onChildOptionsReady: triggerParentOptionsReady, getOptionComponentKey, treeUpdateToken, } = useContext(NestedOptionContext);\n    const [optionComponentKey] = useState(getOptionComponentKey());\n    const optionElement = getOptionInfo(elementDescriptor, restProps, parentExpectedChildren);\n    const mainContainer = useMemo(() => document.createElement('div'), []);\n    const renderChildren = hasExpectedChildren(elementDescriptor) || usesNamedTemplate;\n    const getHasTemplate = renderChildren\n        ? () => !!mainContainer.childNodes.length\n        : () => !!children;\n    const [config, context,] = useOptionScanning(optionElement, getHasTemplate, treeUpdateToken, 'option');\n    useLayoutEffect(() => {\n        triggerParentOptionsReady(config, optionElement.descriptor, treeUpdateToken, optionComponentKey);\n    }, [treeUpdateToken]);\n    return renderChildren ? React.createElement(React.Fragment, {}, createPortal(React.createElement(NestedOptionContext.Provider, {\n        value: context,\n    }, children), mainContainer)) : null;\n};\nexport default NestedOption;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,UAAU,EAAEC,eAAe,EAAEC,QAAQ,EAAEC,OAAO,QAAS,OAAO;AACvE,SAASC,YAAY,QAAQ,WAAW;AACxC,SAASC,aAAa,QAAS,+BAA+B;AAC9D,SAASC,iBAAiB,QAAQ,uBAAuB;AACzD,SAASC,mBAAmB,EAAEC,wBAAwB,QAAQ,YAAY;AAC1E,SAASC,mBAAmB,QAAQ,WAAW;AAC/C,MAAMC,YAAY,GAAG,SAASA,YAAYA,CAACC,KAAK,EAAE;EAC9C,MAAM;IAAEC;EAAS,CAAC,GAAGD,KAAK;EAC1B,MAAM;IAAEE,iBAAiB;IAAE,GAAGC;EAAU,CAAC,GAAGH,KAAK;EACjD,MAAM;IAAEI;EAAoB,CAAC,GAAGf,UAAU,CAACQ,wBAAwB,CAAC;EACpE,IAAI,CAACK,iBAAiB,IAAI,OAAOG,QAAQ,KAAK,WAAW,IAAID,mBAAmB,EAAE;IAC9E,OAAO,IAAI;EACf;EACA,MAAME,iBAAiB,GAAGJ,iBAAiB,CAACK,aAAa,EAAEC,IAAI,CAAEC,IAAI,IAAKT,KAAK,CAACS,IAAI,CAACC,UAAU,CAAC,IAAI,OAAOV,KAAK,CAACS,IAAI,CAACC,UAAU,CAAC,KAAK,QAAQ,CAAC;EAC/I,MAAM;IAAEC,sBAAsB;IAAEC,mBAAmB,EAAEC,yBAAyB;IAAEC,qBAAqB;IAAEC;EAAiB,CAAC,GAAG1B,UAAU,CAACO,mBAAmB,CAAC;EAC3J,MAAM,CAACoB,kBAAkB,CAAC,GAAGzB,QAAQ,CAACuB,qBAAqB,CAAC,CAAC,CAAC;EAC9D,MAAMG,aAAa,GAAGvB,aAAa,CAACQ,iBAAiB,EAAEC,SAAS,EAAEQ,sBAAsB,CAAC;EACzF,MAAMO,aAAa,GAAG1B,OAAO,CAAC,MAAMa,QAAQ,CAACc,aAAa,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC;EACtE,MAAMC,cAAc,GAAGtB,mBAAmB,CAACI,iBAAiB,CAAC,IAAII,iBAAiB;EAClF,MAAMe,cAAc,GAAGD,cAAc,GAC/B,MAAM,CAAC,CAACF,aAAa,CAACI,UAAU,CAACC,MAAM,GACvC,MAAM,CAAC,CAACtB,QAAQ;EACtB,MAAM,CAACuB,MAAM,EAAEC,OAAO,CAAE,GAAG9B,iBAAiB,CAACsB,aAAa,EAAEI,cAAc,EAAEN,eAAe,EAAE,QAAQ,CAAC;EACtGzB,eAAe,CAAC,MAAM;IAClBuB,yBAAyB,CAACW,MAAM,EAAEP,aAAa,CAACS,UAAU,EAAEX,eAAe,EAAEC,kBAAkB,CAAC;EACpG,CAAC,EAAE,CAACD,eAAe,CAAC,CAAC;EACrB,OAAOK,cAAc,GAAGhC,KAAK,CAAC+B,aAAa,CAAC/B,KAAK,CAACuC,QAAQ,EAAE,CAAC,CAAC,EAAElC,YAAY,CAACL,KAAK,CAAC+B,aAAa,CAACvB,mBAAmB,CAACgC,QAAQ,EAAE;IAC3HC,KAAK,EAAEJ;EACX,CAAC,EAAExB,QAAQ,CAAC,EAAEiB,aAAa,CAAC,CAAC,GAAG,IAAI;AACxC,CAAC;AACD,eAAenB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}