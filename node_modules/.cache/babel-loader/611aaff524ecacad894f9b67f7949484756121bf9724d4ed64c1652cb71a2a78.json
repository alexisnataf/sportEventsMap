{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/core/utils/m_resize_callbacks.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport domAdapter from \"../../../core/dom_adapter\";\nimport callOnce from \"../../../core/utils/call_once\";\nimport Callbacks from \"./m_callbacks\";\nimport readyCallbacks from \"./m_ready_callbacks\";\nimport windowModule from \"./m_window\";\nconst resizeCallbacks = function () {\n  let prevSize;\n  const callbacks = Callbacks();\n  const originalCallbacksAdd = callbacks.add;\n  const originalCallbacksRemove = callbacks.remove;\n  if (!windowModule.hasWindow()) {\n    return callbacks;\n  }\n  const formatSize = function () {\n    const window = windowModule.getWindow();\n    return {\n      width: window.innerWidth,\n      height: window.innerHeight\n    };\n  };\n  const handleResize = function () {\n    const now = formatSize();\n    if (now.width === prevSize.width && now.height === prevSize.height) {\n      return;\n    }\n    let changedDimension;\n    if (now.width === prevSize.width) {\n      changedDimension = \"height\";\n    }\n    if (now.height === prevSize.height) {\n      changedDimension = \"width\";\n    }\n    prevSize = now;\n    callbacks.fire(changedDimension);\n  };\n  const setPrevSize = callOnce(function () {\n    prevSize = formatSize();\n  });\n  let removeListener;\n  callbacks.add = function () {\n    const result = originalCallbacksAdd.apply(callbacks, arguments);\n    setPrevSize();\n    readyCallbacks.add(function () {\n      if (!removeListener && callbacks.has()) {\n        removeListener = domAdapter.listen(windowModule.getWindow(), \"resize\", handleResize);\n      }\n    });\n    return result;\n  };\n  callbacks.remove = function () {\n    const result = originalCallbacksRemove.apply(callbacks, arguments);\n    if (!callbacks.has() && removeListener) {\n      removeListener();\n      removeListener = void 0;\n    }\n    return result;\n  };\n  return callbacks;\n}();\nexport { resizeCallbacks };\nexport default resizeCallbacks;","map":{"version":3,"names":["domAdapter","callOnce","Callbacks","readyCallbacks","windowModule","resizeCallbacks","prevSize","callbacks","originalCallbacksAdd","add","originalCallbacksRemove","remove","hasWindow","formatSize","window","getWindow","width","innerWidth","height","innerHeight","handleResize","now","changedDimension","fire","setPrevSize","removeListener","result","apply","arguments","has","listen"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/core/utils/m_resize_callbacks.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/core/utils/m_resize_callbacks.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport domAdapter from \"../../../core/dom_adapter\";\r\nimport callOnce from \"../../../core/utils/call_once\";\r\nimport Callbacks from \"./m_callbacks\";\r\nimport readyCallbacks from \"./m_ready_callbacks\";\r\nimport windowModule from \"./m_window\";\r\nconst resizeCallbacks = function() {\r\n    let prevSize;\r\n    const callbacks = Callbacks();\r\n    const originalCallbacksAdd = callbacks.add;\r\n    const originalCallbacksRemove = callbacks.remove;\r\n    if (!windowModule.hasWindow()) {\r\n        return callbacks\r\n    }\r\n    const formatSize = function() {\r\n        const window = windowModule.getWindow();\r\n        return {\r\n            width: window.innerWidth,\r\n            height: window.innerHeight\r\n        }\r\n    };\r\n    const handleResize = function() {\r\n        const now = formatSize();\r\n        if (now.width === prevSize.width && now.height === prevSize.height) {\r\n            return\r\n        }\r\n        let changedDimension;\r\n        if (now.width === prevSize.width) {\r\n            changedDimension = \"height\"\r\n        }\r\n        if (now.height === prevSize.height) {\r\n            changedDimension = \"width\"\r\n        }\r\n        prevSize = now;\r\n        callbacks.fire(changedDimension)\r\n    };\r\n    const setPrevSize = callOnce((function() {\r\n        prevSize = formatSize()\r\n    }));\r\n    let removeListener;\r\n    callbacks.add = function() {\r\n        const result = originalCallbacksAdd.apply(callbacks, arguments);\r\n        setPrevSize();\r\n        readyCallbacks.add((function() {\r\n            if (!removeListener && callbacks.has()) {\r\n                removeListener = domAdapter.listen(windowModule.getWindow(), \"resize\", handleResize)\r\n            }\r\n        }));\r\n        return result\r\n    };\r\n    callbacks.remove = function() {\r\n        const result = originalCallbacksRemove.apply(callbacks, arguments);\r\n        if (!callbacks.has() && removeListener) {\r\n            removeListener();\r\n            removeListener = void 0\r\n        }\r\n        return result\r\n    };\r\n    return callbacks\r\n}();\r\nexport {\r\n    resizeCallbacks\r\n};\r\nexport default resizeCallbacks;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,UAAU,MAAM,2BAA2B;AAClD,OAAOC,QAAQ,MAAM,+BAA+B;AACpD,OAAOC,SAAS,MAAM,eAAe;AACrC,OAAOC,cAAc,MAAM,qBAAqB;AAChD,OAAOC,YAAY,MAAM,YAAY;AACrC,MAAMC,eAAe,GAAG,YAAW;EAC/B,IAAIC,QAAQ;EACZ,MAAMC,SAAS,GAAGL,SAAS,CAAC,CAAC;EAC7B,MAAMM,oBAAoB,GAAGD,SAAS,CAACE,GAAG;EAC1C,MAAMC,uBAAuB,GAAGH,SAAS,CAACI,MAAM;EAChD,IAAI,CAACP,YAAY,CAACQ,SAAS,CAAC,CAAC,EAAE;IAC3B,OAAOL,SAAS;EACpB;EACA,MAAMM,UAAU,GAAG,SAAAA,CAAA,EAAW;IAC1B,MAAMC,MAAM,GAAGV,YAAY,CAACW,SAAS,CAAC,CAAC;IACvC,OAAO;MACHC,KAAK,EAAEF,MAAM,CAACG,UAAU;MACxBC,MAAM,EAAEJ,MAAM,CAACK;IACnB,CAAC;EACL,CAAC;EACD,MAAMC,YAAY,GAAG,SAAAA,CAAA,EAAW;IAC5B,MAAMC,GAAG,GAAGR,UAAU,CAAC,CAAC;IACxB,IAAIQ,GAAG,CAACL,KAAK,KAAKV,QAAQ,CAACU,KAAK,IAAIK,GAAG,CAACH,MAAM,KAAKZ,QAAQ,CAACY,MAAM,EAAE;MAChE;IACJ;IACA,IAAII,gBAAgB;IACpB,IAAID,GAAG,CAACL,KAAK,KAAKV,QAAQ,CAACU,KAAK,EAAE;MAC9BM,gBAAgB,GAAG,QAAQ;IAC/B;IACA,IAAID,GAAG,CAACH,MAAM,KAAKZ,QAAQ,CAACY,MAAM,EAAE;MAChCI,gBAAgB,GAAG,OAAO;IAC9B;IACAhB,QAAQ,GAAGe,GAAG;IACdd,SAAS,CAACgB,IAAI,CAACD,gBAAgB,CAAC;EACpC,CAAC;EACD,MAAME,WAAW,GAAGvB,QAAQ,CAAE,YAAW;IACrCK,QAAQ,GAAGO,UAAU,CAAC,CAAC;EAC3B,CAAE,CAAC;EACH,IAAIY,cAAc;EAClBlB,SAAS,CAACE,GAAG,GAAG,YAAW;IACvB,MAAMiB,MAAM,GAAGlB,oBAAoB,CAACmB,KAAK,CAACpB,SAAS,EAAEqB,SAAS,CAAC;IAC/DJ,WAAW,CAAC,CAAC;IACbrB,cAAc,CAACM,GAAG,CAAE,YAAW;MAC3B,IAAI,CAACgB,cAAc,IAAIlB,SAAS,CAACsB,GAAG,CAAC,CAAC,EAAE;QACpCJ,cAAc,GAAGzB,UAAU,CAAC8B,MAAM,CAAC1B,YAAY,CAACW,SAAS,CAAC,CAAC,EAAE,QAAQ,EAAEK,YAAY,CAAC;MACxF;IACJ,CAAE,CAAC;IACH,OAAOM,MAAM;EACjB,CAAC;EACDnB,SAAS,CAACI,MAAM,GAAG,YAAW;IAC1B,MAAMe,MAAM,GAAGhB,uBAAuB,CAACiB,KAAK,CAACpB,SAAS,EAAEqB,SAAS,CAAC;IAClE,IAAI,CAACrB,SAAS,CAACsB,GAAG,CAAC,CAAC,IAAIJ,cAAc,EAAE;MACpCA,cAAc,CAAC,CAAC;MAChBA,cAAc,GAAG,KAAK,CAAC;IAC3B;IACA,OAAOC,MAAM;EACjB,CAAC;EACD,OAAOnB,SAAS;AACpB,CAAC,CAAC,CAAC;AACH,SACIF,eAAe;AAEnB,eAAeA,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}