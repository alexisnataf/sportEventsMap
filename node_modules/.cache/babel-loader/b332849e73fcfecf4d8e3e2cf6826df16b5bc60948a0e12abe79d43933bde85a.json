{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/events/m_dblclick.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { name as clickEventName } from \"../../common/core/events/click\";\nimport eventsEngine from \"../../common/core/events/core/events_engine\";\nimport { addNamespace, fireEvent } from \"../../common/core/events/utils/index\";\nimport Class from \"../../core/class\";\nimport domAdapter from \"../../core/dom_adapter\";\nimport { closestCommonParent } from \"../../core/utils/dom\";\nconst DBLCLICK_EVENT_NAME = \"dxdblclick\";\nconst DBLCLICK_NAMESPACE = \"dxDblClick\";\nconst NAMESPACED_CLICK_EVENT = addNamespace(clickEventName, \"dxDblClick\");\nconst DBLCLICK_TIMEOUT = 300;\nconst DblClick = Class.inherit({\n  ctor() {\n    this._handlerCount = 0;\n    this._forgetLastClick();\n  },\n  _forgetLastClick() {\n    this._firstClickTarget = null;\n    this._lastClickTimeStamp = -300;\n  },\n  add() {\n    if (this._handlerCount <= 0) {\n      eventsEngine.on(domAdapter.getDocument(), NAMESPACED_CLICK_EVENT, this._clickHandler.bind(this));\n    }\n    this._handlerCount += 1;\n  },\n  _clickHandler(e) {\n    const timeStamp = e.timeStamp || Date.now();\n    const timeBetweenClicks = timeStamp - this._lastClickTimeStamp;\n    const isSimulated = timeBetweenClicks < 0;\n    const isDouble = !isSimulated && timeBetweenClicks < 300;\n    if (isDouble) {\n      fireEvent({\n        type: \"dxdblclick\",\n        target: closestCommonParent(this._firstClickTarget, e.target),\n        originalEvent: e\n      });\n      this._forgetLastClick();\n    } else {\n      this._firstClickTarget = e.target;\n      this._lastClickTimeStamp = timeStamp;\n      clearTimeout(this._lastClickClearTimeout);\n      this._lastClickClearTimeout = setTimeout(() => {\n        this._forgetLastClick();\n      }, 600);\n    }\n  },\n  remove() {\n    this._handlerCount -= 1;\n    if (this._handlerCount <= 0) {\n      this._forgetLastClick();\n      eventsEngine.off(domAdapter.getDocument(), NAMESPACED_CLICK_EVENT, void 0);\n      clearTimeout(this._lastClickClearTimeout);\n      this._handlerCount = 0;\n    }\n  }\n});\nconst dblClick = new DblClick();\nexport { dblClick, DBLCLICK_EVENT_NAME as name };","map":{"version":3,"names":["name","clickEventName","eventsEngine","addNamespace","fireEvent","Class","domAdapter","closestCommonParent","DBLCLICK_EVENT_NAME","DBLCLICK_NAMESPACE","NAMESPACED_CLICK_EVENT","DBLCLICK_TIMEOUT","DblClick","inherit","ctor","_handlerCount","_forgetLastClick","_firstClickTarget","_lastClickTimeStamp","add","on","getDocument","_clickHandler","bind","e","timeStamp","Date","now","timeBetweenClicks","isSimulated","isDouble","type","target","originalEvent","clearTimeout","_lastClickClearTimeout","setTimeout","remove","off","dblClick"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/events/m_dblclick.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/events/m_dblclick.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    name as clickEventName\r\n} from \"../../common/core/events/click\";\r\nimport eventsEngine from \"../../common/core/events/core/events_engine\";\r\nimport {\r\n    addNamespace,\r\n    fireEvent\r\n} from \"../../common/core/events/utils/index\";\r\nimport Class from \"../../core/class\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport {\r\n    closestCommonParent\r\n} from \"../../core/utils/dom\";\r\nconst DBLCLICK_EVENT_NAME = \"dxdblclick\";\r\nconst DBLCLICK_NAMESPACE = \"dxDblClick\";\r\nconst NAMESPACED_CLICK_EVENT = addNamespace(clickEventName, \"dxDblClick\");\r\nconst DBLCLICK_TIMEOUT = 300;\r\nconst DblClick = Class.inherit({\r\n    ctor() {\r\n        this._handlerCount = 0;\r\n        this._forgetLastClick()\r\n    },\r\n    _forgetLastClick() {\r\n        this._firstClickTarget = null;\r\n        this._lastClickTimeStamp = -300\r\n    },\r\n    add() {\r\n        if (this._handlerCount <= 0) {\r\n            eventsEngine.on(domAdapter.getDocument(), NAMESPACED_CLICK_EVENT, this._clickHandler.bind(this))\r\n        }\r\n        this._handlerCount += 1\r\n    },\r\n    _clickHandler(e) {\r\n        const timeStamp = e.timeStamp || Date.now();\r\n        const timeBetweenClicks = timeStamp - this._lastClickTimeStamp;\r\n        const isSimulated = timeBetweenClicks < 0;\r\n        const isDouble = !isSimulated && timeBetweenClicks < 300;\r\n        if (isDouble) {\r\n            fireEvent({\r\n                type: \"dxdblclick\",\r\n                target: closestCommonParent(this._firstClickTarget, e.target),\r\n                originalEvent: e\r\n            });\r\n            this._forgetLastClick()\r\n        } else {\r\n            this._firstClickTarget = e.target;\r\n            this._lastClickTimeStamp = timeStamp;\r\n            clearTimeout(this._lastClickClearTimeout);\r\n            this._lastClickClearTimeout = setTimeout((() => {\r\n                this._forgetLastClick()\r\n            }), 600)\r\n        }\r\n    },\r\n    remove() {\r\n        this._handlerCount -= 1;\r\n        if (this._handlerCount <= 0) {\r\n            this._forgetLastClick();\r\n            eventsEngine.off(domAdapter.getDocument(), NAMESPACED_CLICK_EVENT, void 0);\r\n            clearTimeout(this._lastClickClearTimeout);\r\n            this._handlerCount = 0\r\n        }\r\n    }\r\n});\r\nconst dblClick = new DblClick;\r\nexport {\r\n    dblClick,\r\n    DBLCLICK_EVENT_NAME as name\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SACIA,IAAI,IAAIC,cAAc,QACnB,gCAAgC;AACvC,OAAOC,YAAY,MAAM,6CAA6C;AACtE,SACIC,YAAY,EACZC,SAAS,QACN,sCAAsC;AAC7C,OAAOC,KAAK,MAAM,kBAAkB;AACpC,OAAOC,UAAU,MAAM,wBAAwB;AAC/C,SACIC,mBAAmB,QAChB,sBAAsB;AAC7B,MAAMC,mBAAmB,GAAG,YAAY;AACxC,MAAMC,kBAAkB,GAAG,YAAY;AACvC,MAAMC,sBAAsB,GAAGP,YAAY,CAACF,cAAc,EAAE,YAAY,CAAC;AACzE,MAAMU,gBAAgB,GAAG,GAAG;AAC5B,MAAMC,QAAQ,GAAGP,KAAK,CAACQ,OAAO,CAAC;EAC3BC,IAAIA,CAAA,EAAG;IACH,IAAI,CAACC,aAAa,GAAG,CAAC;IACtB,IAAI,CAACC,gBAAgB,CAAC,CAAC;EAC3B,CAAC;EACDA,gBAAgBA,CAAA,EAAG;IACf,IAAI,CAACC,iBAAiB,GAAG,IAAI;IAC7B,IAAI,CAACC,mBAAmB,GAAG,CAAC,GAAG;EACnC,CAAC;EACDC,GAAGA,CAAA,EAAG;IACF,IAAI,IAAI,CAACJ,aAAa,IAAI,CAAC,EAAE;MACzBb,YAAY,CAACkB,EAAE,CAACd,UAAU,CAACe,WAAW,CAAC,CAAC,EAAEX,sBAAsB,EAAE,IAAI,CAACY,aAAa,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;IACpG;IACA,IAAI,CAACR,aAAa,IAAI,CAAC;EAC3B,CAAC;EACDO,aAAaA,CAACE,CAAC,EAAE;IACb,MAAMC,SAAS,GAAGD,CAAC,CAACC,SAAS,IAAIC,IAAI,CAACC,GAAG,CAAC,CAAC;IAC3C,MAAMC,iBAAiB,GAAGH,SAAS,GAAG,IAAI,CAACP,mBAAmB;IAC9D,MAAMW,WAAW,GAAGD,iBAAiB,GAAG,CAAC;IACzC,MAAME,QAAQ,GAAG,CAACD,WAAW,IAAID,iBAAiB,GAAG,GAAG;IACxD,IAAIE,QAAQ,EAAE;MACV1B,SAAS,CAAC;QACN2B,IAAI,EAAE,YAAY;QAClBC,MAAM,EAAEzB,mBAAmB,CAAC,IAAI,CAACU,iBAAiB,EAAEO,CAAC,CAACQ,MAAM,CAAC;QAC7DC,aAAa,EAAET;MACnB,CAAC,CAAC;MACF,IAAI,CAACR,gBAAgB,CAAC,CAAC;IAC3B,CAAC,MAAM;MACH,IAAI,CAACC,iBAAiB,GAAGO,CAAC,CAACQ,MAAM;MACjC,IAAI,CAACd,mBAAmB,GAAGO,SAAS;MACpCS,YAAY,CAAC,IAAI,CAACC,sBAAsB,CAAC;MACzC,IAAI,CAACA,sBAAsB,GAAGC,UAAU,CAAE,MAAM;QAC5C,IAAI,CAACpB,gBAAgB,CAAC,CAAC;MAC3B,CAAC,EAAG,GAAG,CAAC;IACZ;EACJ,CAAC;EACDqB,MAAMA,CAAA,EAAG;IACL,IAAI,CAACtB,aAAa,IAAI,CAAC;IACvB,IAAI,IAAI,CAACA,aAAa,IAAI,CAAC,EAAE;MACzB,IAAI,CAACC,gBAAgB,CAAC,CAAC;MACvBd,YAAY,CAACoC,GAAG,CAAChC,UAAU,CAACe,WAAW,CAAC,CAAC,EAAEX,sBAAsB,EAAE,KAAK,CAAC,CAAC;MAC1EwB,YAAY,CAAC,IAAI,CAACC,sBAAsB,CAAC;MACzC,IAAI,CAACpB,aAAa,GAAG,CAAC;IAC1B;EACJ;AACJ,CAAC,CAAC;AACF,MAAMwB,QAAQ,GAAG,IAAI3B,QAAQ,CAAD,CAAC;AAC7B,SACI2B,QAAQ,EACR/B,mBAAmB,IAAIR,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}