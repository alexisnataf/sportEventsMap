{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/ui/collection/m_collection_widget.async.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Guid from \"../../../core/guid\";\nimport { Deferred, when } from \"../../../core/utils/deferred\";\nimport CollectionWidgetEdit from \"../../ui/collection/m_collection_widget.edit\";\nclass CollectionWidgetAsync extends CollectionWidgetEdit {\n  _initMarkup() {\n    this._asyncTemplateItemsMap = {};\n    super._initMarkup();\n  }\n  _render() {\n    super._render();\n    this._planPostRenderActions();\n  }\n  _renderItemContent(args) {\n    const renderContentDeferred = Deferred();\n    const itemDeferred = Deferred();\n    const uniqueKey = `dx${new Guid()}`;\n    this._asyncTemplateItemsMap[uniqueKey] = itemDeferred;\n    const $itemContent = super._renderItemContent(_extends({}, args, {\n      uniqueKey: uniqueKey\n    }));\n    itemDeferred.done(() => {\n      renderContentDeferred.resolve($itemContent);\n    });\n    return renderContentDeferred.promise();\n  }\n  _onItemTemplateRendered(itemTemplate, renderArgs) {\n    return () => {\n      const {\n        uniqueKey: uniqueKey\n      } = renderArgs;\n      if (uniqueKey) {\n        var _this$_asyncTemplateI;\n        null === (_this$_asyncTemplateI = this._asyncTemplateItemsMap[uniqueKey]) || void 0 === _this$_asyncTemplateI || _this$_asyncTemplateI.resolve();\n      }\n    };\n  }\n  _postProcessRenderItems() {}\n  _planPostRenderActions() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    const d = Deferred();\n    const asyncTemplateItems = Object.values(this._asyncTemplateItemsMap);\n    when.apply(this, asyncTemplateItems).done(() => {\n      this._postProcessRenderItems(...args);\n      d.resolve().done(() => {\n        this._asyncTemplateItemsMap = {};\n      });\n    });\n    return d.promise();\n  }\n  _clean() {\n    super._clean();\n    const asyncTemplateItems = Object.values(this._asyncTemplateItemsMap);\n    asyncTemplateItems.forEach(item => {\n      item.reject();\n    });\n    this._asyncTemplateItemsMap = {};\n  }\n}\nexport default CollectionWidgetAsync;","map":{"version":3,"names":["_extends","Guid","Deferred","when","CollectionWidgetEdit","CollectionWidgetAsync","_initMarkup","_asyncTemplateItemsMap","_render","_planPostRenderActions","_renderItemContent","args","renderContentDeferred","itemDeferred","uniqueKey","$itemContent","done","resolve","promise","_onItemTemplateRendered","itemTemplate","renderArgs","_this$_asyncTemplateI","_postProcessRenderItems","_len","arguments","length","Array","_key","d","asyncTemplateItems","Object","values","apply","_clean","forEach","item","reject"],"sources":["/home/nataf/Cours/world-cities-map/client/node_modules/devextreme/esm/__internal/ui/collection/m_collection_widget.async.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/ui/collection/m_collection_widget.async.js)\r\n * Version: 24.2.7\r\n * Build date: Mon Apr 28 2025\r\n *\r\n * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport Guid from \"../../../core/guid\";\r\nimport {\r\n    Deferred,\r\n    when\r\n} from \"../../../core/utils/deferred\";\r\nimport CollectionWidgetEdit from \"../../ui/collection/m_collection_widget.edit\";\r\nclass CollectionWidgetAsync extends CollectionWidgetEdit {\r\n    _initMarkup() {\r\n        this._asyncTemplateItemsMap = {};\r\n        super._initMarkup()\r\n    }\r\n    _render() {\r\n        super._render();\r\n        this._planPostRenderActions()\r\n    }\r\n    _renderItemContent(args) {\r\n        const renderContentDeferred = Deferred();\r\n        const itemDeferred = Deferred();\r\n        const uniqueKey = `dx${new Guid}`;\r\n        this._asyncTemplateItemsMap[uniqueKey] = itemDeferred;\r\n        const $itemContent = super._renderItemContent(_extends({}, args, {\r\n            uniqueKey: uniqueKey\r\n        }));\r\n        itemDeferred.done((() => {\r\n            renderContentDeferred.resolve($itemContent)\r\n        }));\r\n        return renderContentDeferred.promise()\r\n    }\r\n    _onItemTemplateRendered(itemTemplate, renderArgs) {\r\n        return () => {\r\n            const {\r\n                uniqueKey: uniqueKey\r\n            } = renderArgs;\r\n            if (uniqueKey) {\r\n                var _this$_asyncTemplateI;\r\n                null === (_this$_asyncTemplateI = this._asyncTemplateItemsMap[uniqueKey]) || void 0 === _this$_asyncTemplateI || _this$_asyncTemplateI.resolve()\r\n            }\r\n        }\r\n    }\r\n    _postProcessRenderItems() {}\r\n    _planPostRenderActions() {\r\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n            args[_key] = arguments[_key]\r\n        }\r\n        const d = Deferred();\r\n        const asyncTemplateItems = Object.values(this._asyncTemplateItemsMap);\r\n        when.apply(this, asyncTemplateItems).done((() => {\r\n            this._postProcessRenderItems(...args);\r\n            d.resolve().done((() => {\r\n                this._asyncTemplateItemsMap = {}\r\n            }))\r\n        }));\r\n        return d.promise()\r\n    }\r\n    _clean() {\r\n        super._clean();\r\n        const asyncTemplateItems = Object.values(this._asyncTemplateItemsMap);\r\n        asyncTemplateItems.forEach((item => {\r\n            item.reject()\r\n        }));\r\n        this._asyncTemplateItemsMap = {}\r\n    }\r\n}\r\nexport default CollectionWidgetAsync;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}